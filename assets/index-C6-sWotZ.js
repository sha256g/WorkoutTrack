var PM=Object.defineProperty;var NM=(r,e,t)=>e in r?PM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Me=(r,e,t)=>NM(r,typeof e!="symbol"?e+"":e,t);function LM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var VM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lv={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function BM(){if(rx)return Hh;rx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:a}}return Hh.Fragment=e,Hh.jsx=t,Hh.jsxs=t,Hh}var ix;function UM(){return ix||(ix=1,lv.exports=BM()),lv.exports}var J=UM(),uv={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function FM(){if(sx)return wt;sx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function k(G,xe,Ue){this.props=G,this.context=xe,this.refs=M,this.updater=Ue||S}k.prototype.isReactComponent={},k.prototype.setState=function(G,xe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,xe,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function L(){}L.prototype=k.prototype;function q(G,xe,Ue){this.props=G,this.context=xe,this.refs=M,this.updater=Ue||S}var H=q.prototype=new L;H.constructor=q,T(H,k.prototype),H.isPureReactComponent=!0;var se=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function V(G,xe,Ue,Ie,Ge,ot){return Ue=ot.ref,{$$typeof:r,type:G,key:xe,ref:Ue!==void 0?Ue:null,props:ot}}function I(G,xe){return V(G.type,xe,void 0,void 0,void 0,G.props)}function N(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function U(G){var xe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ue){return xe[Ue]})}var z=/\/+/g;function Y(G,xe){return typeof G=="object"&&G!==null&&G.key!=null?U(""+G.key):xe.toString(36)}function j(){}function Xe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(j,j):(G.status="pending",G.then(function(xe){G.status==="pending"&&(G.status="fulfilled",G.value=xe)},function(xe){G.status==="pending"&&(G.status="rejected",G.reason=xe)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function He(G,xe,Ue,Ie,Ge){var ot=typeof G;(ot==="undefined"||ot==="boolean")&&(G=null);var Ee=!1;if(G===null)Ee=!0;else switch(ot){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(G.$$typeof){case r:case e:Ee=!0;break;case g:return Ee=G._init,He(Ee(G._payload),xe,Ue,Ie,Ge)}}if(Ee)return Ge=Ge(G),Ee=Ie===""?"."+Y(G,0):Ie,se(Ge)?(Ue="",Ee!=null&&(Ue=Ee.replace(z,"$&/")+"/"),He(Ge,xe,Ue,"",function(Pe){return Pe})):Ge!=null&&(N(Ge)&&(Ge=I(Ge,Ue+(Ge.key==null||G&&G.key===Ge.key?"":(""+Ge.key).replace(z,"$&/")+"/")+Ee)),xe.push(Ge)),1;Ee=0;var rt=Ie===""?".":Ie+":";if(se(G))for(var ft=0;ft<G.length;ft++)Ie=G[ft],ot=rt+Y(Ie,ft),Ee+=He(Ie,xe,Ue,ot,Ge);else if(ft=w(G),typeof ft=="function")for(G=ft.call(G),ft=0;!(Ie=G.next()).done;)Ie=Ie.value,ot=rt+Y(Ie,ft++),Ee+=He(Ie,xe,Ue,ot,Ge);else if(ot==="object"){if(typeof G.then=="function")return He(Xe(G),xe,Ue,Ie,Ge);throw xe=String(G),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ie(G,xe,Ue){if(G==null)return G;var Ie=[],Ge=0;return He(G,Ie,"","",function(ot){return xe.call(Ue,ot,Ge++)}),Ie}function we(G){if(G._status===-1){var xe=G._result;xe=xe(),xe.then(function(Ue){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ue)},function(Ue){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ue)}),G._status===-1&&(G._status=0,G._result=xe)}if(G._status===1)return G._result.default;throw G._result}var Ce=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Qe(){}return wt.Children={map:ie,forEach:function(G,xe,Ue){ie(G,function(){xe.apply(this,arguments)},Ue)},count:function(G){var xe=0;return ie(G,function(){xe++}),xe},toArray:function(G){return ie(G,function(xe){return xe})||[]},only:function(G){if(!N(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},wt.Component=k,wt.Fragment=t,wt.Profiler=i,wt.PureComponent=q,wt.StrictMode=n,wt.Suspense=h,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,wt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return X.H.useMemoCache(G)}},wt.cache=function(G){return function(){return G.apply(null,arguments)}},wt.cloneElement=function(G,xe,Ue){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ie=T({},G.props),Ge=G.key,ot=void 0;if(xe!=null)for(Ee in xe.ref!==void 0&&(ot=void 0),xe.key!==void 0&&(Ge=""+xe.key),xe)!de.call(xe,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&xe.ref===void 0||(Ie[Ee]=xe[Ee]);var Ee=arguments.length-2;if(Ee===1)Ie.children=Ue;else if(1<Ee){for(var rt=Array(Ee),ft=0;ft<Ee;ft++)rt[ft]=arguments[ft+2];Ie.children=rt}return V(G.type,Ge,void 0,void 0,ot,Ie)},wt.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},wt.createElement=function(G,xe,Ue){var Ie,Ge={},ot=null;if(xe!=null)for(Ie in xe.key!==void 0&&(ot=""+xe.key),xe)de.call(xe,Ie)&&Ie!=="key"&&Ie!=="__self"&&Ie!=="__source"&&(Ge[Ie]=xe[Ie]);var Ee=arguments.length-2;if(Ee===1)Ge.children=Ue;else if(1<Ee){for(var rt=Array(Ee),ft=0;ft<Ee;ft++)rt[ft]=arguments[ft+2];Ge.children=rt}if(G&&G.defaultProps)for(Ie in Ee=G.defaultProps,Ee)Ge[Ie]===void 0&&(Ge[Ie]=Ee[Ie]);return V(G,ot,void 0,void 0,null,Ge)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(G){return{$$typeof:c,render:G}},wt.isValidElement=N,wt.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:we}},wt.memo=function(G,xe){return{$$typeof:d,type:G,compare:xe===void 0?null:xe}},wt.startTransition=function(G){var xe=X.T,Ue={};X.T=Ue;try{var Ie=G(),Ge=X.S;Ge!==null&&Ge(Ue,Ie),typeof Ie=="object"&&Ie!==null&&typeof Ie.then=="function"&&Ie.then(Qe,Ce)}catch(ot){Ce(ot)}finally{X.T=xe}},wt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},wt.use=function(G){return X.H.use(G)},wt.useActionState=function(G,xe,Ue){return X.H.useActionState(G,xe,Ue)},wt.useCallback=function(G,xe){return X.H.useCallback(G,xe)},wt.useContext=function(G){return X.H.useContext(G)},wt.useDebugValue=function(){},wt.useDeferredValue=function(G,xe){return X.H.useDeferredValue(G,xe)},wt.useEffect=function(G,xe,Ue){var Ie=X.H;if(typeof Ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ie.useEffect(G,xe)},wt.useId=function(){return X.H.useId()},wt.useImperativeHandle=function(G,xe,Ue){return X.H.useImperativeHandle(G,xe,Ue)},wt.useInsertionEffect=function(G,xe){return X.H.useInsertionEffect(G,xe)},wt.useLayoutEffect=function(G,xe){return X.H.useLayoutEffect(G,xe)},wt.useMemo=function(G,xe){return X.H.useMemo(G,xe)},wt.useOptimistic=function(G,xe){return X.H.useOptimistic(G,xe)},wt.useReducer=function(G,xe,Ue){return X.H.useReducer(G,xe,Ue)},wt.useRef=function(G){return X.H.useRef(G)},wt.useState=function(G){return X.H.useState(G)},wt.useSyncExternalStore=function(G,xe,Ue){return X.H.useSyncExternalStore(G,xe,Ue)},wt.useTransition=function(){return X.H.useTransition()},wt.version="19.1.0",wt}var ax;function B_(){return ax||(ax=1,uv.exports=FM()),uv.exports}var K=B_();const Se=V_(K),J1=LM({__proto__:null,default:Se},[K]);var cv={exports:{}},Yh={},hv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function jM(){return ox||(ox=1,function(r){function e(ie,we){var Ce=ie.length;ie.push(we);e:for(;0<Ce;){var Qe=Ce-1>>>1,G=ie[Qe];if(0<i(G,we))ie[Qe]=we,ie[Ce]=G,Ce=Qe;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var we=ie[0],Ce=ie.pop();if(Ce!==we){ie[0]=Ce;e:for(var Qe=0,G=ie.length,xe=G>>>1;Qe<xe;){var Ue=2*(Qe+1)-1,Ie=ie[Ue],Ge=Ue+1,ot=ie[Ge];if(0>i(Ie,Ce))Ge<G&&0>i(ot,Ie)?(ie[Qe]=ot,ie[Ge]=Ce,Qe=Ge):(ie[Qe]=Ie,ie[Ue]=Ce,Qe=Ue);else if(Ge<G&&0>i(ot,Ce))ie[Qe]=ot,ie[Ge]=Ce,Qe=Ge;else break e}}return we}function i(ie,we){var Ce=ie.sortIndex-we.sortIndex;return Ce!==0?Ce:ie.id-we.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var h=[],d=[],g=1,_=null,w=3,S=!1,T=!1,M=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function se(ie){for(var we=t(d);we!==null;){if(we.callback===null)n(d);else if(we.startTime<=ie)n(d),we.sortIndex=we.expirationTime,e(h,we);else break;we=t(d)}}function X(ie){if(M=!1,se(ie),!T)if(t(h)!==null)T=!0,de||(de=!0,Y());else{var we=t(d);we!==null&&He(X,we.startTime-ie)}}var de=!1,V=-1,I=5,N=-1;function U(){return k?!0:!(r.unstable_now()-N<I)}function z(){if(k=!1,de){var ie=r.unstable_now();N=ie;var we=!0;try{e:{T=!1,M&&(M=!1,q(V),V=-1),S=!0;var Ce=w;try{t:{for(se(ie),_=t(h);_!==null&&!(_.expirationTime>ie&&U());){var Qe=_.callback;if(typeof Qe=="function"){_.callback=null,w=_.priorityLevel;var G=Qe(_.expirationTime<=ie);if(ie=r.unstable_now(),typeof G=="function"){_.callback=G,se(ie),we=!0;break t}_===t(h)&&n(h),se(ie)}else n(h);_=t(h)}if(_!==null)we=!0;else{var xe=t(d);xe!==null&&He(X,xe.startTime-ie),we=!1}}break e}finally{_=null,w=Ce,S=!1}we=void 0}}finally{we?Y():de=!1}}}var Y;if(typeof H=="function")Y=function(){H(z)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Xe=j.port2;j.port1.onmessage=z,Y=function(){Xe.postMessage(null)}}else Y=function(){L(z,0)};function He(ie,we){V=L(function(){ie(r.unstable_now())},we)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var we=3;break;default:we=w}var Ce=w;w=we;try{return ie()}finally{w=Ce}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(ie,we){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ce=w;w=ie;try{return we()}finally{w=Ce}},r.unstable_scheduleCallback=function(ie,we,Ce){var Qe=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Qe+Ce:Qe):Ce=Qe,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Ce+G,ie={id:g++,callback:we,priorityLevel:ie,startTime:Ce,expirationTime:G,sortIndex:-1},Ce>Qe?(ie.sortIndex=Ce,e(d,ie),t(h)===null&&ie===t(d)&&(M?(q(V),V=-1):M=!0,He(X,Ce-Qe))):(ie.sortIndex=G,e(h,ie),T||S||(T=!0,de||(de=!0,Y()))),ie},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(ie){var we=w;return function(){var Ce=w;w=we;try{return ie.apply(this,arguments)}finally{w=Ce}}}}(fv)),fv}var lx;function zM(){return lx||(lx=1,hv.exports=jM()),hv.exports}var dv={exports:{}},Br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function HM(){if(ux)return Br;ux=1;var r=B_();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:h,containerInfo:d,implementation:g}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Br.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,g)},Br.flushSync=function(h){var d=l.T,g=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=g,n.d.f()}},Br.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Br.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Br.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,_=c(g,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):g==="script"&&n.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Br.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Br.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=c(g,d.crossOrigin);n.d.L(h,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Br.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Br.requestFormReset=function(h){n.d.r(h)},Br.unstable_batchedUpdates=function(h,d){return h(d)},Br.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},Br.useFormStatus=function(){return l.H.useHostTransitionStatus()},Br.version="19.1.0",Br}var cx;function eD(){if(cx)return dv.exports;cx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dv.exports=HM(),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function YM(){if(hx)return Yh;hx=1;var r=zM(),e=B_(),t=eD();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return c(y),s;if(b===f)return c(y),o;b=b.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=b;else{for(var C=!1,P=y.child;P;){if(P===u){C=!0,u=y,f=b;break}if(P===f){C=!0,f=y,u=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===u){C=!0,u=b,f=y;break}if(P===f){C=!0,f=b,u=y;break}P=P.sibling}if(!C)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case H:return(s.displayName||"Context")+".Provider";case q:return(s._context.displayName||"Context")+".Consumer";case se:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return o=s.displayName||null,o!==null?o:Xe(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return Xe(s(o))}catch{}}return null}var He=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Qe=[],G=-1;function xe(s){return{current:s}}function Ue(s){0>G||(s.current=Qe[G],Qe[G]=null,G--)}function Ie(s,o){G++,Qe[G]=s.current,s.current=o}var Ge=xe(null),ot=xe(null),Ee=xe(null),rt=xe(null);function ft(s,o){switch(Ie(Ee,o),Ie(ot,s),Ie(Ge,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?ME(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=ME(o),s=IE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ue(Ge),Ie(Ge,s)}function Pe(){Ue(Ge),Ue(ot),Ue(Ee)}function st(s){s.memoizedState!==null&&Ie(rt,s);var o=Ge.current,u=IE(o,s.type);o!==u&&(Ie(ot,s),Ie(Ge,u))}function At(s){ot.current===s&&(Ue(Ge),Ue(ot)),rt.current===s&&(Ue(rt),Bh._currentValue=Ce)}var et=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,Bu=r.unstable_requestPaint,ni=r.unstable_now,ih=r.unstable_getCurrentPriorityLevel,Ml=r.unstable_ImmediatePriority,Fs=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,Uu=r.unstable_LowPriority,Li=r.unstable_IdlePriority,vo=r.log,js=r.unstable_setDisableYieldValue,$t=null,Ct=null;function _r(s){if(typeof vo=="function"&&js(s),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode($t,s)}catch{}}var kn=Math.clz32?Math.clz32:Wr,_o=Math.log,bo=Math.LN2;function Wr(s){return s>>>=0,s===0?32:31-(_o(s)/bo|0)|0}var Vi=256,ms=4194304;function Yn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $e(s,o,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=f&134217727;return P!==0?(f=P&~b,f!==0?y=Yn(f):(C&=P,C!==0?y=Yn(C):u||(u=P&~s,u!==0&&(y=Yn(u))))):(P=f&~b,P!==0?y=Yn(P):C!==0?y=Yn(C):u||(u=f&~s,u!==0&&(y=Yn(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function vi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function _i(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var s=Vi;return Vi<<=1,(Vi&4194048)===0&&(Vi=256),s}function Ye(){var s=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),s}function bi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Bi(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ta(s,o,u,f,y,b){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var P=s.entanglements,Q=s.expirationTimes,pe=s.hiddenUpdates;for(u=C&~u;0<u;){var De=31-kn(u),ke=1<<De;P[De]=0,Q[De]=-1;var ge=pe[De];if(ge!==null)for(pe[De]=null,De=0;De<ge.length;De++){var ye=ge[De];ye!==null&&(ye.lane&=-536870913)}u&=~ke}f!==0&&wi(s,f,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~o))}function wi(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-kn(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function Da(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-kn(u),y=1<<f;y&o|s[f]&o&&(s[f]|=o),u&=~y}}function Hs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Kr(){var s=we.p;return s!==0?s:(s=window.event,s===void 0?32:XE(s.type))}function gs(s,o){var u=we.p;try{return we.p=s,o()}finally{we.p=u}}var on=Math.random().toString(36).slice(2),_n="__reactFiber$"+on,gt="__reactProps$"+on,Wt="__reactContainer$"+on,Il="__reactEvents$"+on,Eo="__reactListeners$"+on,Ei="__reactHandles$"+on,Aa="__reactResources$"+on,Ca="__reactMarker$"+on;function br(s){delete s[_n],delete s[gt],delete s[Il],delete s[Eo],delete s[Ei]}function Ir(s){var o=s[_n];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Wt]||u[_n]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=LE(s);s!==null;){if(u=s[_n])return u;s=LE(s)}return o}s=u,u=s.parentNode}return null}function Xn(s){if(s=s[_n]||s[Wt]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Gr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function wr(s){var o=s[Aa];return o||(o=s[Aa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Xt(s){s[Ca]=!0}var xo=new Set,ri={};function ii(s,o){xi(s,o),xi(s+"Capture",o)}function xi(s,o){for(ri[s]=o,s=0;s<o.length;s++)xo.add(o[s])}var dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},Er={};function Ol(s){return et.call(Er,s)?!0:et.call(Ui,s)?!1:dn.test(s)?Er[s]=!0:(Ui[s]=!0,!1)}function Qr(s,o,u){if(Ol(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function $r(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Pn(s,o,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+f)}}var ys,Fi;function ji(s){if(ys===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ys=o&&o[1]||"",Fi=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+s+Fi}var vs=!1;function ka(s,o){if(!s||vs)return"";vs=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ye){var ge=ye}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(ye){ge=ye}s.call(ke.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var Q=C.split(`
`),pe=P.split(`
`);for(y=f=0;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;for(;y<pe.length&&!pe[y].includes("DetermineComponentFrameRoot");)y++;if(f===Q.length||y===pe.length)for(f=Q.length-1,y=pe.length-1;1<=f&&0<=y&&Q[f]!==pe[y];)y--;for(;1<=f&&0<=y;f--,y--)if(Q[f]!==pe[y]){if(f!==1||y!==1)do if(f--,y--,0>y||Q[f]!==pe[y]){var De=`
`+Q[f].replace(" at new "," at ");return s.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",s.displayName)),De}while(1<=f&&0<=y);break}}}finally{vs=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?ji(u):""}function bt(s){switch(s.tag){case 26:case 27:case 5:return ji(s.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return ka(s.type,!1);case 11:return ka(s.type.render,!1);case 1:return ka(s.type,!0);case 31:return ji("Activity");default:return""}}function Ra(s){try{var o="";do o+=bt(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ar(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function So(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(s){var o=So(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){f=""+C,b.call(this,C)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function zi(s){s._valueTracker||(s._valueTracker=en(s))}function _s(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=So(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function si(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pl=/[\n"\\]/g;function bn(s){return s.replace(Pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function or(s,o,u,f,y,b,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+ar(o)):s.value!==""+ar(o)&&(s.value=""+ar(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?Si(s,C,ar(o)):u!=null?Si(s,C,ar(u)):f!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+ar(P):s.removeAttribute("name")}function Ys(s,o,u,f,y,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+ar(u):"",o=o!=null?""+ar(o):u,P||o===s.value||(s.value=o),s.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=P?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function Si(s,o,u){o==="number"&&si(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Hi(s,o,u,f){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+ar(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Vt(s,o,u){if(o!=null&&(o=""+ar(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+ar(u):""}function qs(s,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(n(92));if(He(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=ar(o),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function ai(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(s,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,u):typeof u!="number"||u===0||Et.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Nl(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&To(s,y,f)}else for(var b in o)o.hasOwnProperty(b)&&To(s,b,o[b])}function Ll(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(s){return Ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var lr=null;function Xr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,ln=null;function Or(s){var o=Xn(s);if(o&&(s=o.stateNode)){var u=s[gt]||null;e:switch(s=o.stateNode,o.type){case"input":if(or(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+bn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var y=f[gt]||null;if(!y)throw Error(n(90));or(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===s.form&&_s(f)}break e;case"textarea":Vt(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Hi(s,!!u.multiple,o,!1)}}}var Pr=!1;function Ks(s,o,u){if(Pr)return s(o,u);Pr=!0;try{var f=s(o);return f}finally{if(Pr=!1,(Yi!==null||ln!==null)&&(Ld(),Yi&&(o=Yi,s=ln,ln=Yi=null,Or(o),s)))for(o=0;o<s.length;o++)Or(s[o])}}function ws(s,o){var u=s.stateNode;if(u===null)return null;var f=u[gt]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=!1;if(qn)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){oi=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{oi=!1}var li=null,Es=null,Ti=null;function xs(){if(Ti)return Ti;var s,o=Es,u=o.length,f,y="value"in li?li.value:li.textContent,b=y.length;for(s=0;s<u&&o[s]===y[s];s++);var C=u-s;for(f=1;f<=C&&o[u-f]===y[b-f];f++);return Ti=y.slice(s,1<f?1-f:void 0)}function ui(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Di(){return!0}function Vl(){return!1}function wn(s){function o(u,f,y,b,C){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Di:Vl,this.isPropagationStopped=Vl,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),o}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=wn(Yt),qi=g({},Yt,{view:0,detail:0}),Ma=wn(qi),Gs,Ao,Wi,Ia=g({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wi&&(Wi&&s.type==="mousemove"?(Gs=s.screenX-Wi.screenX,Ao=s.screenY-Wi.screenY):Ao=Gs=0,Wi=s),Gs)},movementY:function(s){return"movementY"in s?s.movementY:Ao}}),Nr=wn(Ia),Co=g({},Ia,{dataTransfer:0}),Fu=wn(Co),Ki=g({},qi,{relatedTarget:0}),Ss=wn(Ki),Qs=g({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=wn(Qs),ju=g({},Yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ts=wn(ju),Bl=g({},Yt,{data:0}),Pa=wn(Bl),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function As(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Nn[s])?!!o[s]:!1}function Ai(){return As}var Ul=g({},qi,{key:function(s){if(s.key){var o=Ds[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ui(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ko[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(s){return s.type==="keypress"?ui(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ui(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Cs=wn(Ul),Fl=g({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=wn(Fl),ci=g({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),Mo=wn(ci),Gi=g({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Io=wn(Gi),Oo=g({},Ia,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ks=wn(Oo),Zn=g({},Yt,{newState:0,oldState:0}),jl=wn(Zn),zu=[9,13,27,32],hi=qn&&"CompositionEvent"in window,p=null;qn&&"documentMode"in document&&(p=document.documentMode);var x=qn&&"TextEvent"in window&&!p,A=qn&&(!hi||p&&8<p&&11>=p),B=" ",he=!1;function be(s,o){switch(s){case"keyup":return zu.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var kt=!1;function Rn(s,o){switch(s){case"compositionend":return Fe(o);case"keypress":return o.which!==32?null:(he=!0,B);case"textInput":return s=o.data,s===B&&he?null:s;default:return null}}function It(s,o){if(kt)return s==="compositionend"||!hi&&be(s,o)?(s=xs(),Ti=Es=li=null,kt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ln[s.type]:o==="textarea"}function Qi(s,o,u,f){Yi?ln?ln.push(f):ln=[f]:Yi=f,o=zd(o,"onChange"),0<o.length&&(u=new Do("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Wn=null,$i=null;function zl(s){DE(s,0)}function Hu(s){var o=Gr(s);if(_s(o))return s}function Hl(s,o){if(s==="change")return o}var Xi=!1;if(qn){var gn;if(qn){var Po="oninput"in document;if(!Po){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Po=typeof Zr.oninput=="function"}gn=Po}else gn=!1;Xi=gn&&(!document.documentMode||9<document.documentMode)}function sd(){Wn&&(Wn.detachEvent("onpropertychange",Yu),$i=Wn=null)}function Yu(s){if(s.propertyName==="value"&&Hu($i)){var o=[];Qi(o,$i,s,Xr(s)),Ks(zl,o)}}function ad(s,o,u){s==="focusin"?(sd(),Wn=o,$i=u,Wn.attachEvent("onpropertychange",Yu)):s==="focusout"&&sd()}function Na(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu($i)}function sh(s,o){if(s==="click")return Hu(o)}function No(s,o){if(s==="input"||s==="change")return Hu(o)}function $s(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Lr=typeof Object.is=="function"?Object.is:$s;function m(s,o){if(Lr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!et.call(o,y)||!Lr(s[y],o[y]))return!1}return!0}function v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E(s,o){var u=v(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=v(u)}}function D(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?D(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function R(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=si(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=si(s.document)}return o}function O(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var F=qn&&"documentMode"in document&&11>=document.documentMode,W=null,ee=null,ne=null,oe=!1;function $(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;oe||W==null||W!==si(f)||(f=W,"selectionStart"in f&&O(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ne&&m(ne,f)||(ne=f,f=zd(ee,"onSelect"),0<f.length&&(o=new Do("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=W)))}function ue(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Z={animationend:ue("Animation","AnimationEnd"),animationiteration:ue("Animation","AnimationIteration"),animationstart:ue("Animation","AnimationStart"),transitionrun:ue("Transition","TransitionRun"),transitionstart:ue("Transition","TransitionStart"),transitioncancel:ue("Transition","TransitionCancel"),transitionend:ue("Transition","TransitionEnd")},ae={},ce={};qn&&(ce=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);function re(s){if(ae[s])return ae[s];if(!Z[s])return s;var o=Z[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in ce)return ae[s]=o[u];return s}var me=re("animationend"),ve=re("animationiteration"),_e=re("animationstart"),Te=re("transitionrun"),Ve=re("transitionstart"),je=re("transitioncancel"),Ne=re("transitionend"),Be=new Map,ze="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ze.push("scrollEnd");function Le(s,o){Be.set(s,o),ii(o,[s])}var We=new WeakMap;function nt(s,o){if(typeof s=="object"&&s!==null){var u=We.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ra(o)},We.set(s,o),o)}return{value:s,source:o,stack:Ra(o)}}var lt=[],yt=0,Sr=0;function dt(){for(var s=yt,o=Sr=yt=0;o<s;){var u=lt[o];lt[o++]=null;var f=lt[o];lt[o++]=null;var y=lt[o];lt[o++]=null;var b=lt[o];if(lt[o++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}b!==0&&cr(u,y,b)}}function Vn(s,o,u,f){lt[yt++]=s,lt[yt++]=o,lt[yt++]=u,lt[yt++]=f,Sr|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Kn(s,o,u,f){return Vn(s,o,u,f),Zi(s)}function Rs(s,o){return Vn(s,null,null,o),Zi(s)}function cr(s,o,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&o!==null&&(y=31-kn(u),s=b.hiddenUpdates,f=s[y],f===null?s[y]=[o]:f.push(o),o.lane=u|536870912),b):null}function Zi(s){if(50<Rh)throw Rh=0,Iy=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Xs={};function _R(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(s,o,u,f){return new _R(s,o,u,f)}function Ag(s){return s=s.prototype,!(!s||!s.isReactComponent)}function La(s,o){var u=s.alternate;return u===null?(u=Ci(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function hb(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function od(s,o,u,f,y,b){var C=0;if(f=s,typeof s=="function")Ag(s)&&(C=1);else if(typeof s=="string")C=wM(s,u,Ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Ci(31,u,o,y),s.elementType=N,s.lanes=b,s;case T:return Yl(u.children,y,b,o);case M:C=8,y|=24;break;case k:return s=Ci(12,u,o,y|2),s.elementType=k,s.lanes=b,s;case X:return s=Ci(13,u,o,y),s.elementType=X,s.lanes=b,s;case de:return s=Ci(19,u,o,y),s.elementType=de,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case H:C=10;break e;case q:C=9;break e;case se:C=11;break e;case V:C=14;break e;case I:C=16,f=null;break e}C=29,u=Error(n(130,s===null?"null":typeof s,"")),f=null}return o=Ci(C,u,o,y),o.elementType=s,o.type=f,o.lanes=b,o}function Yl(s,o,u,f){return s=Ci(7,s,f,o),s.lanes=u,s}function Cg(s,o,u){return s=Ci(6,s,null,o),s.lanes=u,s}function kg(s,o,u){return o=Ci(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var qu=[],Wu=0,ld=null,ud=0,Ji=[],es=0,ql=null,Va=1,Ba="";function Wl(s,o){qu[Wu++]=ud,qu[Wu++]=ld,ld=s,ud=o}function fb(s,o,u){Ji[es++]=Va,Ji[es++]=Ba,Ji[es++]=ql,ql=s;var f=Va;s=Ba;var y=32-kn(f)-1;f&=~(1<<y),u+=1;var b=32-kn(o)+y;if(30<b){var C=y-y%5;b=(f&(1<<C)-1).toString(32),f>>=C,y-=C,Va=1<<32-kn(o)+y|u<<y|f,Ba=b+s}else Va=1<<b|u<<y|f,Ba=s}function Rg(s){s.return!==null&&(Wl(s,1),fb(s,1,0))}function Mg(s){for(;s===ld;)ld=qu[--Wu],qu[Wu]=null,ud=qu[--Wu],qu[Wu]=null;for(;s===ql;)ql=Ji[--es],Ji[es]=null,Ba=Ji[--es],Ji[es]=null,Va=Ji[--es],Ji[es]=null}var Jr=null,Mn=null,Kt=!1,Kl=null,Zs=!1,Ig=Error(n(519));function Gl(s){var o=Error(n(418,""));throw lh(nt(o,s)),Ig}function db(s){var o=s.stateNode,u=s.type,f=s.memoizedProps;switch(o[_n]=s,o[gt]=f,u){case"dialog":Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":case"embed":Mt("load",o);break;case"video":case"audio":for(u=0;u<Ih.length;u++)Mt(Ih[u],o);break;case"source":Mt("error",o);break;case"img":case"image":case"link":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"input":Mt("invalid",o),Ys(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),zi(o);break;case"select":Mt("invalid",o);break;case"textarea":Mt("invalid",o),qs(o,f.value,f.defaultValue,f.children),zi(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||RE(o.textContent,u)?(f.popover!=null&&(Mt("beforetoggle",o),Mt("toggle",o)),f.onScroll!=null&&Mt("scroll",o),f.onScrollEnd!=null&&Mt("scrollend",o),f.onClick!=null&&(o.onclick=Hd),o=!0):o=!1,o||Gl(s)}function pb(s){for(Jr=s.return;Jr;)switch(Jr.tag){case 5:case 13:Zs=!1;return;case 27:case 3:Zs=!0;return;default:Jr=Jr.return}}function ah(s){if(s!==Jr)return!1;if(!Kt)return pb(s),Kt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Gy(s.type,s.memoizedProps)),u=!u),u&&Mn&&Gl(s),pb(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Mn=Is(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Mn=null}}else o===27?(o=Mn,Xo(s.type)?(s=Zy,Zy=null,Mn=s):Mn=o):Mn=Jr?Is(s.stateNode.nextSibling):null;return!0}function oh(){Mn=Jr=null,Kt=!1}function mb(){var s=Kl;return s!==null&&(pi===null?pi=s:pi.push.apply(pi,s),Kl=null),s}function lh(s){Kl===null?Kl=[s]:Kl.push(s)}var Og=xe(null),Ql=null,Ua=null;function Lo(s,o,u){Ie(Og,o._currentValue),o._currentValue=u}function Fa(s){s._currentValue=Og.current,Ue(Og)}function Pg(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Ng(s,o,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=y;for(var Q=0;Q<o.length;Q++)if(P.context===o[Q]){b.lanes|=u,P=b.alternate,P!==null&&(P.lanes|=u),Pg(b.return,u,s),f||(C=null);break e}b=P.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(n(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),Pg(C,u,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function uh(s,o,u,f){s=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(n(387));if(C=C.memoizedProps,C!==null){var P=y.type;Lr(y.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(y===rt.current){if(C=y.alternate,C===null)throw Error(n(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Bh):s=[Bh])}y=y.return}s!==null&&Ng(o,s,u,f),o.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!Lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $l(s){Ql=s,Ua=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vr(s){return gb(Ql,s)}function hd(s,o){return Ql===null&&$l(s),gb(s,o)}function gb(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ua===null){if(s===null)throw Error(n(308));Ua=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ua=Ua.next=o;return u}var bR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},wR=r.unstable_scheduleCallback,ER=r.unstable_NormalPriority,Jn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lg(){return{controller:new bR,data:new Map,refCount:0}}function ch(s){s.refCount--,s.refCount===0&&wR(ER,function(){s.controller.abort()})}var hh=null,Vg=0,Ku=0,Gu=null;function xR(s,o){if(hh===null){var u=hh=[];Vg=0,Ku=Uy(),Gu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Vg++,o.then(yb,yb),o}function yb(){if(--Vg===0&&hh!==null){Gu!==null&&(Gu.status="fulfilled");var s=hh;hh=null,Ku=0,Gu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function SR(s,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var vb=ie.S;ie.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&xR(s,o),vb!==null&&vb(s,o)};var Xl=xe(null);function Bg(){var s=Xl.current;return s!==null?s:pn.pooledCache}function fd(s,o){o===null?Ie(Xl,Xl.current):Ie(Xl,o.pool)}function _b(){var s=Bg();return s===null?null:{parent:Jn._currentValue,pool:s}}var fh=Error(n(460)),bb=Error(n(474)),dd=Error(n(542)),Ug={then:function(){}};function wb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pd(){}function Eb(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(pd,pd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Sb(s),s;default:if(typeof o.status=="string")o.then(pd,pd);else{if(s=pn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Sb(s),s}throw dh=o,fh}}var dh=null;function xb(){if(dh===null)throw Error(n(459));var s=dh;return dh=null,s}function Sb(s){if(s===fh||s===dd)throw Error(n(483))}var Vo=!1;function Fg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jg(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Uo(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(tn&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Zi(s),cr(s,null,u),o}return Vn(s,f,o,u),Zi(s)}function ph(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Da(s,u)}}function zg(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Hg=!1;function mh(){if(Hg){var s=Gu;if(s!==null)throw s}}function gh(s,o,u,f){Hg=!1;var y=s.updateQueue;Vo=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var Q=P,pe=Q.next;Q.next=null,C===null?b=pe:C.next=pe,C=Q;var De=s.alternate;De!==null&&(De=De.updateQueue,P=De.lastBaseUpdate,P!==C&&(P===null?De.firstBaseUpdate=pe:P.next=pe,De.lastBaseUpdate=Q))}if(b!==null){var ke=y.baseState;C=0,De=pe=Q=null,P=b;do{var ge=P.lane&-536870913,ye=ge!==P.lane;if(ye?(Bt&ge)===ge:(f&ge)===ge){ge!==0&&ge===Ku&&(Hg=!0),De!==null&&(De=De.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var pt=s,ut=P;ge=o;var hn=u;switch(ut.tag){case 1:if(pt=ut.payload,typeof pt=="function"){ke=pt.call(hn,ke,ge);break e}ke=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ut.payload,ge=typeof pt=="function"?pt.call(hn,ke,ge):pt,ge==null)break e;ke=g({},ke,ge);break e;case 2:Vo=!0}}ge=P.callback,ge!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:P.tag,payload:P.payload,callback:P.callback,next:null},De===null?(pe=De=ye,Q=ke):De=De.next=ye,C|=ge;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ye=P,P=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);De===null&&(Q=ke),y.baseState=Q,y.firstBaseUpdate=pe,y.lastBaseUpdate=De,b===null&&(y.shared.lanes=0),Ko|=C,s.lanes=C,s.memoizedState=ke}}function Tb(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Db(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Tb(u[s],o)}var Qu=xe(null),md=xe(0);function Ab(s,o){s=Ka,Ie(md,s),Ie(Qu,o),Ka=s|o.baseLanes}function Yg(){Ie(md,Ka),Ie(Qu,Qu.current)}function qg(){Ka=md.current,Ue(Qu),Ue(md)}var Fo=0,xt=null,un=null,Gn=null,gd=!1,$u=!1,Zl=!1,yd=0,yh=0,Xu=null,TR=0;function Bn(){throw Error(n(321))}function Wg(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Lr(s[u],o[u]))return!1;return!0}function Kg(s,o,u,f,y,b){return Fo=b,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ie.H=s===null||s.memoizedState===null?cw:hw,Zl=!1,b=u(f,y),Zl=!1,$u&&(b=kb(o,u,f,y)),Cb(s),b}function Cb(s){ie.H=xd;var o=un!==null&&un.next!==null;if(Fo=0,Gn=un=xt=null,gd=!1,yh=0,Xu=null,o)throw Error(n(300));s===null||hr||(s=s.dependencies,s!==null&&cd(s)&&(hr=!0))}function kb(s,o,u,f){xt=s;var y=0;do{if($u&&(Xu=null),yh=0,$u=!1,25<=y)throw Error(n(301));if(y+=1,Gn=un=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ie.H=IR,b=o(u,f)}while($u);return b}function DR(){var s=ie.H,o=s.useState()[0];return o=typeof o.then=="function"?vh(o):o,s=s.useState()[0],(un!==null?un.memoizedState:null)!==s&&(xt.flags|=1024),o}function Gg(){var s=yd!==0;return yd=0,s}function Qg(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function $g(s){if(gd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}gd=!1}Fo=0,Gn=un=xt=null,$u=!1,yh=yd=0,Xu=null}function fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?xt.memoizedState=Gn=s:Gn=Gn.next=s,Gn}function Qn(){if(un===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var o=Gn===null?xt.memoizedState:Gn.next;if(o!==null)Gn=o,un=s;else{if(s===null)throw xt.alternate===null?Error(n(467)):Error(n(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Gn===null?xt.memoizedState=Gn=s:Gn=Gn.next=s}return Gn}function Xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vh(s){var o=yh;return yh+=1,Xu===null&&(Xu=[]),s=Eb(Xu,s,o),o=xt,(Gn===null?o.memoizedState:Gn.next)===null&&(o=o.alternate,ie.H=o===null||o.memoizedState===null?cw:hw),s}function vd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vh(s);if(s.$$typeof===H)return Vr(s)}throw Error(n(438,String(s)))}function Zg(s){var o=null,u=xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=xt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Xg(),xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),f=0;f<s;f++)u[f]=U;return o.index++,u}function ja(s,o){return typeof o=="function"?o(s):o}function _d(s){var o=Qn();return Jg(o,un,s)}function Jg(s,o,u){var f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=s.baseQueue,b=f.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}o.baseQueue=y=b,f.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{o=y.next;var P=C=null,Q=null,pe=o,De=!1;do{var ke=pe.lane&-536870913;if(ke!==pe.lane?(Bt&ke)===ke:(Fo&ke)===ke){var ge=pe.revertLane;if(ge===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),ke===Ku&&(De=!0);else if((Fo&ge)===ge){pe=pe.next,ge===Ku&&(De=!0);continue}else ke={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Q===null?(P=Q=ke,C=b):Q=Q.next=ke,xt.lanes|=ge,Ko|=ge;ke=pe.action,Zl&&u(b,ke),b=pe.hasEagerState?pe.eagerState:u(b,ke)}else ge={lane:ke,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Q===null?(P=Q=ge,C=b):Q=Q.next=ge,xt.lanes|=ke,Ko|=ke;pe=pe.next}while(pe!==null&&pe!==o);if(Q===null?C=b:Q.next=P,!Lr(b,s.memoizedState)&&(hr=!0,De&&(u=Gu,u!==null)))throw u;s.memoizedState=b,s.baseState=C,s.baseQueue=Q,f.lastRenderedState=b}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function ey(s){var o=Qn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);Lr(b,o.memoizedState)||(hr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function Rb(s,o,u){var f=xt,y=Qn(),b=Kt;if(b){if(u===void 0)throw Error(n(407));u=u()}else u=o();var C=!Lr((un||y).memoizedState,u);C&&(y.memoizedState=u,hr=!0),y=y.queue;var P=Ob.bind(null,f,y,s);if(_h(2048,8,P,[s]),y.getSnapshot!==o||C||Gn!==null&&Gn.memoizedState.tag&1){if(f.flags|=2048,Zu(9,bd(),Ib.bind(null,f,y,u,o),null),pn===null)throw Error(n(349));b||(Fo&124)!==0||Mb(f,o,u)}return u}function Mb(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=xt.updateQueue,o===null?(o=Xg(),xt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ib(s,o,u,f){o.value=u,o.getSnapshot=f,Pb(o)&&Nb(s)}function Ob(s,o,u){return u(function(){Pb(o)&&Nb(s)})}function Pb(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Lr(s,u)}catch{return!0}}function Nb(s){var o=Rs(s,2);o!==null&&Oi(o,s,2)}function ty(s){var o=fi();if(typeof s=="function"){var u=s;if(s=u(),Zl){_r(!0);try{u()}finally{_r(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:s},o}function Lb(s,o,u,f){return s.baseState=u,Jg(s,un,typeof f=="function"?f:ja)}function AR(s,o,u,f,y){if(Ed(s))throw Error(n(485));if(s=o.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};ie.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,Vb(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Vb(s,o){var u=o.action,f=o.payload,y=s.state;if(o.isTransition){var b=ie.T,C={};ie.T=C;try{var P=u(y,f),Q=ie.S;Q!==null&&Q(C,P),Bb(s,o,P)}catch(pe){ny(s,o,pe)}finally{ie.T=b}}else try{b=u(y,f),Bb(s,o,b)}catch(pe){ny(s,o,pe)}}function Bb(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Ub(s,o,f)},function(f){return ny(s,o,f)}):Ub(s,o,u)}function Ub(s,o,u){o.status="fulfilled",o.value=u,Fb(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Vb(s,u)))}function ny(s,o,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Fb(o),o=o.next;while(o!==f)}s.action=null}function Fb(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function jb(s,o){return o}function zb(s,o){if(Kt){var u=pn.formState;if(u!==null){e:{var f=xt;if(Kt){if(Mn){t:{for(var y=Mn,b=Zs;y.nodeType!==8;){if(!b){y=null;break t}if(y=Is(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Mn=Is(y.nextSibling),f=y.data==="F!";break e}}Gl(f)}f=!1}f&&(o=u[0])}}return u=fi(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jb,lastRenderedState:o},u.queue=f,u=ow.bind(null,xt,f),f.dispatch=u,f=ty(!1),b=oy.bind(null,xt,!1,f.queue),f=fi(),y={state:o,dispatch:null,action:s,pending:null},f.queue=y,u=AR.bind(null,xt,y,b,u),y.dispatch=u,f.memoizedState=s,[o,u,!1]}function Hb(s){var o=Qn();return Yb(o,un,s)}function Yb(s,o,u){if(o=Jg(s,o,jb)[0],s=_d(ja)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=vh(o)}catch(C){throw C===fh?dd:C}else f=o;o=Qn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(xt.flags|=2048,Zu(9,bd(),CR.bind(null,y,u),null)),[f,b,s]}function CR(s,o){s.action=o}function qb(s){var o=Qn(),u=un;if(u!==null)return Yb(o,u,s);Qn(),o=o.memoizedState,u=Qn();var f=u.queue.dispatch;return u.memoizedState=s,[o,f,!1]}function Zu(s,o,u,f){return s={tag:s,create:u,deps:f,inst:o,next:null},o=xt.updateQueue,o===null&&(o=Xg(),xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s),s}function bd(){return{destroy:void 0,resource:void 0}}function Wb(){return Qn().memoizedState}function wd(s,o,u,f){var y=fi();f=f===void 0?null:f,xt.flags|=s,y.memoizedState=Zu(1|o,bd(),u,f)}function _h(s,o,u,f){var y=Qn();f=f===void 0?null:f;var b=y.memoizedState.inst;un!==null&&f!==null&&Wg(f,un.memoizedState.deps)?y.memoizedState=Zu(o,b,u,f):(xt.flags|=s,y.memoizedState=Zu(1|o,b,u,f))}function Kb(s,o){wd(8390656,8,s,o)}function Gb(s,o){_h(2048,8,s,o)}function Qb(s,o){return _h(4,2,s,o)}function $b(s,o){return _h(4,4,s,o)}function Xb(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Zb(s,o,u){u=u!=null?u.concat([s]):null,_h(4,4,Xb.bind(null,o,s),u)}function ry(){}function Jb(s,o){var u=Qn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Wg(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function ew(s,o){var u=Qn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Wg(o,f[1]))return f[0];if(f=s(),Zl){_r(!0);try{s()}finally{_r(!1)}}return u.memoizedState=[f,o],f}function iy(s,o,u){return u===void 0||(Fo&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=rE(),xt.lanes|=s,Ko|=s,u)}function tw(s,o,u,f){return Lr(u,o)?u:Qu.current!==null?(s=iy(s,u,f),Lr(s,o)||(hr=!0),s):(Fo&42)===0?(hr=!0,s.memoizedState=u):(s=rE(),xt.lanes|=s,Ko|=s,o)}function nw(s,o,u,f,y){var b=we.p;we.p=b!==0&&8>b?b:8;var C=ie.T,P={};ie.T=P,oy(s,!1,o,u);try{var Q=y(),pe=ie.S;if(pe!==null&&pe(P,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var De=SR(Q,f);bh(s,o,De,Ii(s))}else bh(s,o,f,Ii(s))}catch(ke){bh(s,o,{then:function(){},status:"rejected",reason:ke},Ii())}finally{we.p=b,ie.T=C}}function kR(){}function sy(s,o,u,f){if(s.tag!==5)throw Error(n(476));var y=rw(s).queue;nw(s,y,o,Ce,u===null?kR:function(){return iw(s),u(f)})}function rw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:Ce},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function iw(s){var o=rw(s).next.queue;bh(s,o,{},Ii())}function ay(){return Vr(Bh)}function sw(){return Qn().memoizedState}function aw(){return Qn().memoizedState}function RR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ii();s=Bo(u);var f=Uo(o,s,u);f!==null&&(Oi(f,o,u),ph(f,o,u)),o={cache:Lg()},s.payload=o;return}o=o.return}}function MR(s,o,u){var f=Ii();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ed(s)?lw(o,u):(u=Kn(s,o,u,f),u!==null&&(Oi(u,s,f),uw(u,o,f)))}function ow(s,o,u){var f=Ii();bh(s,o,u,f)}function bh(s,o,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))lw(o,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,P=b(C,u);if(y.hasEagerState=!0,y.eagerState=P,Lr(P,C))return Vn(s,o,y,0),pn===null&&dt(),!1}catch{}finally{}if(u=Kn(s,o,y,f),u!==null)return Oi(u,s,f),uw(u,o,f),!0}return!1}function oy(s,o,u,f){if(f={lane:2,revertLane:Uy(),action:f,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(o)throw Error(n(479))}else o=Kn(s,u,f,2),o!==null&&Oi(o,s,2)}function Ed(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function lw(s,o){$u=gd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function uw(s,o,u){if((u&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Da(s,u)}}var xd={readContext:Vr,use:vd,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useLayoutEffect:Bn,useInsertionEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useSyncExternalStore:Bn,useId:Bn,useHostTransitionStatus:Bn,useFormState:Bn,useActionState:Bn,useOptimistic:Bn,useMemoCache:Bn,useCacheRefresh:Bn},cw={readContext:Vr,use:vd,useCallback:function(s,o){return fi().memoizedState=[s,o===void 0?null:o],s},useContext:Vr,useEffect:Kb,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,wd(4194308,4,Xb.bind(null,o,s),u)},useLayoutEffect:function(s,o){return wd(4194308,4,s,o)},useInsertionEffect:function(s,o){wd(4,2,s,o)},useMemo:function(s,o){var u=fi();o=o===void 0?null:o;var f=s();if(Zl){_r(!0);try{s()}finally{_r(!1)}}return u.memoizedState=[f,o],f},useReducer:function(s,o,u){var f=fi();if(u!==void 0){var y=u(o);if(Zl){_r(!0);try{u(o)}finally{_r(!1)}}}else y=o;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=MR.bind(null,xt,s),[f.memoizedState,s]},useRef:function(s){var o=fi();return s={current:s},o.memoizedState=s},useState:function(s){s=ty(s);var o=s.queue,u=ow.bind(null,xt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:ry,useDeferredValue:function(s,o){var u=fi();return iy(u,s,o)},useTransition:function(){var s=ty(!1);return s=nw.bind(null,xt,s.queue,!0,!1),fi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var f=xt,y=fi();if(Kt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),pn===null)throw Error(n(349));(Bt&124)!==0||Mb(f,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,Kb(Ob.bind(null,f,b,s),[s]),f.flags|=2048,Zu(9,bd(),Ib.bind(null,f,b,u,o),null),u},useId:function(){var s=fi(),o=pn.identifierPrefix;if(Kt){var u=Ba,f=Va;u=(f&~(1<<32-kn(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=yd++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=TR++,o="«"+o+"r"+u.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:ay,useFormState:zb,useActionState:zb,useOptimistic:function(s){var o=fi();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=oy.bind(null,xt,!0,u),u.dispatch=o,[s,o]},useMemoCache:Zg,useCacheRefresh:function(){return fi().memoizedState=RR.bind(null,xt)}},hw={readContext:Vr,use:vd,useCallback:Jb,useContext:Vr,useEffect:Gb,useImperativeHandle:Zb,useInsertionEffect:Qb,useLayoutEffect:$b,useMemo:ew,useReducer:_d,useRef:Wb,useState:function(){return _d(ja)},useDebugValue:ry,useDeferredValue:function(s,o){var u=Qn();return tw(u,un.memoizedState,s,o)},useTransition:function(){var s=_d(ja)[0],o=Qn().memoizedState;return[typeof s=="boolean"?s:vh(s),o]},useSyncExternalStore:Rb,useId:sw,useHostTransitionStatus:ay,useFormState:Hb,useActionState:Hb,useOptimistic:function(s,o){var u=Qn();return Lb(u,un,s,o)},useMemoCache:Zg,useCacheRefresh:aw},IR={readContext:Vr,use:vd,useCallback:Jb,useContext:Vr,useEffect:Gb,useImperativeHandle:Zb,useInsertionEffect:Qb,useLayoutEffect:$b,useMemo:ew,useReducer:ey,useRef:Wb,useState:function(){return ey(ja)},useDebugValue:ry,useDeferredValue:function(s,o){var u=Qn();return un===null?iy(u,s,o):tw(u,un.memoizedState,s,o)},useTransition:function(){var s=ey(ja)[0],o=Qn().memoizedState;return[typeof s=="boolean"?s:vh(s),o]},useSyncExternalStore:Rb,useId:sw,useHostTransitionStatus:ay,useFormState:qb,useActionState:qb,useOptimistic:function(s,o){var u=Qn();return un!==null?Lb(u,un,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Zg,useCacheRefresh:aw},Ju=null,wh=0;function Sd(s){var o=wh;return wh+=1,Ju===null&&(Ju=[]),Eb(Ju,s,o)}function Eh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Td(s,o){throw o.$$typeof===_?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function fw(s){var o=s._init;return o(s._payload)}function dw(s){function o(le,te){if(s){var fe=le.deletions;fe===null?(le.deletions=[te],le.flags|=16):fe.push(te)}}function u(le,te){if(!s)return null;for(;te!==null;)o(le,te),te=te.sibling;return null}function f(le){for(var te=new Map;le!==null;)le.key!==null?te.set(le.key,le):te.set(le.index,le),le=le.sibling;return te}function y(le,te){return le=La(le,te),le.index=0,le.sibling=null,le}function b(le,te,fe){return le.index=fe,s?(fe=le.alternate,fe!==null?(fe=fe.index,fe<te?(le.flags|=67108866,te):fe):(le.flags|=67108866,te)):(le.flags|=1048576,te)}function C(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function P(le,te,fe,Ae){return te===null||te.tag!==6?(te=Cg(fe,le.mode,Ae),te.return=le,te):(te=y(te,fe),te.return=le,te)}function Q(le,te,fe,Ae){var Ze=fe.type;return Ze===T?De(le,te,fe.props.children,Ae,fe.key):te!==null&&(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===I&&fw(Ze)===te.type)?(te=y(te,fe.props),Eh(te,fe),te.return=le,te):(te=od(fe.type,fe.key,fe.props,null,le.mode,Ae),Eh(te,fe),te.return=le,te)}function pe(le,te,fe,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==fe.containerInfo||te.stateNode.implementation!==fe.implementation?(te=kg(fe,le.mode,Ae),te.return=le,te):(te=y(te,fe.children||[]),te.return=le,te)}function De(le,te,fe,Ae,Ze){return te===null||te.tag!==7?(te=Yl(fe,le.mode,Ae,Ze),te.return=le,te):(te=y(te,fe),te.return=le,te)}function ke(le,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Cg(""+te,le.mode,fe),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return fe=od(te.type,te.key,te.props,null,le.mode,fe),Eh(fe,te),fe.return=le,fe;case S:return te=kg(te,le.mode,fe),te.return=le,te;case I:var Ae=te._init;return te=Ae(te._payload),ke(le,te,fe)}if(He(te)||Y(te))return te=Yl(te,le.mode,fe,null),te.return=le,te;if(typeof te.then=="function")return ke(le,Sd(te),fe);if(te.$$typeof===H)return ke(le,hd(le,te),fe);Td(le,te)}return null}function ge(le,te,fe,Ae){var Ze=te!==null?te.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Ze!==null?null:P(le,te,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return fe.key===Ze?Q(le,te,fe,Ae):null;case S:return fe.key===Ze?pe(le,te,fe,Ae):null;case I:return Ze=fe._init,fe=Ze(fe._payload),ge(le,te,fe,Ae)}if(He(fe)||Y(fe))return Ze!==null?null:De(le,te,fe,Ae,null);if(typeof fe.then=="function")return ge(le,te,Sd(fe),Ae);if(fe.$$typeof===H)return ge(le,te,hd(le,fe),Ae);Td(le,fe)}return null}function ye(le,te,fe,Ae,Ze){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return le=le.get(fe)||null,P(te,le,""+Ae,Ze);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return le=le.get(Ae.key===null?fe:Ae.key)||null,Q(te,le,Ae,Ze);case S:return le=le.get(Ae.key===null?fe:Ae.key)||null,pe(te,le,Ae,Ze);case I:var Dt=Ae._init;return Ae=Dt(Ae._payload),ye(le,te,fe,Ae,Ze)}if(He(Ae)||Y(Ae))return le=le.get(fe)||null,De(te,le,Ae,Ze,null);if(typeof Ae.then=="function")return ye(le,te,fe,Sd(Ae),Ze);if(Ae.$$typeof===H)return ye(le,te,fe,hd(te,Ae),Ze);Td(te,Ae)}return null}function pt(le,te,fe,Ae){for(var Ze=null,Dt=null,tt=te,ct=te=0,dr=null;tt!==null&&ct<fe.length;ct++){tt.index>ct?(dr=tt,tt=null):dr=tt.sibling;var qt=ge(le,tt,fe[ct],Ae);if(qt===null){tt===null&&(tt=dr);break}s&&tt&&qt.alternate===null&&o(le,tt),te=b(qt,te,ct),Dt===null?Ze=qt:Dt.sibling=qt,Dt=qt,tt=dr}if(ct===fe.length)return u(le,tt),Kt&&Wl(le,ct),Ze;if(tt===null){for(;ct<fe.length;ct++)tt=ke(le,fe[ct],Ae),tt!==null&&(te=b(tt,te,ct),Dt===null?Ze=tt:Dt.sibling=tt,Dt=tt);return Kt&&Wl(le,ct),Ze}for(tt=f(tt);ct<fe.length;ct++)dr=ye(tt,le,ct,fe[ct],Ae),dr!==null&&(s&&dr.alternate!==null&&tt.delete(dr.key===null?ct:dr.key),te=b(dr,te,ct),Dt===null?Ze=dr:Dt.sibling=dr,Dt=dr);return s&&tt.forEach(function(nl){return o(le,nl)}),Kt&&Wl(le,ct),Ze}function ut(le,te,fe,Ae){if(fe==null)throw Error(n(151));for(var Ze=null,Dt=null,tt=te,ct=te=0,dr=null,qt=fe.next();tt!==null&&!qt.done;ct++,qt=fe.next()){tt.index>ct?(dr=tt,tt=null):dr=tt.sibling;var nl=ge(le,tt,qt.value,Ae);if(nl===null){tt===null&&(tt=dr);break}s&&tt&&nl.alternate===null&&o(le,tt),te=b(nl,te,ct),Dt===null?Ze=nl:Dt.sibling=nl,Dt=nl,tt=dr}if(qt.done)return u(le,tt),Kt&&Wl(le,ct),Ze;if(tt===null){for(;!qt.done;ct++,qt=fe.next())qt=ke(le,qt.value,Ae),qt!==null&&(te=b(qt,te,ct),Dt===null?Ze=qt:Dt.sibling=qt,Dt=qt);return Kt&&Wl(le,ct),Ze}for(tt=f(tt);!qt.done;ct++,qt=fe.next())qt=ye(tt,le,ct,qt.value,Ae),qt!==null&&(s&&qt.alternate!==null&&tt.delete(qt.key===null?ct:qt.key),te=b(qt,te,ct),Dt===null?Ze=qt:Dt.sibling=qt,Dt=qt);return s&&tt.forEach(function(OM){return o(le,OM)}),Kt&&Wl(le,ct),Ze}function hn(le,te,fe,Ae){if(typeof fe=="object"&&fe!==null&&fe.type===T&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:e:{for(var Ze=fe.key;te!==null;){if(te.key===Ze){if(Ze=fe.type,Ze===T){if(te.tag===7){u(le,te.sibling),Ae=y(te,fe.props.children),Ae.return=le,le=Ae;break e}}else if(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===I&&fw(Ze)===te.type){u(le,te.sibling),Ae=y(te,fe.props),Eh(Ae,fe),Ae.return=le,le=Ae;break e}u(le,te);break}else o(le,te);te=te.sibling}fe.type===T?(Ae=Yl(fe.props.children,le.mode,Ae,fe.key),Ae.return=le,le=Ae):(Ae=od(fe.type,fe.key,fe.props,null,le.mode,Ae),Eh(Ae,fe),Ae.return=le,le=Ae)}return C(le);case S:e:{for(Ze=fe.key;te!==null;){if(te.key===Ze)if(te.tag===4&&te.stateNode.containerInfo===fe.containerInfo&&te.stateNode.implementation===fe.implementation){u(le,te.sibling),Ae=y(te,fe.children||[]),Ae.return=le,le=Ae;break e}else{u(le,te);break}else o(le,te);te=te.sibling}Ae=kg(fe,le.mode,Ae),Ae.return=le,le=Ae}return C(le);case I:return Ze=fe._init,fe=Ze(fe._payload),hn(le,te,fe,Ae)}if(He(fe))return pt(le,te,fe,Ae);if(Y(fe)){if(Ze=Y(fe),typeof Ze!="function")throw Error(n(150));return fe=Ze.call(fe),ut(le,te,fe,Ae)}if(typeof fe.then=="function")return hn(le,te,Sd(fe),Ae);if(fe.$$typeof===H)return hn(le,te,hd(le,fe),Ae);Td(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,te!==null&&te.tag===6?(u(le,te.sibling),Ae=y(te,fe),Ae.return=le,le=Ae):(u(le,te),Ae=Cg(fe,le.mode,Ae),Ae.return=le,le=Ae),C(le)):u(le,te)}return function(le,te,fe,Ae){try{wh=0;var Ze=hn(le,te,fe,Ae);return Ju=null,Ze}catch(tt){if(tt===fh||tt===dd)throw tt;var Dt=Ci(29,tt,null,le.mode);return Dt.lanes=Ae,Dt.return=le,Dt}finally{}}}var ec=dw(!0),pw=dw(!1),ts=xe(null),Js=null;function jo(s){var o=s.alternate;Ie(er,er.current&1),Ie(ts,s),Js===null&&(o===null||Qu.current!==null||o.memoizedState!==null)&&(Js=s)}function mw(s){if(s.tag===22){if(Ie(er,er.current),Ie(ts,s),Js===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Js=s)}}else zo()}function zo(){Ie(er,er.current),Ie(ts,ts.current)}function za(s){Ue(ts),Js===s&&(Js=null),Ue(er)}var er=xe(0);function Dd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Xy(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ly(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:g({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var uy={enqueueSetState:function(s,o,u){s=s._reactInternals;var f=Ii(),y=Bo(f);y.payload=o,u!=null&&(y.callback=u),o=Uo(s,y,f),o!==null&&(Oi(o,s,f),ph(o,s,f))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=Ii(),y=Bo(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Uo(s,y,f),o!==null&&(Oi(o,s,f),ph(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Ii(),f=Bo(u);f.tag=2,o!=null&&(f.callback=o),o=Uo(s,f,u),o!==null&&(Oi(o,s,u),ph(o,s,u))}};function gw(s,o,u,f,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,C):o.prototype&&o.prototype.isPureReactComponent?!m(u,f)||!m(y,b):!0}function yw(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&uy.enqueueReplaceState(o,o.state,null)}function Jl(s,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(s=s.defaultProps){u===o&&(u=g({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var Ad=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function vw(s){Ad(s)}function _w(s){console.error(s)}function bw(s){Ad(s)}function Cd(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function ww(s,o,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function cy(s,o,u){return u=Bo(u),u.tag=3,u.payload={element:null},u.callback=function(){Cd(s,o)},u}function Ew(s){return s=Bo(s),s.tag=3,s}function xw(s,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;s.payload=function(){return y(b)},s.callback=function(){ww(o,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){ww(o,u,f),typeof y!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function OR(s,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&uh(o,u,y,!0),u=ts.current,u!==null){switch(u.tag){case 13:return Js===null?Py():u.alternate===null&&In===0&&(In=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Ug?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Ly(s,f,y)),!1;case 22:return u.flags|=65536,f===Ug?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Ly(s,f,y)),!1}throw Error(n(435,u.tag))}return Ly(s,f,y),Py(),!1}if(Kt)return o=ts.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Ig&&(s=Error(n(422),{cause:f}),lh(nt(s,u)))):(f!==Ig&&(o=Error(n(423),{cause:f}),lh(nt(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=nt(f,u),y=cy(s.stateNode,f,y),zg(s,y),In!==4&&(In=2)),!1;var b=Error(n(520),{cause:f});if(b=nt(b,u),kh===null?kh=[b]:kh.push(b),In!==4&&(In=2),o===null)return!0;f=nt(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=cy(u.stateNode,f,s),zg(u,s),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Go===null||!Go.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Ew(y),xw(y,s,u,f),zg(u,y),!1}u=u.return}while(u!==null);return!1}var Sw=Error(n(461)),hr=!1;function Tr(s,o,u,f){o.child=s===null?pw(o,null,u,f):ec(o,s.child,u,f)}function Tw(s,o,u,f,y){u=u.render;var b=o.ref;if("ref"in f){var C={};for(var P in f)P!=="ref"&&(C[P]=f[P])}else C=f;return $l(o),f=Kg(s,o,u,C,b,y),P=Gg(),s!==null&&!hr?(Qg(s,o,y),Ha(s,o,y)):(Kt&&P&&Rg(o),o.flags|=1,Tr(s,o,f,y),o.child)}function Dw(s,o,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!Ag(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,Aw(s,o,b,f,y)):(s=od(u.type,null,f,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!vy(s,y)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:m,u(C,f)&&s.ref===o.ref)return Ha(s,o,y)}return o.flags|=1,s=La(b,f),s.ref=o.ref,s.return=o,o.child=s}function Aw(s,o,u,f,y){if(s!==null){var b=s.memoizedProps;if(m(b,f)&&s.ref===o.ref)if(hr=!1,o.pendingProps=f=b,vy(s,y))(s.flags&131072)!==0&&(hr=!0);else return o.lanes=s.lanes,Ha(s,o,y)}return hy(s,o,u,f,y)}function Cw(s,o,u){var f=o.pendingProps,y=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,s!==null){for(y=o.child=s.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return kw(s,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&fd(o,b!==null?b.cachePool:null),b!==null?Ab(o,b):Yg(),mw(o);else return o.lanes=o.childLanes=536870912,kw(s,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(fd(o,b.cachePool),Ab(o,b),zo(),o.memoizedState=null):(s!==null&&fd(o,null),Yg(),zo());return Tr(s,o,y,u),o.child}function kw(s,o,u,f){var y=Bg();return y=y===null?null:{parent:Jn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&fd(o,null),Yg(),mw(o),s!==null&&uh(s,o,f,!0),null}function kd(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function hy(s,o,u,f,y){return $l(o),u=Kg(s,o,u,f,void 0,y),f=Gg(),s!==null&&!hr?(Qg(s,o,y),Ha(s,o,y)):(Kt&&f&&Rg(o),o.flags|=1,Tr(s,o,u,y),o.child)}function Rw(s,o,u,f,y,b){return $l(o),o.updateQueue=null,u=kb(o,f,u,y),Cb(s),f=Gg(),s!==null&&!hr?(Qg(s,o,b),Ha(s,o,b)):(Kt&&f&&Rg(o),o.flags|=1,Tr(s,o,u,b),o.child)}function Mw(s,o,u,f,y){if($l(o),o.stateNode===null){var b=Xs,C=u.contextType;typeof C=="object"&&C!==null&&(b=Vr(C)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=uy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Fg(o),C=u.contextType,b.context=typeof C=="object"&&C!==null?Vr(C):Xs,b.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(ly(o,u,C,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&uy.enqueueReplaceState(b,b.state,null),gh(o,f,b,y),mh(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){b=o.stateNode;var P=o.memoizedProps,Q=Jl(u,P);b.props=Q;var pe=b.context,De=u.contextType;C=Xs,typeof De=="object"&&De!==null&&(C=Vr(De));var ke=u.getDerivedStateFromProps;De=typeof ke=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,De||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||pe!==C)&&yw(o,b,f,C),Vo=!1;var ge=o.memoizedState;b.state=ge,gh(o,f,b,y),mh(),pe=o.memoizedState,P||ge!==pe||Vo?(typeof ke=="function"&&(ly(o,u,ke,f),pe=o.memoizedState),(Q=Vo||gw(o,u,Q,f,ge,pe,C))?(De||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=pe),b.props=f,b.state=pe,b.context=C,f=Q):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,jg(s,o),C=o.memoizedProps,De=Jl(u,C),b.props=De,ke=o.pendingProps,ge=b.context,pe=u.contextType,Q=Xs,typeof pe=="object"&&pe!==null&&(Q=Vr(pe)),P=u.getDerivedStateFromProps,(pe=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ke||ge!==Q)&&yw(o,b,f,Q),Vo=!1,ge=o.memoizedState,b.state=ge,gh(o,f,b,y),mh();var ye=o.memoizedState;C!==ke||ge!==ye||Vo||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof P=="function"&&(ly(o,u,P,f),ye=o.memoizedState),(De=Vo||gw(o,u,De,f,ge,ye,Q)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(pe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ye,Q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ye,Q)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),b.props=f,b.state=ye,b.context=Q,f=De):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ge===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ge===s.memoizedState||(o.flags|=1024),f=!1)}return b=f,kd(s,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&f?(o.child=ec(o,s.child,null,y),o.child=ec(o,null,u,y)):Tr(s,o,u,y),o.memoizedState=b.state,s=o.child):s=Ha(s,o,y),s}function Iw(s,o,u,f){return oh(),o.flags|=256,Tr(s,o,u,f),o.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(s){return{baseLanes:s,cachePool:_b()}}function py(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=ns),s}function Ow(s,o,u){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(er.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(Kt){if(y?jo(o):zo(),Kt){var P=Mn,Q;if(Q=P){e:{for(Q=P,P=Zs;Q.nodeType!==8;){if(!P){P=null;break e}if(Q=Is(Q.nextSibling),Q===null){P=null;break e}}P=Q}P!==null?(o.memoizedState={dehydrated:P,treeContext:ql!==null?{id:Va,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},Q=Ci(18,null,null,0),Q.stateNode=P,Q.return=o,o.child=Q,Jr=o,Mn=null,Q=!0):Q=!1}Q||Gl(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Xy(P)?o.lanes=32:o.lanes=536870912,null;za(o)}return P=f.children,f=f.fallback,y?(zo(),y=o.mode,P=Rd({mode:"hidden",children:P},y),f=Yl(f,y,u,null),P.return=o,f.return=o,P.sibling=f,o.child=P,y=o.child,y.memoizedState=dy(u),y.childLanes=py(s,C,u),o.memoizedState=fy,f):(jo(o),my(o,P))}if(Q=s.memoizedState,Q!==null&&(P=Q.dehydrated,P!==null)){if(b)o.flags&256?(jo(o),o.flags&=-257,o=gy(s,o,u)):o.memoizedState!==null?(zo(),o.child=s.child,o.flags|=128,o=null):(zo(),y=f.fallback,P=o.mode,f=Rd({mode:"visible",children:f.children},P),y=Yl(y,P,u,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,ec(o,s.child,null,u),f=o.child,f.memoizedState=dy(u),f.childLanes=py(s,C,u),o.memoizedState=fy,o=y);else if(jo(o),Xy(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var pe=C.dgst;C=pe,f=Error(n(419)),f.stack="",f.digest=C,lh({value:f,source:null,stack:null}),o=gy(s,o,u)}else if(hr||uh(s,o,u,!1),C=(u&s.childLanes)!==0,hr||C){if(C=pn,C!==null&&(f=u&-u,f=(f&42)!==0?1:Hs(f),f=(f&(C.suspendedLanes|u))!==0?0:f,f!==0&&f!==Q.retryLane))throw Q.retryLane=f,Rs(s,f),Oi(C,s,f),Sw;P.data==="$?"||Py(),o=gy(s,o,u)}else P.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=Q.treeContext,Mn=Is(P.nextSibling),Jr=o,Kt=!0,Kl=null,Zs=!1,s!==null&&(Ji[es++]=Va,Ji[es++]=Ba,Ji[es++]=ql,Va=s.id,Ba=s.overflow,ql=o),o=my(o,f.children),o.flags|=4096);return o}return y?(zo(),y=f.fallback,P=o.mode,Q=s.child,pe=Q.sibling,f=La(Q,{mode:"hidden",children:f.children}),f.subtreeFlags=Q.subtreeFlags&65011712,pe!==null?y=La(pe,y):(y=Yl(y,P,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,P=s.child.memoizedState,P===null?P=dy(u):(Q=P.cachePool,Q!==null?(pe=Jn._currentValue,Q=Q.parent!==pe?{parent:pe,pool:pe}:Q):Q=_b(),P={baseLanes:P.baseLanes|u,cachePool:Q}),y.memoizedState=P,y.childLanes=py(s,C,u),o.memoizedState=fy,f):(jo(o),u=s.child,s=u.sibling,u=La(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=u,o.memoizedState=null,u)}function my(s,o){return o=Rd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Rd(s,o){return s=Ci(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function gy(s,o,u){return ec(o,s.child,null,u),s=my(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Pw(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Pg(s.return,o,u)}function yy(s,o,u,f,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=y)}function Nw(s,o,u){var f=o.pendingProps,y=f.revealOrder,b=f.tail;if(Tr(s,o,f.children,u),f=er.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pw(s,u,o);else if(s.tag===19)Pw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(Ie(er,f),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&Dd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),yy(o,!1,y,u,b);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Dd(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}yy(o,!0,u,null,b);break;case"together":yy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ha(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ko|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(uh(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=La(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=La(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function vy(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function PR(s,o,u){switch(o.tag){case 3:ft(o,o.stateNode.containerInfo),Lo(o,Jn,s.memoizedState.cache),oh();break;case 27:case 5:st(o);break;case 4:ft(o,o.stateNode.containerInfo);break;case 10:Lo(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(jo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Ow(s,o,u):(jo(o),s=Ha(s,o,u),s!==null?s.sibling:null);jo(o);break;case 19:var y=(s.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(uh(s,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return Nw(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ie(er,er.current),f)break;return null;case 22:case 23:return o.lanes=0,Cw(s,o,u);case 24:Lo(o,Jn,s.memoizedState.cache)}return Ha(s,o,u)}function Lw(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)hr=!0;else{if(!vy(s,u)&&(o.flags&128)===0)return hr=!1,PR(s,o,u);hr=(s.flags&131072)!==0}else hr=!1,Kt&&(o.flags&1048576)!==0&&fb(o,ud,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")Ag(f)?(s=Jl(f,s),o.tag=1,o=Mw(null,o,f,s,u)):(o.tag=0,o=hy(null,o,f,s,u));else{if(f!=null){if(y=f.$$typeof,y===se){o.tag=11,o=Tw(null,o,f,s,u);break e}else if(y===V){o.tag=14,o=Dw(null,o,f,s,u);break e}}throw o=Xe(f)||f,Error(n(306,o,""))}}return o;case 0:return hy(s,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Jl(f,o.pendingProps),Mw(s,o,f,y,u);case 3:e:{if(ft(o,o.stateNode.containerInfo),s===null)throw Error(n(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,jg(s,o),gh(o,f,null,u);var C=o.memoizedState;if(f=C.cache,Lo(o,Jn,f),f!==b.cache&&Ng(o,[Jn],u,!0),mh(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Iw(s,o,f,u);break e}else if(f!==y){y=nt(Error(n(424)),o),lh(y),o=Iw(s,o,f,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mn=Is(s.firstChild),Jr=o,Kt=!0,Kl=null,Zs=!0,u=pw(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(oh(),f===y){o=Ha(s,o,u);break e}Tr(s,o,f,u)}o=o.child}return o;case 26:return kd(s,o),s===null?(u=FE(o.type,null,o.pendingProps,null))?o.memoizedState=u:Kt||(u=o.type,s=o.pendingProps,f=Yd(Ee.current).createElement(u),f[_n]=o,f[gt]=s,Ar(f,u,s),Xt(f),o.stateNode=f):o.memoizedState=FE(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return st(o),s===null&&Kt&&(f=o.stateNode=VE(o.type,o.pendingProps,Ee.current),Jr=o,Zs=!0,y=Mn,Xo(o.type)?(Zy=y,Mn=Is(f.firstChild)):Mn=y),Tr(s,o,o.pendingProps.children,u),kd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Kt&&((y=f=Mn)&&(f=lM(f,o.type,o.pendingProps,Zs),f!==null?(o.stateNode=f,Jr=o,Mn=Is(f.firstChild),Zs=!1,y=!0):y=!1),y||Gl(o)),st(o),y=o.type,b=o.pendingProps,C=s!==null?s.memoizedProps:null,f=b.children,Gy(y,b)?f=null:C!==null&&Gy(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Kg(s,o,DR,null,null,u),Bh._currentValue=y),kd(s,o),Tr(s,o,f,u),o.child;case 6:return s===null&&Kt&&((s=u=Mn)&&(u=uM(u,o.pendingProps,Zs),u!==null?(o.stateNode=u,Jr=o,Mn=null,s=!0):s=!1),s||Gl(o)),null;case 13:return Ow(s,o,u);case 4:return ft(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=ec(o,null,f,u):Tr(s,o,f,u),o.child;case 11:return Tw(s,o,o.type,o.pendingProps,u);case 7:return Tr(s,o,o.pendingProps,u),o.child;case 8:return Tr(s,o,o.pendingProps.children,u),o.child;case 12:return Tr(s,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Lo(o,o.type,f.value),Tr(s,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,$l(o),y=Vr(y),f=f(y),o.flags|=1,Tr(s,o,f,u),o.child;case 14:return Dw(s,o,o.type,o.pendingProps,u);case 15:return Aw(s,o,o.type,o.pendingProps,u);case 19:return Nw(s,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},s===null?(u=Rd(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=La(s.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Cw(s,o,u);case 24:return $l(o),f=Vr(Jn),s===null?(y=Bg(),y===null&&(y=pn,b=Lg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:f,cache:y},Fg(o),Lo(o,Jn,y)):((s.lanes&u)!==0&&(jg(s,o),gh(o,null,null,u),mh()),y=s.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Lo(o,Jn,f)):(f=b.cache,Lo(o,Jn,f),f!==y.cache&&Ng(o,[Jn],u,!0))),Tr(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ya(s){s.flags|=4}function Vw(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!qE(o)){if(o=ts.current,o!==null&&((Bt&4194048)===Bt?Js!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||o!==Js))throw dh=Ug,bb;s.flags|=8192}}function Md(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ye():536870912,s.lanes|=o,ic|=o)}function xh(s,o){if(!Kt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Dn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function NR(s,o,u){var f=o.pendingProps;switch(Mg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(o),null;case 1:return Dn(o),null;case 3:return u=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Fa(Jn),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ah(o)?Ya(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mb())),Dn(o),null;case 26:return u=o.memoizedState,s===null?(Ya(o),u!==null?(Dn(o),Vw(o,u)):(Dn(o),o.flags&=-16777217)):u?u!==s.memoizedState?(Ya(o),Dn(o),Vw(o,u)):(Dn(o),o.flags&=-16777217):(s.memoizedProps!==f&&Ya(o),Dn(o),o.flags&=-16777217),null;case 27:At(o),u=Ee.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Ya(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Dn(o),null}s=Ge.current,ah(o)?db(o):(s=VE(y,f,u),o.stateNode=s,Ya(o))}return Dn(o),null;case 5:if(At(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Ya(o);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Dn(o),null}if(s=Ge.current,ah(o))db(o);else{switch(y=Yd(Ee.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}s[_n]=o,s[gt]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Ar(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ya(o)}}return Dn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&Ya(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(s=Ee.current,ah(o)){if(s=o.stateNode,u=o.memoizedProps,f=null,y=Jr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[_n]=o,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||RE(s.nodeValue,u)),s||Gl(o)}else s=Yd(s).createTextNode(f),s[_n]=o,o.stateNode=s}return Dn(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ah(o),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[_n]=o}else oh(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dn(o),y=!1}else y=mb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(za(o),o):(za(o),null)}if(za(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),Md(o,o.updateQueue),Dn(o),null;case 4:return Pe(),s===null&&Hy(o.stateNode.containerInfo),Dn(o),null;case 10:return Fa(o.type),Dn(o),null;case 19:if(Ue(er),y=o.memoizedState,y===null)return Dn(o),null;if(f=(o.flags&128)!==0,b=y.rendering,b===null)if(f)xh(y,!1);else{if(In!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Dd(s),b!==null){for(o.flags|=128,xh(y,!1),s=b.updateQueue,o.updateQueue=s,Md(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)hb(u,s),u=u.sibling;return Ie(er,er.current&1|2),o.child}s=s.sibling}y.tail!==null&&ni()>Pd&&(o.flags|=128,f=!0,xh(y,!1),o.lanes=4194304)}else{if(!f)if(s=Dd(b),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,Md(o,s),xh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Kt)return Dn(o),null}else 2*ni()-y.renderingStartTime>Pd&&u!==536870912&&(o.flags|=128,f=!0,xh(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(s=y.last,s!==null?s.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ni(),o.sibling=null,s=er.current,Ie(er,f?s&1|2:s&1),o):(Dn(o),null);case 22:case 23:return za(o),qg(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Dn(o),o.subtreeFlags&6&&(o.flags|=8192)):Dn(o),u=o.updateQueue,u!==null&&Md(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),s!==null&&Ue(Xl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fa(Jn),Dn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function LR(s,o){switch(Mg(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Fa(Jn),Pe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return At(o),null;case 13:if(za(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));oh()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ue(er),null;case 4:return Pe(),null;case 10:return Fa(o.type),null;case 22:case 23:return za(o),qg(),s!==null&&Ue(Xl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Fa(Jn),null;case 25:return null;default:return null}}function Bw(s,o){switch(Mg(o),o.tag){case 3:Fa(Jn),Pe();break;case 26:case 27:case 5:At(o);break;case 4:Pe();break;case 13:za(o);break;case 19:Ue(er);break;case 10:Fa(o.type);break;case 22:case 23:za(o),qg(),s!==null&&Ue(Xl);break;case 24:Fa(Jn)}}function Sh(s,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var b=u.create,C=u.inst;f=b(),C.destroy=f}u=u.next}while(u!==y)}}catch(P){fn(o,o.return,P)}}function Ho(s,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&s)===s){var C=f.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,y=o;var Q=u,pe=P;try{pe()}catch(De){fn(y,Q,De)}}}f=f.next}while(f!==b)}}catch(De){fn(o,o.return,De)}}function Uw(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Db(o,u)}catch(f){fn(s,s.return,f)}}}function Fw(s,o,u){u.props=Jl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){fn(s,o,f)}}function Th(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){fn(s,o,y)}}function ea(s,o){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){fn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){fn(s,o,y)}else u.current=null}function jw(s){var o=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){fn(s,s.return,y)}}function _y(s,o,u){try{var f=s.stateNode;rM(f,s.type,u,o),f[gt]=o}catch(y){fn(s,s.return,y)}}function zw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xo(s.type)||s.tag===4}function by(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wy(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Hd));else if(f!==4&&(f===27&&Xo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(wy(s,o,u),s=s.sibling;s!==null;)wy(s,o,u),s=s.sibling}function Id(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(f===27&&Xo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Id(s,o,u),s=s.sibling;s!==null;)Id(s,o,u),s=s.sibling}function Hw(s){var o=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Ar(o,f,u),o[_n]=s,o[gt]=u}catch(b){fn(s,s.return,b)}}var qa=!1,Un=!1,Ey=!1,Yw=typeof WeakSet=="function"?WeakSet:Set,fr=null;function VR(s,o){if(s=s.containerInfo,Wy=$d,s=R(s),O(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,P=-1,Q=-1,pe=0,De=0,ke=s,ge=null;t:for(;;){for(var ye;ke!==u||y!==0&&ke.nodeType!==3||(P=C+y),ke!==b||f!==0&&ke.nodeType!==3||(Q=C+f),ke.nodeType===3&&(C+=ke.nodeValue.length),(ye=ke.firstChild)!==null;)ge=ke,ke=ye;for(;;){if(ke===s)break t;if(ge===u&&++pe===y&&(P=C),ge===b&&++De===f&&(Q=C),(ye=ke.nextSibling)!==null)break;ke=ge,ge=ke.parentNode}ke=ye}u=P===-1||Q===-1?null:{start:P,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:s,selectionRange:u},$d=!1,fr=o;fr!==null;)if(o=fr,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,fr=s;else for(;fr!==null;){switch(o=fr,b=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var pt=Jl(u.type,y,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(pt,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(ut){fn(u,u.return,ut)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)$y(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$y(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,fr=s;break}fr=o.return}}function qw(s,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Yo(s,u),f&4&&Sh(5,u);break;case 1:if(Yo(s,u),f&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(C){fn(u,u.return,C)}else{var y=Jl(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){fn(u,u.return,C)}}f&64&&Uw(u),f&512&&Th(u,u.return);break;case 3:if(Yo(s,u),f&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Db(s,o)}catch(C){fn(u,u.return,C)}}break;case 27:o===null&&f&4&&Hw(u);case 26:case 5:Yo(s,u),o===null&&f&4&&jw(u),f&512&&Th(u,u.return);break;case 12:Yo(s,u);break;case 13:Yo(s,u),f&4&&Gw(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=WR.bind(null,u),cM(s,u))));break;case 22:if(f=u.memoizedState!==null||qa,!f){o=o!==null&&o.memoizedState!==null||Un,y=qa;var b=Un;qa=f,(Un=o)&&!b?qo(s,u,(u.subtreeFlags&8772)!==0):Yo(s,u),qa=y,Un=b}break;case 30:break;default:Yo(s,u)}}function Ww(s){var o=s.alternate;o!==null&&(s.alternate=null,Ww(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&br(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var En=null,di=!1;function Wa(s,o,u){for(u=u.child;u!==null;)Kw(s,o,u),u=u.sibling}function Kw(s,o,u){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount($t,u)}catch{}switch(u.tag){case 26:Un||ea(u,o),Wa(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Un||ea(u,o);var f=En,y=di;Xo(u.type)&&(En=u.stateNode,di=!1),Wa(s,o,u),Ph(u.stateNode),En=f,di=y;break;case 5:Un||ea(u,o);case 6:if(f=En,y=di,En=null,Wa(s,o,u),En=f,di=y,En!==null)if(di)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(u.stateNode)}catch(b){fn(u,o,b)}else try{En.removeChild(u.stateNode)}catch(b){fn(u,o,b)}break;case 18:En!==null&&(di?(s=En,NE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),zh(s)):NE(En,u.stateNode));break;case 4:f=En,y=di,En=u.stateNode.containerInfo,di=!0,Wa(s,o,u),En=f,di=y;break;case 0:case 11:case 14:case 15:Un||Ho(2,u,o),Un||Ho(4,u,o),Wa(s,o,u);break;case 1:Un||(ea(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Fw(u,o,f)),Wa(s,o,u);break;case 21:Wa(s,o,u);break;case 22:Un=(f=Un)||u.memoizedState!==null,Wa(s,o,u),Un=f;break;default:Wa(s,o,u)}}function Gw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zh(s)}catch(u){fn(o,o.return,u)}}function BR(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Yw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Yw),o;default:throw Error(n(435,s.tag))}}function xy(s,o){var u=BR(s);o.forEach(function(f){var y=KR.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}function ki(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=s,C=o,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(Xo(P.type)){En=P.stateNode,di=!1;break e}break;case 5:En=P.stateNode,di=!1;break e;case 3:case 4:En=P.stateNode.containerInfo,di=!0;break e}P=P.return}if(En===null)throw Error(n(160));Kw(b,C,y),En=null,di=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Qw(o,s),o=o.sibling}var Ms=null;function Qw(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ki(o,s),Ri(s),f&4&&(Ho(3,s,s.return),Sh(3,s),Ho(5,s,s.return));break;case 1:ki(o,s),Ri(s),f&512&&(Un||u===null||ea(u,u.return)),f&64&&qa&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=Ms;if(ki(o,s),Ri(s),f&512&&(Un||u===null||ea(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ca]||b[_n]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ar(b,f,u),b[_n]=s,Xt(b),f=b;break e;case"link":var C=HE("link","href",y).get(f+(u.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(P,1);break t}}b=y.createElement(f),Ar(b,f,u),y.head.appendChild(b);break;case"meta":if(C=HE("meta","content",y).get(f+(u.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(P,1);break t}}b=y.createElement(f),Ar(b,f,u),y.head.appendChild(b);break;default:throw Error(n(468,f))}b[_n]=s,Xt(b),f=b}s.stateNode=f}else YE(y,s.type,s.stateNode);else s.stateNode=zE(y,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?YE(y,s.type,s.stateNode):zE(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&_y(s,s.memoizedProps,u.memoizedProps)}break;case 27:ki(o,s),Ri(s),f&512&&(Un||u===null||ea(u,u.return)),u!==null&&f&4&&_y(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ki(o,s),Ri(s),f&512&&(Un||u===null||ea(u,u.return)),s.flags&32){y=s.stateNode;try{ai(y,"")}catch(ye){fn(s,s.return,ye)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,_y(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Ey=!0);break;case 6:if(ki(o,s),Ri(s),f&4){if(s.stateNode===null)throw Error(n(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(ye){fn(s,s.return,ye)}}break;case 3:if(Kd=null,y=Ms,Ms=qd(o.containerInfo),ki(o,s),Ms=y,Ri(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{zh(o.containerInfo)}catch(ye){fn(s,s.return,ye)}Ey&&(Ey=!1,$w(s));break;case 4:f=Ms,Ms=qd(s.stateNode.containerInfo),ki(o,s),Ri(s),Ms=f;break;case 12:ki(o,s),Ri(s);break;case 13:ki(o,s),Ri(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ky=ni()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,xy(s,f)));break;case 22:y=s.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,pe=qa,De=Un;if(qa=pe||y,Un=De||Q,ki(o,s),Un=De,qa=pe,Ri(s),f&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||Q||qa||Un||eu(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){Q=u=o;try{if(b=Q.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=Q.stateNode;var ke=Q.memoizedProps.style,ge=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;P.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ye){fn(Q,Q.return,ye)}}}else if(o.tag===6){if(u===null){Q=o;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(ye){fn(Q,Q.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,xy(s,u))));break;case 19:ki(o,s),Ri(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,xy(s,f)));break;case 30:break;case 21:break;default:ki(o,s),Ri(s)}}function Ri(s){var o=s.flags;if(o&2){try{for(var u,f=s.return;f!==null;){if(zw(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,b=by(s);Id(s,b,y);break;case 5:var C=u.stateNode;u.flags&32&&(ai(C,""),u.flags&=-33);var P=by(s);Id(s,P,C);break;case 3:case 4:var Q=u.stateNode.containerInfo,pe=by(s);wy(s,pe,Q);break;default:throw Error(n(161))}}catch(De){fn(s,s.return,De)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function $w(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;$w(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Yo(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)qw(s,o.alternate,o),o=o.sibling}function eu(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ho(4,o,o.return),eu(o);break;case 1:ea(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Fw(o,o.return,u),eu(o);break;case 27:Ph(o.stateNode);case 26:case 5:ea(o,o.return),eu(o);break;case 22:o.memoizedState===null&&eu(o);break;case 30:eu(o);break;default:eu(o)}s=s.sibling}}function qo(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=s,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:qo(y,b,u),Sh(4,b);break;case 1:if(qo(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(pe){fn(f,f.return,pe)}if(f=b,y=f.updateQueue,y!==null){var P=f.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)Tb(Q[y],P)}catch(pe){fn(f,f.return,pe)}}u&&C&64&&Uw(b),Th(b,b.return);break;case 27:Hw(b);case 26:case 5:qo(y,b,u),u&&f===null&&C&4&&jw(b),Th(b,b.return);break;case 12:qo(y,b,u);break;case 13:qo(y,b,u),u&&C&4&&Gw(y,b);break;case 22:b.memoizedState===null&&qo(y,b,u),Th(b,b.return);break;case 30:break;default:qo(y,b,u)}o=o.sibling}}function Sy(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&ch(u))}function Ty(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ch(s))}function ta(s,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Xw(s,o,u,f),o=o.sibling}function Xw(s,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ta(s,o,u,f),y&2048&&Sh(9,o);break;case 1:ta(s,o,u,f);break;case 3:ta(s,o,u,f),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ch(s)));break;case 12:if(y&2048){ta(s,o,u,f),s=o.stateNode;try{var b=o.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){fn(o,o.return,Q)}}else ta(s,o,u,f);break;case 13:ta(s,o,u,f);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?ta(s,o,u,f):Dh(s,o):b._visibility&2?ta(s,o,u,f):(b._visibility|=2,tc(s,o,u,f,(o.subtreeFlags&10256)!==0)),y&2048&&Sy(C,o);break;case 24:ta(s,o,u,f),y&2048&&Ty(o.alternate,o);break;default:ta(s,o,u,f)}}function tc(s,o,u,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=s,C=o,P=u,Q=f,pe=C.flags;switch(C.tag){case 0:case 11:case 15:tc(b,C,P,Q,y),Sh(8,C);break;case 23:break;case 22:var De=C.stateNode;C.memoizedState!==null?De._visibility&2?tc(b,C,P,Q,y):Dh(b,C):(De._visibility|=2,tc(b,C,P,Q,y)),y&&pe&2048&&Sy(C.alternate,C);break;case 24:tc(b,C,P,Q,y),y&&pe&2048&&Ty(C.alternate,C);break;default:tc(b,C,P,Q,y)}o=o.sibling}}function Dh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,f=o,y=f.flags;switch(f.tag){case 22:Dh(u,f),y&2048&&Sy(f.alternate,f);break;case 24:Dh(u,f),y&2048&&Ty(f.alternate,f);break;default:Dh(u,f)}o=o.sibling}}var Ah=8192;function nc(s){if(s.subtreeFlags&Ah)for(s=s.child;s!==null;)Zw(s),s=s.sibling}function Zw(s){switch(s.tag){case 26:nc(s),s.flags&Ah&&s.memoizedState!==null&&xM(Ms,s.memoizedState,s.memoizedProps);break;case 5:nc(s);break;case 3:case 4:var o=Ms;Ms=qd(s.stateNode.containerInfo),nc(s),Ms=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Ah,Ah=16777216,nc(s),Ah=o):nc(s));break;default:nc(s)}}function Jw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Ch(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];fr=f,tE(f,s)}Jw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eE(s),s=s.sibling}function eE(s){switch(s.tag){case 0:case 11:case 15:Ch(s),s.flags&2048&&Ho(9,s,s.return);break;case 3:Ch(s);break;case 12:Ch(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Od(s)):Ch(s);break;default:Ch(s)}}function Od(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];fr=f,tE(f,s)}Jw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ho(8,o,o.return),Od(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Od(o));break;default:Od(o)}s=s.sibling}}function tE(s,o){for(;fr!==null;){var u=fr;switch(u.tag){case 0:case 11:case 15:Ho(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ch(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,fr=f;else e:for(u=s;fr!==null;){f=fr;var y=f.sibling,b=f.return;if(Ww(f),f===u){fr=null;break e}if(y!==null){y.return=b,fr=y;break e}fr=b}}}var UR={getCacheForType:function(s){var o=Vr(Jn),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},FR=typeof WeakMap=="function"?WeakMap:Map,tn=0,pn=null,Rt=null,Bt=0,nn=0,Mi=null,Wo=!1,rc=!1,Dy=!1,Ka=0,In=0,Ko=0,tu=0,Ay=0,ns=0,ic=0,kh=null,pi=null,Cy=!1,ky=0,Pd=1/0,Nd=null,Go=null,Dr=0,Qo=null,sc=null,ac=0,Ry=0,My=null,nE=null,Rh=0,Iy=null;function Ii(){if((tn&2)!==0&&Bt!==0)return Bt&-Bt;if(ie.T!==null){var s=Ku;return s!==0?s:Uy()}return Kr()}function rE(){ns===0&&(ns=(Bt&536870912)===0||Kt?zs():536870912);var s=ts.current;return s!==null&&(s.flags|=32),ns}function Oi(s,o,u){(s===pn&&(nn===2||nn===9)||s.cancelPendingCommit!==null)&&(oc(s,0),$o(s,Bt,ns,!1)),Bi(s,u),((tn&2)===0||s!==pn)&&(s===pn&&((tn&2)===0&&(tu|=u),In===4&&$o(s,Bt,ns,!1)),na(s))}function iE(s,o,u){if((tn&6)!==0)throw Error(n(327));var f=!u&&(o&124)===0&&(o&s.expiredLanes)===0||vi(s,o),y=f?HR(s,o):Ny(s,o,!0),b=f;do{if(y===0){rc&&!f&&$o(s,o,0,!1);break}else{if(u=s.current.alternate,b&&!jR(u)){y=Ny(s,o,!1),b=!1;continue}if(y===2){if(b=o,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var P=s;y=kh;var Q=P.current.memoizedState.isDehydrated;if(Q&&(oc(P,C).flags|=256),C=Ny(P,C,!1),C!==2){if(Dy&&!Q){P.errorRecoveryDisabledLanes|=b,tu|=b,y=4;break e}b=pi,pi=y,b!==null&&(pi===null?pi=b:pi.push.apply(pi,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){oc(s,0),$o(s,o,0,!0);break}e:{switch(f=s,b=y,b){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:$o(f,o,ns,!Wo);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=ky+300-ni(),10<y)){if($o(f,o,ns,!Wo),$e(f,0,!0)!==0)break e;f.timeoutHandle=OE(sE.bind(null,f,u,pi,Nd,Cy,o,ns,tu,ic,Wo,b,2,-0,0),y);break e}sE(f,u,pi,Nd,Cy,o,ns,tu,ic,Wo,b,0,-0,0)}}break}while(!0);na(s)}function sE(s,o,u,f,y,b,C,P,Q,pe,De,ke,ge,ye){if(s.timeoutHandle=-1,ke=o.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:EM},Zw(o),ke=SM(),ke!==null)){s.cancelPendingCommit=ke(fE.bind(null,s,o,b,u,f,y,C,P,Q,De,1,ge,ye)),$o(s,b,C,!pe);return}fE(s,o,b,u,f,y,C,P,Q)}function jR(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!Lr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $o(s,o,u,f){o&=~Ay,o&=~tu,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var y=o;0<y;){var b=31-kn(y),C=1<<b;f[b]=-1,y&=~C}u!==0&&wi(s,u,o)}function Ld(){return(tn&6)===0?(Mh(0),!1):!0}function Oy(){if(Rt!==null){if(nn===0)var s=Rt.return;else s=Rt,Ua=Ql=null,$g(s),Ju=null,wh=0,s=Rt;for(;s!==null;)Bw(s.alternate,s),s=s.return;Rt=null}}function oc(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,sM(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Oy(),pn=s,Rt=u=La(s.current,null),Bt=o,nn=0,Mi=null,Wo=!1,rc=vi(s,o),Dy=!1,ic=ns=Ay=tu=Ko=In=0,pi=kh=null,Cy=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var y=31-kn(f),b=1<<y;o|=s[y],f&=~b}return Ka=o,dt(),u}function aE(s,o){xt=null,ie.H=xd,o===fh||o===dd?(o=xb(),nn=3):o===bb?(o=xb(),nn=4):nn=o===Sw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mi=o,Rt===null&&(In=1,Cd(s,nt(o,s.current)))}function oE(){var s=ie.H;return ie.H=xd,s===null?xd:s}function lE(){var s=ie.A;return ie.A=UR,s}function Py(){In=4,Wo||(Bt&4194048)!==Bt&&ts.current!==null||(rc=!0),(Ko&134217727)===0&&(tu&134217727)===0||pn===null||$o(pn,Bt,ns,!1)}function Ny(s,o,u){var f=tn;tn|=2;var y=oE(),b=lE();(pn!==s||Bt!==o)&&(Nd=null,oc(s,o)),o=!1;var C=In;e:do try{if(nn!==0&&Rt!==null){var P=Rt,Q=Mi;switch(nn){case 8:Oy(),C=6;break e;case 3:case 2:case 9:case 6:ts.current===null&&(o=!0);var pe=nn;if(nn=0,Mi=null,lc(s,P,Q,pe),u&&rc){C=0;break e}break;default:pe=nn,nn=0,Mi=null,lc(s,P,Q,pe)}}zR(),C=In;break}catch(De){aE(s,De)}while(!0);return o&&s.shellSuspendCounter++,Ua=Ql=null,tn=f,ie.H=y,ie.A=b,Rt===null&&(pn=null,Bt=0,dt()),C}function zR(){for(;Rt!==null;)uE(Rt)}function HR(s,o){var u=tn;tn|=2;var f=oE(),y=lE();pn!==s||Bt!==o?(Nd=null,Pd=ni()+500,oc(s,o)):rc=vi(s,o);e:do try{if(nn!==0&&Rt!==null){o=Rt;var b=Mi;t:switch(nn){case 1:nn=0,Mi=null,lc(s,o,b,1);break;case 2:case 9:if(wb(b)){nn=0,Mi=null,cE(o);break}o=function(){nn!==2&&nn!==9||pn!==s||(nn=7),na(s)},b.then(o,o);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:wb(b)?(nn=0,Mi=null,cE(o)):(nn=0,Mi=null,lc(s,o,b,7));break;case 5:var C=null;switch(Rt.tag){case 26:C=Rt.memoizedState;case 5:case 27:var P=Rt;if(!C||qE(C)){nn=0,Mi=null;var Q=P.sibling;if(Q!==null)Rt=Q;else{var pe=P.return;pe!==null?(Rt=pe,Vd(pe)):Rt=null}break t}}nn=0,Mi=null,lc(s,o,b,5);break;case 6:nn=0,Mi=null,lc(s,o,b,6);break;case 8:Oy(),In=6;break e;default:throw Error(n(462))}}YR();break}catch(De){aE(s,De)}while(!0);return Ua=Ql=null,ie.H=f,ie.A=y,tn=u,Rt!==null?0:(pn=null,Bt=0,dt(),In)}function YR(){for(;Rt!==null&&!Lt();)uE(Rt)}function uE(s){var o=Lw(s.alternate,s,Ka);s.memoizedProps=s.pendingProps,o===null?Vd(s):Rt=o}function cE(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Rw(u,o,o.pendingProps,o.type,void 0,Bt);break;case 11:o=Rw(u,o,o.pendingProps,o.type.render,o.ref,Bt);break;case 5:$g(o);default:Bw(u,o),o=Rt=hb(o,Ka),o=Lw(u,o,Ka)}s.memoizedProps=s.pendingProps,o===null?Vd(s):Rt=o}function lc(s,o,u,f){Ua=Ql=null,$g(o),Ju=null,wh=0;var y=o.return;try{if(OR(s,y,o,u,Bt)){In=1,Cd(s,nt(u,s.current)),Rt=null;return}}catch(b){if(y!==null)throw Rt=y,b;In=1,Cd(s,nt(u,s.current)),Rt=null;return}o.flags&32768?(Kt||f===1?s=!0:rc||(Bt&536870912)!==0?s=!1:(Wo=s=!0,(f===2||f===9||f===3||f===6)&&(f=ts.current,f!==null&&f.tag===13&&(f.flags|=16384))),hE(o,s)):Vd(o)}function Vd(s){var o=s;do{if((o.flags&32768)!==0){hE(o,Wo);return}s=o.return;var u=NR(o.alternate,o,Ka);if(u!==null){Rt=u;return}if(o=o.sibling,o!==null){Rt=o;return}Rt=o=s}while(o!==null);In===0&&(In=5)}function hE(s,o){do{var u=LR(s.alternate,s);if(u!==null){u.flags&=32767,Rt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Rt=s;return}Rt=s=u}while(s!==null);In=6,Rt=null}function fE(s,o,u,f,y,b,C,P,Q){s.cancelPendingCommit=null;do Bd();while(Dr!==0);if((tn&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(b=o.lanes|o.childLanes,b|=Sr,Ta(s,u,b,C,P,Q),s===pn&&(Rt=pn=null,Bt=0),sc=o,Qo=s,ac=u,Ry=b,My=y,nE=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,GR(sr,function(){return yE(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,y=we.p,we.p=2,C=tn,tn|=4;try{VR(s,o,u)}finally{tn=C,we.p=y,ie.T=f}}Dr=1,dE(),pE(),mE()}}function dE(){if(Dr===1){Dr=0;var s=Qo,o=sc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var f=we.p;we.p=2;var y=tn;tn|=4;try{Qw(o,s);var b=Ky,C=R(s.containerInfo),P=b.focusedElem,Q=b.selectionRange;if(C!==P&&P&&P.ownerDocument&&D(P.ownerDocument.documentElement,P)){if(Q!==null&&O(P)){var pe=Q.start,De=Q.end;if(De===void 0&&(De=pe),"selectionStart"in P)P.selectionStart=pe,P.selectionEnd=Math.min(De,P.value.length);else{var ke=P.ownerDocument||document,ge=ke&&ke.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),pt=P.textContent.length,ut=Math.min(Q.start,pt),hn=Q.end===void 0?ut:Math.min(Q.end,pt);!ye.extend&&ut>hn&&(C=hn,hn=ut,ut=C);var le=E(P,ut),te=E(P,hn);if(le&&te&&(ye.rangeCount!==1||ye.anchorNode!==le.node||ye.anchorOffset!==le.offset||ye.focusNode!==te.node||ye.focusOffset!==te.offset)){var fe=ke.createRange();fe.setStart(le.node,le.offset),ye.removeAllRanges(),ut>hn?(ye.addRange(fe),ye.extend(te.node,te.offset)):(fe.setEnd(te.node,te.offset),ye.addRange(fe))}}}}for(ke=[],ye=P;ye=ye.parentNode;)ye.nodeType===1&&ke.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ke.length;P++){var Ae=ke[P];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}$d=!!Wy,Ky=Wy=null}finally{tn=y,we.p=f,ie.T=u}}s.current=o,Dr=2}}function pE(){if(Dr===2){Dr=0;var s=Qo,o=sc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var f=we.p;we.p=2;var y=tn;tn|=4;try{qw(s,o.alternate,o)}finally{tn=y,we.p=f,ie.T=u}}Dr=3}}function mE(){if(Dr===4||Dr===3){Dr=0,Bu();var s=Qo,o=sc,u=ac,f=nE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Dr=5:(Dr=0,sc=Qo=null,gE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Go=null),wo(u),o=o.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot($t,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=ie.T,y=we.p,we.p=2,ie.T=null;try{for(var b=s.onRecoverableError,C=0;C<f.length;C++){var P=f[C];b(P.value,{componentStack:P.stack})}}finally{ie.T=o,we.p=y}}(ac&3)!==0&&Bd(),na(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===Iy?Rh++:(Rh=0,Iy=s):Rh=0,Mh(0)}}function gE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,ch(o)))}function Bd(s){return dE(),pE(),mE(),yE()}function yE(){if(Dr!==5)return!1;var s=Qo,o=Ry;Ry=0;var u=wo(ac),f=ie.T,y=we.p;try{we.p=32>u?32:u,ie.T=null,u=My,My=null;var b=Qo,C=ac;if(Dr=0,sc=Qo=null,ac=0,(tn&6)!==0)throw Error(n(331));var P=tn;if(tn|=4,eE(b.current),Xw(b,b.current,C,u),tn=P,Mh(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot($t,b)}catch{}return!0}finally{we.p=y,ie.T=f,gE(s,o)}}function vE(s,o,u){o=nt(u,o),o=cy(s.stateNode,o,2),s=Uo(s,o,2),s!==null&&(Bi(s,2),na(s))}function fn(s,o,u){if(s.tag===3)vE(s,s,u);else for(;o!==null;){if(o.tag===3){vE(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Go===null||!Go.has(f))){s=nt(u,s),u=Ew(2),f=Uo(o,u,2),f!==null&&(xw(u,f,o,s),Bi(f,2),na(f));break}}o=o.return}}function Ly(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new FR;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Dy=!0,y.add(u),s=qR.bind(null,s,o,u),o.then(s,s))}function qR(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,pn===s&&(Bt&u)===u&&(In===4||In===3&&(Bt&62914560)===Bt&&300>ni()-ky?(tn&2)===0&&oc(s,0):Ay|=u,ic===Bt&&(ic=0)),na(s)}function _E(s,o){o===0&&(o=Ye()),s=Rs(s,o),s!==null&&(Bi(s,o),na(s))}function WR(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),_E(s,u)}function KR(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(o),_E(s,u)}function GR(s,o){return jt(s,o)}var Ud=null,uc=null,Vy=!1,Fd=!1,By=!1,nu=0;function na(s){s!==uc&&s.next===null&&(uc===null?Ud=uc=s:uc=uc.next=s),Fd=!0,Vy||(Vy=!0,$R())}function Mh(s,o){if(!By&&Fd){By=!0;do for(var u=!1,f=Ud;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var C=f.suspendedLanes,P=f.pingedLanes;b=(1<<31-kn(42|s)+1)-1,b&=y&~(C&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,xE(f,b))}else b=Bt,b=$e(f,f===pn?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||vi(f,b)||(u=!0,xE(f,b));f=f.next}while(u);By=!1}}function QR(){bE()}function bE(){Fd=Vy=!1;var s=0;nu!==0&&(iM()&&(s=nu),nu=0);for(var o=ni(),u=null,f=Ud;f!==null;){var y=f.next,b=wE(f,o);b===0?(f.next=null,u===null?Ud=y:u.next=y,y===null&&(uc=u)):(u=f,(s!==0||(b&3)!==0)&&(Fd=!0)),f=y}Mh(s)}function wE(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-kn(b),P=1<<C,Q=y[C];Q===-1?((P&u)===0||(P&f)!==0)&&(y[C]=_i(P,o)):Q<=o&&(s.expiredLanes|=P),b&=~P}if(o=pn,u=Bt,u=$e(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===o&&(nn===2||nn===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&vr(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||vi(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(f!==null&&vr(f),wo(u)){case 2:case 8:u=Fs;break;case 32:u=sr;break;case 268435456:u=Li;break;default:u=sr}return f=EE.bind(null,s),u=jt(u,f),s.callbackPriority=o,s.callbackNode=u,o}return f!==null&&f!==null&&vr(f),s.callbackPriority=2,s.callbackNode=null,2}function EE(s,o){if(Dr!==0&&Dr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Bd()&&s.callbackNode!==u)return null;var f=Bt;return f=$e(s,s===pn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(iE(s,f,o),wE(s,ni()),s.callbackNode!=null&&s.callbackNode===u?EE.bind(null,s):null)}function xE(s,o){if(Bd())return null;iE(s,o,!0)}function $R(){aM(function(){(tn&6)!==0?jt(Ml,QR):bE()})}function Uy(){return nu===0&&(nu=zs()),nu}function SE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bs(""+s)}function TE(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function XR(s,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var b=SE((y[gt]||null).action),C=f.submitter;C&&(o=(o=C[gt]||null)?SE(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var P=new Do("action","action",null,f,y);s.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(nu!==0){var Q=C?TE(y,C):new FormData(y);sy(u,{pending:!0,data:Q,method:y.method,action:b},null,Q)}}else typeof b=="function"&&(P.preventDefault(),Q=C?TE(y,C):new FormData(y),sy(u,{pending:!0,data:Q,method:y.method,action:b},b,Q))},currentTarget:y}]})}}for(var Fy=0;Fy<ze.length;Fy++){var jy=ze[Fy],ZR=jy.toLowerCase(),JR=jy[0].toUpperCase()+jy.slice(1);Le(ZR,"on"+JR)}Le(me,"onAnimationEnd"),Le(ve,"onAnimationIteration"),Le(_e,"onAnimationStart"),Le("dblclick","onDoubleClick"),Le("focusin","onFocus"),Le("focusout","onBlur"),Le(Te,"onTransitionRun"),Le(Ve,"onTransitionStart"),Le(je,"onTransitionCancel"),Le(Ne,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ih));function DE(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var C=f.length-1;0<=C;C--){var P=f[C],Q=P.instance,pe=P.currentTarget;if(P=P.listener,Q!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=pe;try{b(y)}catch(De){Ad(De)}y.currentTarget=null,b=Q}else for(C=0;C<f.length;C++){if(P=f[C],Q=P.instance,pe=P.currentTarget,P=P.listener,Q!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=pe;try{b(y)}catch(De){Ad(De)}y.currentTarget=null,b=Q}}}}function Mt(s,o){var u=o[Il];u===void 0&&(u=o[Il]=new Set);var f=s+"__bubble";u.has(f)||(AE(o,s,2,!1),u.add(f))}function zy(s,o,u){var f=0;o&&(f|=4),AE(u,s,f,o)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Hy(s){if(!s[jd]){s[jd]=!0,xo.forEach(function(u){u!=="selectionchange"&&(eM.has(u)||zy(u,!1,s),zy(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[jd]||(o[jd]=!0,zy("selectionchange",!1,o))}}function AE(s,o,u,f){switch(XE(o)){case 2:var y=AM;break;case 8:y=CM;break;default:y=rv}u=y.bind(null,o,u,s),y=void 0,!oi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Yy(s,o,u,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var P=f.stateNode.containerInfo;if(P===y)break;if(C===4)for(C=f.return;C!==null;){var Q=C.tag;if((Q===3||Q===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;P!==null;){if(C=Ir(P),C===null)return;if(Q=C.tag,Q===5||Q===6||Q===26||Q===27){f=b=C;continue e}P=P.parentNode}}f=f.return}Ks(function(){var pe=b,De=Xr(u),ke=[];e:{var ge=Be.get(s);if(ge!==void 0){var ye=Do,pt=s;switch(s){case"keypress":if(ui(u)===0)break e;case"keydown":case"keyup":ye=Cs;break;case"focusin":pt="focus",ye=Ss;break;case"focusout":pt="blur",ye=Ss;break;case"beforeblur":case"afterblur":ye=Ss;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Mo;break;case me:case ve:case _e:ye=Oa;break;case Ne:ye=Io;break;case"scroll":case"scrollend":ye=Ma;break;case"wheel":ye=ks;break;case"copy":case"cut":case"paste":ye=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Ro;break;case"toggle":case"beforetoggle":ye=jl}var ut=(o&4)!==0,hn=!ut&&(s==="scroll"||s==="scrollend"),le=ut?ge!==null?ge+"Capture":null:ge;ut=[];for(var te=pe,fe;te!==null;){var Ae=te;if(fe=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||fe===null||le===null||(Ae=ws(te,le),Ae!=null&&ut.push(Oh(te,Ae,fe))),hn)break;te=te.return}0<ut.length&&(ge=new ye(ge,pt,null,u,De),ke.push({event:ge,listeners:ut}))}}if((o&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ge&&u!==lr&&(pt=u.relatedTarget||u.fromElement)&&(Ir(pt)||pt[Wt]))break e;if((ye||ge)&&(ge=De.window===De?De:(ge=De.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(pt=u.relatedTarget||u.toElement,ye=pe,pt=pt?Ir(pt):null,pt!==null&&(hn=a(pt),ut=pt.tag,pt!==hn||ut!==5&&ut!==27&&ut!==6)&&(pt=null)):(ye=null,pt=pe),ye!==pt)){if(ut=Nr,Ae="onMouseLeave",le="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(ut=Ro,Ae="onPointerLeave",le="onPointerEnter",te="pointer"),hn=ye==null?ge:Gr(ye),fe=pt==null?ge:Gr(pt),ge=new ut(Ae,te+"leave",ye,u,De),ge.target=hn,ge.relatedTarget=fe,Ae=null,Ir(De)===pe&&(ut=new ut(le,te+"enter",pt,u,De),ut.target=fe,ut.relatedTarget=hn,Ae=ut),hn=Ae,ye&&pt)t:{for(ut=ye,le=pt,te=0,fe=ut;fe;fe=cc(fe))te++;for(fe=0,Ae=le;Ae;Ae=cc(Ae))fe++;for(;0<te-fe;)ut=cc(ut),te--;for(;0<fe-te;)le=cc(le),fe--;for(;te--;){if(ut===le||le!==null&&ut===le.alternate)break t;ut=cc(ut),le=cc(le)}ut=null}else ut=null;ye!==null&&CE(ke,ge,ye,ut,!1),pt!==null&&hn!==null&&CE(ke,hn,pt,ut,!0)}}e:{if(ge=pe?Gr(pe):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var Ze=Hl;else if(Tn(ge))if(Xi)Ze=No;else{Ze=Na;var Dt=ad}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&Ll(pe.elementType)&&(Ze=Hl):Ze=sh;if(Ze&&(Ze=Ze(s,pe))){Qi(ke,Ze,u,De);break e}Dt&&Dt(s,ge,pe),s==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&Si(ge,"number",ge.value)}switch(Dt=pe?Gr(pe):window,s){case"focusin":(Tn(Dt)||Dt.contentEditable==="true")&&(W=Dt,ee=pe,ne=null);break;case"focusout":ne=ee=W=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,$(ke,u,De);break;case"selectionchange":if(F)break;case"keydown":case"keyup":$(ke,u,De)}var tt;if(hi)e:{switch(s){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else kt?be(s,u)&&(ct="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ct="onCompositionStart");ct&&(A&&u.locale!=="ko"&&(kt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&kt&&(tt=xs()):(li=De,Es="value"in li?li.value:li.textContent,kt=!0)),Dt=zd(pe,ct),0<Dt.length&&(ct=new Pa(ct,s,null,u,De),ke.push({event:ct,listeners:Dt}),tt?ct.data=tt:(tt=Fe(u),tt!==null&&(ct.data=tt)))),(tt=x?Rn(s,u):It(s,u))&&(ct=zd(pe,"onBeforeInput"),0<ct.length&&(Dt=new Pa("onBeforeInput","beforeinput",null,u,De),ke.push({event:Dt,listeners:ct}),Dt.data=tt)),XR(ke,s,pe,u,De)}DE(ke,o)})}function Oh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function zd(s,o){for(var u=o+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=ws(s,u),y!=null&&f.unshift(Oh(s,y,b)),y=ws(s,o),y!=null&&f.push(Oh(s,y,b))),s.tag===3)return f;s=s.return}return[]}function cc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function CE(s,o,u,f,y){for(var b=o._reactName,C=[];u!==null&&u!==f;){var P=u,Q=P.alternate,pe=P.stateNode;if(P=P.tag,Q!==null&&Q===f)break;P!==5&&P!==26&&P!==27||pe===null||(Q=pe,y?(pe=ws(u,b),pe!=null&&C.unshift(Oh(u,pe,Q))):y||(pe=ws(u,b),pe!=null&&C.push(Oh(u,pe,Q)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var tM=/\r\n?/g,nM=/\u0000|\uFFFD/g;function kE(s){return(typeof s=="string"?s:""+s).replace(tM,`
`).replace(nM,"")}function RE(s,o){return o=kE(o),kE(s)===o}function Hd(){}function cn(s,o,u,f,y,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ai(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ai(s,""+f);break;case"className":$r(s,"class",f);break;case"tabIndex":$r(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(s,u,f);break;case"style":Nl(s,f,b);break;case"data":if(o!=="object"){$r(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=bs(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&cn(s,o,"name",y.name,y,null),cn(s,o,"formEncType",y.formEncType,y,null),cn(s,o,"formMethod",y.formMethod,y,null),cn(s,o,"formTarget",y.formTarget,y,null)):(cn(s,o,"encType",y.encType,y,null),cn(s,o,"method",y.method,y,null),cn(s,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=bs(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Hd);break;case"onScroll":f!=null&&Mt("scroll",s);break;case"onScrollEnd":f!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=bs(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),Qr(s,"popover",f);break;case"xlinkActuate":Pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Pn(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Pn(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Pn(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Pn(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Qr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=xr.get(u)||u,Qr(s,u,f))}}function qy(s,o,u,f,y,b){switch(u){case"style":Nl(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof f=="string"?ai(s,f):(typeof f=="number"||typeof f=="bigint")&&ai(s,""+f);break;case"onScroll":f!=null&&Mt("scroll",s);break;case"onScrollEnd":f!=null&&Mt("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=s[gt]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,f,y);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Qr(s,u,f)}}}function Ar(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:cn(s,o,b,C,u,null)}}y&&cn(s,o,"srcSet",u.srcSet,u,null),f&&cn(s,o,"src",u.src,u,null);return;case"input":Mt("invalid",s);var P=b=C=y=null,Q=null,pe=null;for(f in u)if(u.hasOwnProperty(f)){var De=u[f];if(De!=null)switch(f){case"name":y=De;break;case"type":C=De;break;case"checked":Q=De;break;case"defaultChecked":pe=De;break;case"value":b=De;break;case"defaultValue":P=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,o));break;default:cn(s,o,f,De,u,null)}}Ys(s,b,P,Q,pe,C,y,!1),zi(s);return;case"select":Mt("invalid",s),f=C=b=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":f=P;default:cn(s,o,y,P,u,null)}o=b,u=C,s.multiple=!!f,o!=null?Hi(s,!!f,o,!1):u!=null&&Hi(s,!!f,u,!0);return;case"textarea":Mt("invalid",s),b=y=f=null;for(C in u)if(u.hasOwnProperty(C)&&(P=u[C],P!=null))switch(C){case"value":f=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:cn(s,o,C,P,u,null)}qs(s,f,y,b),zi(s);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:cn(s,o,Q,f,u,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(f=0;f<Ih.length;f++)Mt(Ih[f],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in u)if(u.hasOwnProperty(pe)&&(f=u[pe],f!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:cn(s,o,pe,f,u,null)}return;default:if(Ll(o)){for(De in u)u.hasOwnProperty(De)&&(f=u[De],f!==void 0&&qy(s,o,De,f,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(f=u[P],f!=null&&cn(s,o,P,f,u,null))}function rM(s,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,P=null,Q=null,pe=null,De=null;for(ye in u){var ke=u[ye];if(u.hasOwnProperty(ye)&&ke!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=ke;default:f.hasOwnProperty(ye)||cn(s,o,ye,null,f,ke)}}for(var ge in f){var ye=f[ge];if(ke=u[ge],f.hasOwnProperty(ge)&&(ye!=null||ke!=null))switch(ge){case"type":b=ye;break;case"name":y=ye;break;case"checked":pe=ye;break;case"defaultChecked":De=ye;break;case"value":C=ye;break;case"defaultValue":P=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==ke&&cn(s,o,ge,ye,f,ke)}}or(s,C,P,Q,pe,De,b,y);return;case"select":ye=C=P=ge=null;for(b in u)if(Q=u[b],u.hasOwnProperty(b)&&Q!=null)switch(b){case"value":break;case"multiple":ye=Q;default:f.hasOwnProperty(b)||cn(s,o,b,null,f,Q)}for(y in f)if(b=f[y],Q=u[y],f.hasOwnProperty(y)&&(b!=null||Q!=null))switch(y){case"value":ge=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==Q&&cn(s,o,y,b,f,Q)}o=P,u=C,f=ye,ge!=null?Hi(s,!!u,ge,!1):!!f!=!!u&&(o!=null?Hi(s,!!u,o,!0):Hi(s,!!u,u?[]:"",!1));return;case"textarea":ye=ge=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:cn(s,o,P,null,f,y)}for(C in f)if(y=f[C],b=u[C],f.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":ge=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==b&&cn(s,o,C,y,f,b)}Vt(s,ge,ye);return;case"option":for(var pt in u)if(ge=u[pt],u.hasOwnProperty(pt)&&ge!=null&&!f.hasOwnProperty(pt))switch(pt){case"selected":s.selected=!1;break;default:cn(s,o,pt,null,f,ge)}for(Q in f)if(ge=f[Q],ye=u[Q],f.hasOwnProperty(Q)&&ge!==ye&&(ge!=null||ye!=null))switch(Q){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:cn(s,o,Q,ge,f,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)ge=u[ut],u.hasOwnProperty(ut)&&ge!=null&&!f.hasOwnProperty(ut)&&cn(s,o,ut,null,f,ge);for(pe in f)if(ge=f[pe],ye=u[pe],f.hasOwnProperty(pe)&&ge!==ye&&(ge!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:cn(s,o,pe,ge,f,ye)}return;default:if(Ll(o)){for(var hn in u)ge=u[hn],u.hasOwnProperty(hn)&&ge!==void 0&&!f.hasOwnProperty(hn)&&qy(s,o,hn,void 0,f,ge);for(De in f)ge=f[De],ye=u[De],!f.hasOwnProperty(De)||ge===ye||ge===void 0&&ye===void 0||qy(s,o,De,ge,f,ye);return}}for(var le in u)ge=u[le],u.hasOwnProperty(le)&&ge!=null&&!f.hasOwnProperty(le)&&cn(s,o,le,null,f,ge);for(ke in f)ge=f[ke],ye=u[ke],!f.hasOwnProperty(ke)||ge===ye||ge==null&&ye==null||cn(s,o,ke,ge,f,ye)}var Wy=null,Ky=null;function Yd(s){return s.nodeType===9?s:s.ownerDocument}function ME(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Gy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qy=null;function iM(){var s=window.event;return s&&s.type==="popstate"?s===Qy?!1:(Qy=s,!0):(Qy=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,sM=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,aM=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(s){return PE.resolve(null).then(s).catch(oM)}:OE;function oM(s){setTimeout(function(){throw s})}function Xo(s){return s==="head"}function NE(s,o){var u=o,f=0,y=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var C=s.ownerDocument;if(u&1&&Ph(C.documentElement),u&2&&Ph(C.body),u&4)for(u=C.head,Ph(u),C=u.firstChild;C;){var P=C.nextSibling,Q=C.nodeName;C[Ca]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=P}}if(y===0){s.removeChild(b),zh(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);zh(o)}function $y(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$y(u),br(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function lM(s,o,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Ca])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Is(s.nextSibling),s===null)break}return null}function uM(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Is(s.nextSibling),s===null))return null;return s}function Xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function cM(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Zy=null;function LE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function VE(s,o,u){switch(o=Yd(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ph(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);br(s)}var rs=new Map,BE=new Set;function qd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ga=we.d;we.d={f:hM,r:fM,D:dM,C:pM,L:mM,m:gM,X:vM,S:yM,M:_M};function hM(){var s=Ga.f(),o=Ld();return s||o}function fM(s){var o=Xn(s);o!==null&&o.tag===5&&o.type==="form"?iw(o):Ga.r(s)}var hc=typeof document>"u"?null:document;function UE(s,o,u){var f=hc;if(f&&typeof o=="string"&&o){var y=bn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),BE.has(y)||(BE.add(y),s={rel:s,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Ar(o,"link",s),Xt(o),f.head.appendChild(o)))}}function dM(s){Ga.D(s),UE("dns-prefetch",s,null)}function pM(s,o){Ga.C(s,o),UE("preconnect",s,o)}function mM(s,o,u){Ga.L(s,o,u);var f=hc;if(f&&s&&o){var y='link[rel="preload"][as="'+bn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+bn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+bn(u.imageSizes)+'"]')):y+='[href="'+bn(s)+'"]';var b=y;switch(o){case"style":b=fc(s);break;case"script":b=dc(s)}rs.has(b)||(s=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),rs.set(b,s),f.querySelector(y)!==null||o==="style"&&f.querySelector(Nh(b))||o==="script"&&f.querySelector(Lh(b))||(o=f.createElement("link"),Ar(o,"link",s),Xt(o),f.head.appendChild(o)))}}function gM(s,o){Ga.m(s,o);var u=hc;if(u&&s){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+bn(f)+'"][href="'+bn(s)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=dc(s)}if(!rs.has(b)&&(s=g({rel:"modulepreload",href:s},o),rs.set(b,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Lh(b)))return}f=u.createElement("link"),Ar(f,"link",s),Xt(f),u.head.appendChild(f)}}}function yM(s,o,u){Ga.S(s,o,u);var f=hc;if(f&&s){var y=wr(f).hoistableStyles,b=fc(s);o=o||"default";var C=y.get(b);if(!C){var P={loading:0,preload:null};if(C=f.querySelector(Nh(b)))P.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},u),(u=rs.get(b))&&Jy(s,u);var Q=C=f.createElement("link");Xt(Q),Ar(Q,"link",s),Q._p=new Promise(function(pe,De){Q.onload=pe,Q.onerror=De}),Q.addEventListener("load",function(){P.loading|=1}),Q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Wd(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:P},y.set(b,C)}}}function vM(s,o){Ga.X(s,o);var u=hc;if(u&&s){var f=wr(u).hoistableScripts,y=dc(s),b=f.get(y);b||(b=u.querySelector(Lh(y)),b||(s=g({src:s,async:!0},o),(o=rs.get(y))&&ev(s,o),b=u.createElement("script"),Xt(b),Ar(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function _M(s,o){Ga.M(s,o);var u=hc;if(u&&s){var f=wr(u).hoistableScripts,y=dc(s),b=f.get(y);b||(b=u.querySelector(Lh(y)),b||(s=g({src:s,async:!0,type:"module"},o),(o=rs.get(y))&&ev(s,o),b=u.createElement("script"),Xt(b),Ar(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function FE(s,o,u,f){var y=(y=Ee.current)?qd(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=fc(u.href),u=wr(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=fc(u.href);var b=wr(y).hoistableStyles,C=b.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=y.querySelector(Nh(s)))&&!b._p&&(C.instance=b,C.state.loading=5),rs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},rs.set(s,u),b||bM(y,s,u,C.state))),o&&f===null)throw Error(n(528,""));return C}if(o&&f!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=dc(u),u=wr(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function fc(s){return'href="'+bn(s)+'"'}function Nh(s){return'link[rel="stylesheet"]['+s+"]"}function jE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function bM(s,o,u,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ar(o,"link",u),Xt(o),s.head.appendChild(o))}function dc(s){return'[src="'+bn(s)+'"]'}function Lh(s){return"script[async]"+s}function zE(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+bn(u.href)+'"]');if(f)return o.instance=f,Xt(f),f;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Xt(f),Ar(f,"style",y),Wd(f,u.precedence,s),o.instance=f;case"stylesheet":y=fc(u.href);var b=s.querySelector(Nh(y));if(b)return o.state.loading|=4,o.instance=b,Xt(b),b;f=jE(u),(y=rs.get(y))&&Jy(f,y),b=(s.ownerDocument||s).createElement("link"),Xt(b);var C=b;return C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),Ar(b,"link",f),o.state.loading|=4,Wd(b,u.precedence,s),o.instance=b;case"script":return b=dc(u.src),(y=s.querySelector(Lh(b)))?(o.instance=y,Xt(y),y):(f=u,(y=rs.get(b))&&(f=g({},u),ev(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),Xt(y),Ar(y,"link",f),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Wd(f,u.precedence,s));return o.instance}function Wd(s,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,C=0;C<f.length;C++){var P=f[C];if(P.dataset.precedence===o)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Jy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function ev(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Kd=null;function HE(s,o,u){if(Kd===null){var f=new Map,y=Kd=new Map;y.set(u,f)}else y=Kd,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[Ca]||b[_n]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=s+C;var P=f.get(C);P?P.push(b):f.set(C,[b])}}return f}function YE(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function wM(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Vh=null;function EM(){}function xM(s,o,u){if(Vh===null)throw Error(n(475));var f=Vh;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=fc(u.href),b=s.querySelector(Nh(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Gd.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=b,Xt(b);return}b=s.ownerDocument||s,u=jE(u),(y=rs.get(y))&&Jy(u,y),b=b.createElement("link"),Xt(b);var C=b;C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),Ar(b,"link",u),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Gd.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function SM(){if(Vh===null)throw Error(n(475));var s=Vh;return s.stylesheets&&s.count===0&&tv(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&tv(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Gd(){if(this.count--,this.count===0){if(this.stylesheets)tv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qd=null;function tv(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qd=new Map,o.forEach(TM,s),Qd=null,Gd.call(s))}function TM(s,o){if(!(o.state.loading&4)){var u=Qd.get(s);if(u)var f=u.get(null);else{u=new Map,Qd.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}y=o.instance,C=y.getAttribute("data-precedence"),b=u.get(C)||f,b===f&&u.set(null,y),u.set(C,y),this.count++,f=Gd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Bh={$$typeof:H,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function DM(s,o,u,f,y,b,C,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function WE(s,o,u,f,y,b,C,P,Q,pe,De,ke){return s=new DM(s,o,u,C,P,Q,pe,ke),o=1,b===!0&&(o|=24),b=Ci(3,null,null,o),s.current=b,b.stateNode=s,o=Lg(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},Fg(b),s}function KE(s){return s?(s=Xs,s):Xs}function GE(s,o,u,f,y,b){y=KE(y),f.context===null?f.context=y:f.pendingContext=y,f=Bo(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Uo(s,f,o),u!==null&&(Oi(u,s,o),ph(u,s,o))}function QE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function nv(s,o){QE(s,o),(s=s.alternate)&&QE(s,o)}function $E(s){if(s.tag===13){var o=Rs(s,67108864);o!==null&&Oi(o,s,67108864),nv(s,67108864)}}var $d=!0;function AM(s,o,u,f){var y=ie.T;ie.T=null;var b=we.p;try{we.p=2,rv(s,o,u,f)}finally{we.p=b,ie.T=y}}function CM(s,o,u,f){var y=ie.T;ie.T=null;var b=we.p;try{we.p=8,rv(s,o,u,f)}finally{we.p=b,ie.T=y}}function rv(s,o,u,f){if($d){var y=iv(f);if(y===null)Yy(s,o,f,Xd,u),ZE(s,f);else if(RM(y,s,o,u,f))f.stopPropagation();else if(ZE(s,f),o&4&&-1<kM.indexOf(s)){for(;y!==null;){var b=Xn(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=Yn(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var Q=1<<31-kn(C);P.entanglements[1]|=Q,C&=~Q}na(b),(tn&6)===0&&(Pd=ni()+500,Mh(0))}}break;case 13:P=Rs(b,2),P!==null&&Oi(P,b,2),Ld(),nv(b,2)}if(b=iv(f),b===null&&Yy(s,o,f,Xd,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else Yy(s,o,f,null,u)}}function iv(s){return s=Xr(s),sv(s)}var Xd=null;function sv(s){if(Xd=null,s=Ir(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Xd=s,null}function XE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Ml:return 2;case Fs:return 8;case sr:case Uu:return 32;case Li:return 268435456;default:return 32}default:return 32}}var av=!1,Zo=null,Jo=null,el=null,Uh=new Map,Fh=new Map,tl=[],kM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(s,o){switch(s){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":Uh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(o.pointerId)}}function jh(s,o,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Xn(o),o!==null&&$E(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function RM(s,o,u,f,y){switch(o){case"focusin":return Zo=jh(Zo,s,o,u,f,y),!0;case"dragenter":return Jo=jh(Jo,s,o,u,f,y),!0;case"mouseover":return el=jh(el,s,o,u,f,y),!0;case"pointerover":var b=y.pointerId;return Uh.set(b,jh(Uh.get(b)||null,s,o,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Fh.set(b,jh(Fh.get(b)||null,s,o,u,f,y)),!0}return!1}function JE(s){var o=Ir(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,gs(s.priority,function(){if(u.tag===13){var f=Ii();f=Hs(f);var y=Rs(u,f);y!==null&&Oi(y,u,f),nv(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=iv(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);lr=f,u.target.dispatchEvent(f),lr=null}else return o=Xn(u),o!==null&&$E(o),s.blockedOn=u,!1;o.shift()}return!0}function ex(s,o,u){Zd(s)&&u.delete(o)}function MM(){av=!1,Zo!==null&&Zd(Zo)&&(Zo=null),Jo!==null&&Zd(Jo)&&(Jo=null),el!==null&&Zd(el)&&(el=null),Uh.forEach(ex),Fh.forEach(ex)}function Jd(s,o){s.blockedOn===o&&(s.blockedOn=null,av||(av=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MM)))}var ep=null;function tx(s){ep!==s&&(ep=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ep===s&&(ep=null);for(var o=0;o<s.length;o+=3){var u=s[o],f=s[o+1],y=s[o+2];if(typeof f!="function"){if(sv(f||u)===null)continue;break}var b=Xn(u);b!==null&&(s.splice(o,3),o-=3,sy(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function zh(s){function o(Q){return Jd(Q,s)}Zo!==null&&Jd(Zo,s),Jo!==null&&Jd(Jo,s),el!==null&&Jd(el,s),Uh.forEach(o),Fh.forEach(o);for(var u=0;u<tl.length;u++){var f=tl[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<tl.length&&(u=tl[0],u.blockedOn===null);)JE(u),u.blockedOn===null&&tl.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],C=y[gt]||null;if(typeof b=="function")C||tx(u);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[gt]||null)P=C.formAction;else if(sv(y)!==null)continue}else P=C.action;typeof P=="function"?u[f+1]=P:(u.splice(f,3),f-=3),tx(u)}}}function ov(s){this._internalRoot=s}tp.prototype.render=ov.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,f=Ii();GE(u,f,s,o,null,null)},tp.prototype.unmount=ov.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;GE(s.current,2,null,s,null,null),Ld(),o[Wt]=null}};function tp(s){this._internalRoot=s}tp.prototype.unstable_scheduleHydration=function(s){if(s){var o=Kr();s={blockedOn:null,target:s,priority:o};for(var u=0;u<tl.length&&o!==0&&o<tl[u].priority;u++);tl.splice(u,0,s),u===0&&JE(s)}};var nx=e.version;if(nx!=="19.1.0")throw Error(n(527,nx,"19.1.0"));we.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var IM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{$t=np.inject(IM),Ct=np}catch{}}return Yh.createRoot=function(s,o){if(!i(s))throw Error(n(299));var u=!1,f="",y=vw,b=_w,C=bw,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=WE(s,1,!1,null,null,u,f,y,b,C,P,null),s[Wt]=o.current,Hy(s),new ov(o)},Yh.hydrateRoot=function(s,o,u){if(!i(s))throw Error(n(299));var f=!1,y="",b=vw,C=_w,P=bw,Q=null,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(pe=u.formState)),o=WE(s,1,!0,o,u??null,f,y,b,C,P,Q,pe),o.context=KE(null),u=o.current,f=Ii(),f=Hs(f),y=Bo(f),y.callback=null,Uo(u,y,f),u=f,o.current.lanes=u,Bi(o,u),na(o),s[Wt]=o.current,Hy(s),new tp(o)},Yh.version="19.1.0",Yh}var fx;function qM(){if(fx)return cv.exports;fx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cv.exports=YM(),cv.exports}var WM=qM(),qh={},dx;function KM(){if(dx)return qh;dx=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.parse=l,qh.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const T=new a,M=w.length;if(M<2)return T;const k=(S==null?void 0:S.decode)||g;let L=0;do{const q=w.indexOf("=",L);if(q===-1)break;const H=w.indexOf(";",L),se=H===-1?M:H;if(q>se){L=w.lastIndexOf(";",q-1)+1;continue}const X=c(w,L,q),de=h(w,q,X),V=w.slice(X,de);if(T[V]===void 0){let I=c(w,q+1,se),N=h(w,se,I);const U=k(w.slice(I,N));T[V]=U}L=se+1}while(L<M);return T}function c(w,S,T){do{const M=w.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<T);return T}function h(w,S,T){for(;S>T;){const M=w.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return T}function d(w,S,T){const M=(T==null?void 0:T.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=M(S);if(!e.test(k))throw new TypeError(`argument val is invalid: ${S}`);let L=w+"="+k;if(!T)return L;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);L+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);L+="; Domain="+T.domain}if(T.path){if(!n.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);L+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);L+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(L+="; HttpOnly"),T.secure&&(L+="; Secure"),T.partitioned&&(L+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return L}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return qh}KM();var px="popstate";function GM(r={}){function e(n,i){let{pathname:a,search:l,hash:c}=n.location;return Kv("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Tf(i)}return $M(e,t,null,r)}function nr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function va(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QM(){return Math.random().toString(36).substring(2,10)}function mx(r,e){return{usr:r.state,key:r.key,idx:e}}function Kv(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zf(e):e,state:t,key:e&&e.key||n||QM()}}function Tf({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function zf(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function $M(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let k=g(),L=k==null?null:k-d;d=k,h&&h({action:c,location:M.location,delta:L})}function w(k,L){c="PUSH";let q=Kv(M.location,k,L);d=g()+1;let H=mx(q,d),se=M.createHref(q);try{l.pushState(H,"",se)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(se)}a&&h&&h({action:c,location:M.location,delta:1})}function S(k,L){c="REPLACE";let q=Kv(M.location,k,L);d=g();let H=mx(q,d),se=M.createHref(q);l.replaceState(H,"",se),a&&h&&h({action:c,location:M.location,delta:0})}function T(k){return XM(k)}let M={get action(){return c},get location(){return r(i,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(px,_),h=k,()=>{i.removeEventListener(px,_),h=null}},createHref(k){return e(i,k)},createURL:T,encodeLocation(k){let L=T(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:S,go(k){return l.go(k)}};return M}function XM(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Tf(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function tD(r,e,t="/"){return ZM(r,e,t,!1)}function ZM(r,e,t,n){let i=typeof e=="string"?zf(e):e,a=lo(i.pathname||"/",t);if(a==null)return null;let l=nD(r);JM(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=cI(a);c=lI(l[h],d,n)}return c}function nD(r,e=[],t=[],n=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(nr(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=no([n,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(nr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),nD(a.children,e,g,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:aI(d,a.index),routesMeta:g})};return r.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of rD(a.path))i(a,l,h)}),e}function rD(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=rD(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function JM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:oI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var eI=/^:[\w-]+$/,tI=3,nI=2,rI=1,iI=10,sI=-2,gx=r=>r==="*";function aI(r,e){let t=r.split("/"),n=t.length;return t.some(gx)&&(n+=sI),e&&(n+=nI),t.filter(i=>!gx(i)).reduce((i,a)=>i+(eI.test(a)?tI:a===""?rI:iI),n)}function oI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function lI(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=nm({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),w=h.route;if(!_&&d&&t&&!n[n.length-1].route.index&&(_=nm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:no([a,_.pathname]),pathnameBase:pI(no([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=no([a,_.pathnameBase]))}return l}function nm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=uI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((d,{paramName:g,isOptional:_},w)=>{if(g==="*"){let T=c[w]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const S=c[w];return _&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:r}}function uI(r,e=!1,t=!0){va(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function hI(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?zf(r):r;return{pathname:t?t.startsWith("/")?t:fI(t,e):e,search:mI(n),hash:gI(i)}}function fI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function pv(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iD(r){let e=dI(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function sD(r,e,t,n=!1){let i;typeof r=="string"?i=zf(r):(i={...r},nr(!i.pathname||!i.pathname.includes("?"),pv("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),pv("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),pv("#","search","hash",i)));let a=r===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let h=hI(i,c),d=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var no=r=>r.join("/").replace(/\/\/+/g,"/"),pI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var aD=["POST","PUT","PATCH","DELETE"];new Set(aD);var vI=["GET",...aD];new Set(vI);var Gc=K.createContext(null);Gc.displayName="DataRouter";var qm=K.createContext(null);qm.displayName="DataRouterState";var oD=K.createContext({isTransitioning:!1});oD.displayName="ViewTransition";var _I=K.createContext(new Map);_I.displayName="Fetchers";var bI=K.createContext(null);bI.displayName="Await";var xa=K.createContext(null);xa.displayName="Navigation";var Wm=K.createContext(null);Wm.displayName="Location";var mo=K.createContext({outlet:null,matches:[],isDataRoute:!1});mo.displayName="Route";var U_=K.createContext(null);U_.displayName="RouteError";function wI(r,{relative:e}={}){nr(Hf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=K.useContext(xa),{hash:i,pathname:a,search:l}=Yf(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:no([t,a])),n.createHref({pathname:c,search:l,hash:i})}function Hf(){return K.useContext(Wm)!=null}function Ru(){return nr(Hf(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Wm).location}var lD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uD(r){K.useContext(xa).static||K.useLayoutEffect(r)}function EI(){let{isDataRoute:r}=K.useContext(mo);return r?NI():xI()}function xI(){nr(Hf(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Gc),{basename:e,navigator:t}=K.useContext(xa),{matches:n}=K.useContext(mo),{pathname:i}=Ru(),a=JSON.stringify(iD(n)),l=K.useRef(!1);return uD(()=>{l.current=!0}),K.useCallback((h,d={})=>{if(va(l.current,lD),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=sD(h,JSON.parse(a),i,d.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:no([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,a,i,r])}K.createContext(null);function Yf(r,{relative:e}={}){let{matches:t}=K.useContext(mo),{pathname:n}=Ru(),i=JSON.stringify(iD(t));return K.useMemo(()=>sD(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function SI(r,e,t,n){nr(Hf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=K.useContext(xa),{matches:a}=K.useContext(mo),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let L=g&&g.path||"";cD(h,!g||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Ru(),w;w=_;let S=w.pathname||"/",T=S;if(d!=="/"){let L=d.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=tD(r,{pathname:T});return va(g||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),va(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kI(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:no([d,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?d:no([d,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,t,n)}function TI(){let r=PI(),e=yI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var DI=K.createElement(TI,null),AI=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(mo.Provider,{value:this.props.routeContext},K.createElement(U_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CI({routeContext:r,match:e,children:t}){let n=K.useContext(Gc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(mo.Provider,{value:r},t)}function kI(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);nr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:_}=t,w=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,d,g)=>{let _,w=!1,S=null,T=null;t&&(_=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||DI,l&&(c<0&&g===0?(cD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):c===g&&(w=!0,T=d.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,g+1)),k=()=>{let L;return _?L=S:w?L=T:d.route.Component?L=K.createElement(d.route.Component,null):d.route.element?L=d.route.element:L=h,K.createElement(CI,{match:d,routeContext:{outlet:h,matches:M,isDataRoute:t!=null},children:L})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?K.createElement(AI,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:k(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):k()},null)}function F_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RI(r){let e=K.useContext(Gc);return nr(e,F_(r)),e}function MI(r){let e=K.useContext(qm);return nr(e,F_(r)),e}function II(r){let e=K.useContext(mo);return nr(e,F_(r)),e}function j_(r){let e=II(r),t=e.matches[e.matches.length-1];return nr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function OI(){return j_("useRouteId")}function PI(){var n;let r=K.useContext(U_),e=MI("useRouteError"),t=j_("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function NI(){let{router:r}=RI("useNavigate"),e=j_("useNavigate"),t=K.useRef(!1);return uD(()=>{t.current=!0}),K.useCallback(async(i,a={})=>{va(t.current,lD),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var yx={};function cD(r,e,t){!e&&!yx[r]&&(yx[r]=!0,va(!1,t))}K.memo(LI);function LI({routes:r,future:e,state:t}){return SI(r,void 0,t,e)}function VI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){nr(!Hf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=zf(t));let{pathname:h="/",search:d="",hash:g="",state:_=null,key:w="default"}=t,S=K.useMemo(()=>{let T=lo(h,l);return T==null?null:{location:{pathname:T,search:d,hash:g,state:_,key:w},navigationType:n}},[l,h,d,g,_,w,n]);return va(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(xa.Provider,{value:c},K.createElement(Wm.Provider,{children:e,value:S}))}var Op="get",Pp="application/x-www-form-urlencoded";function Km(r){return r!=null&&typeof r.tagName=="string"}function BI(r){return Km(r)&&r.tagName.toLowerCase()==="button"}function UI(r){return Km(r)&&r.tagName.toLowerCase()==="form"}function FI(r){return Km(r)&&r.tagName.toLowerCase()==="input"}function jI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zI(r,e){return r.button===0&&(!e||e==="_self")&&!jI(r)}var rp=null;function HI(){if(rp===null)try{new FormData(document.createElement("form"),0),rp=!1}catch{rp=!0}return rp}var YI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mv(r){return r!=null&&!YI.has(r)?(va(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pp}"`),null):r}function qI(r,e){let t,n,i,a,l;if(UI(r)){let c=r.getAttribute("action");n=c?lo(c,e):null,t=r.getAttribute("method")||Op,i=mv(r.getAttribute("enctype"))||Pp,a=new FormData(r)}else if(BI(r)||FI(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?lo(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Op,i=mv(r.getAttribute("formenctype"))||mv(c.getAttribute("enctype"))||Pp,a=new FormData(c,r),!HI()){let{name:d,type:g,value:_}=r;if(g==="image"){let w=d?`${d}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else d&&a.append(d,_)}}else{if(Km(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Op,n=null,i=Pp,l=r}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:l}}function z_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function WI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GI(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await WI(a,t);return l.links?l.links():[]}return[]}));return ZI(n.flat(1).filter(KI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vx(r,e,t,n,i,a){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?e.filter((h,d)=>{var _;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function QI(r,e,{includeHydrateFallback:t}={}){return $I(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function $I(r){return[...new Set(r)]}function XI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function ZI(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(XI(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JI=new Set([100,101,204,205]);function eO(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&lo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function hD(){let r=K.useContext(Gc);return z_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tO(){let r=K.useContext(qm);return z_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var H_=K.createContext(void 0);H_.displayName="FrameworkContext";function fD(){let r=K.useContext(H_);return z_(r,"You must render this element inside a <HydratedRouter> element"),r}function nO(r,e){let t=K.useContext(H_),[n,i]=K.useState(!1),[a,l]=K.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,w=K.useRef(null);K.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let M=L=>{L.forEach(q=>{l(q.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),K.useEffect(()=>{if(n){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[n]);let S=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?r!=="intent"?[a,w,{}]:[a,w,{onFocus:Wh(c,S),onBlur:Wh(h,T),onMouseEnter:Wh(d,S),onMouseLeave:Wh(g,T),onTouchStart:Wh(_,S)}]:[!1,w,{}]}function Wh(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function rO({page:r,...e}){let{router:t}=hD(),n=K.useMemo(()=>tD(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?K.createElement(sO,{page:r,matches:n,...e}):null}function iO(r){let{manifest:e,routeModules:t}=fD(),[n,i]=K.useState([]);return K.useEffect(()=>{let a=!1;return GI(r,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[r,e,t]),n}function sO({page:r,matches:e,...t}){let n=Ru(),{manifest:i,routeModules:a}=fD(),{basename:l}=hD(),{loaderData:c,matches:h}=tO(),d=K.useMemo(()=>vx(r,e,h,i,n,"data"),[r,e,h,i,n]),g=K.useMemo(()=>vx(r,e,h,i,n,"assets"),[r,e,h,i,n]),_=K.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,M=!1;if(e.forEach(L=>{var H;let q=i.routes[L.route.id];!q||!q.hasLoader||(!d.some(se=>se.route.id===L.route.id)&&L.route.id in c&&((H=a[L.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?M=!0:T.add(L.route.id))}),T.size===0)return[];let k=eO(r,l);return M&&T.size>0&&k.searchParams.set("_routes",e.filter(L=>T.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[l,c,n,i,d,e,r,a]),w=K.useMemo(()=>QI(g,i),[g,i]),S=iO(g);return K.createElement(K.Fragment,null,_.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),w.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),S.map(({key:T,link:M})=>K.createElement("link",{key:T,...M})))}function aO(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dD&&(window.__reactRouterVersion="7.6.2")}catch{}function oO({basename:r,children:e,window:t}){let n=K.useRef();n.current==null&&(n.current=GM({window:t,v5Compat:!0}));let i=n.current,[a,l]=K.useState({action:i.action,location:i.location}),c=K.useCallback(h=>{K.startTransition(()=>l(h))},[l]);return K.useLayoutEffect(()=>i.listen(c),[i,c]),K.createElement(VI,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var pD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mD=K.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:g,viewTransition:_,...w},S){let{basename:T}=K.useContext(xa),M=typeof d=="string"&&pD.test(d),k,L=!1;if(typeof d=="string"&&M&&(k=d,dD))try{let N=new URL(window.location.href),U=d.startsWith("//")?new URL(N.protocol+d):new URL(d),z=lo(U.pathname,T);U.origin===N.origin&&z!=null?d=z+U.search+U.hash:L=!0}catch{va(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=wI(d,{relative:i}),[H,se,X]=nO(n,w),de=hO(d,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:_});function V(N){e&&e(N),N.defaultPrevented||de(N)}let I=K.createElement("a",{...w,...X,href:k||q,onClick:L||a?e:V,ref:aO(S,se),target:h,"data-discover":!M&&t==="render"?"true":void 0});return H&&!M?K.createElement(K.Fragment,null,I,K.createElement(rO,{page:q})):I});mD.displayName="Link";var lO=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...d},g){let _=Yf(l,{relative:d.relative}),w=Ru(),S=K.useContext(qm),{navigator:T,basename:M}=K.useContext(xa),k=S!=null&&gO(_)&&c===!0,L=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,q=w.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(q=q.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&M&&(H=lo(H,M)||H);const se=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=q===L||!i&&q.startsWith(L)&&q.charAt(se)==="/",de=H!=null&&(H===L||!i&&H.startsWith(L)&&H.charAt(L.length)==="/"),V={isActive:X,isPending:de,isTransitioning:k},I=X?e:void 0,N;typeof n=="function"?N=n(V):N=[n,X?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(V):a;return K.createElement(mD,{...d,"aria-current":I,className:N,ref:g,style:U,to:l,viewTransition:c},typeof h=="function"?h(V):h)});lO.displayName="NavLink";var uO=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:l=Op,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:_,...w},S)=>{let T=pO(),M=mO(c,{relative:d}),k=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&pD.test(c),q=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let se=H.nativeEvent.submitter,X=(se==null?void 0:se.getAttribute("formmethod"))||l;T(se||H.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:d,preventScrollReset:g,viewTransition:_})};return K.createElement("form",{ref:S,method:k,action:M,onSubmit:n?h:q,...w,"data-discover":!L&&r==="render"?"true":void 0})});uO.displayName="Form";function cO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gD(r){let e=K.useContext(Gc);return nr(e,cO(r)),e}function hO(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=EI(),h=Ru(),d=Yf(r,{relative:a});return K.useCallback(g=>{if(zI(g,e)){g.preventDefault();let _=t!==void 0?t:Tf(h)===Tf(d);c(r,{replace:_,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,d,t,n,e,r,i,a,l])}var fO=0,dO=()=>`__${String(++fO)}__`;function pO(){let{router:r}=gD("useSubmit"),{basename:e}=K.useContext(xa),t=OI();return K.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=qI(n,e);if(i.navigate===!1){let g=i.fetcherKey||dO();await r.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function mO(r,{relative:e}={}){let{basename:t}=K.useContext(xa),n=K.useContext(mo);nr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Yf(r||".",{relative:e})},l=Ru();if(r==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:no([t,a.pathname])),Tf(a)}function gO(r,e={}){let t=K.useContext(oD);nr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gD("useViewTransitionState"),i=Yf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=lo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=lo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return nm(i.pathname,l)!=null||nm(i.pathname,a)!=null}[...JI];var yD=eD();const yO=V_(yD),_x=r=>{let e;const t=new Set,n=(d,g)=>{const _=typeof d=="function"?d(e):d;if(!Object.is(_,e)){const w=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(S=>S(e,w))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=r(n,i,c);return c},vO=r=>r?_x(r):_x,_O=r=>r;function bO(r,e=_O){const t=Se.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return Se.useDebugValue(t),t}const bx=r=>{const e=vO(r),t=n=>bO(e,n);return Object.assign(t,e),t},wO=r=>r?bx(r):bx,wx=["Chest","Back","Arms","Shoulders","Legs","Abs","Cardio","Other"];var Np={exports:{}},EO=Np.exports,Ex;function xO(){return Ex||(Ex=1,function(r,e){(function(t,n){r.exports=n()})(EO,function(){var t=function(m,v){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&(E[R]=D[R])})(m,v)},n=function(){return(n=Object.assign||function(m){for(var v,E=1,D=arguments.length;E<D;E++)for(var R in v=arguments[E])Object.prototype.hasOwnProperty.call(v,R)&&(m[R]=v[R]);return m}).apply(this,arguments)};function i(m,v,E){for(var D,R=0,O=v.length;R<O;R++)!D&&R in v||((D=D||Array.prototype.slice.call(v,0,R))[R]=v[R]);return m.concat(D||Array.prototype.slice.call(v))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:VM,l=Object.keys,c=Array.isArray;function h(m,v){return typeof v!="object"||l(v).forEach(function(E){m[E]=v[E]}),m}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,g={}.hasOwnProperty;function _(m,v){return g.call(m,v)}function w(m,v){typeof v=="function"&&(v=v(d(m))),(typeof Reflect>"u"?l:Reflect.ownKeys)(v).forEach(function(E){T(m,E,v[E])})}var S=Object.defineProperty;function T(m,v,E,D){S(m,v,h(E&&_(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},D))}function M(m){return{from:function(v){return m.prototype=Object.create(v.prototype),T(m.prototype,"constructor",m),{extend:w.bind(null,m.prototype)}}}}var k=Object.getOwnPropertyDescriptor,L=[].slice;function q(m,v,E){return L.call(m,v,E)}function H(m,v){return v(m)}function se(m){if(!m)throw new Error("Assertion Failed")}function X(m){a.setImmediate?setImmediate(m):setTimeout(m,0)}function de(m,v){if(typeof v=="string"&&_(m,v))return m[v];if(!v)return m;if(typeof v!="string"){for(var E=[],D=0,R=v.length;D<R;++D){var O=de(m,v[D]);E.push(O)}return E}var F=v.indexOf(".");if(F!==-1){var W=m[v.substr(0,F)];return W==null?void 0:de(W,v.substr(F+1))}}function V(m,v,E){if(m&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof v!="string"&&"length"in v){se(typeof E!="string"&&"length"in E);for(var D=0,R=v.length;D<R;++D)V(m,v[D],E[D])}else{var O,F,W=v.indexOf(".");W!==-1?(O=v.substr(0,W),(F=v.substr(W+1))===""?E===void 0?c(m)&&!isNaN(parseInt(O))?m.splice(O,1):delete m[O]:m[O]=E:V(W=!(W=m[O])||!_(m,O)?m[O]={}:W,F,E)):E===void 0?c(m)&&!isNaN(parseInt(v))?m.splice(v,1):delete m[v]:m[v]=E}}function I(m){var v,E={};for(v in m)_(m,v)&&(E[v]=m[v]);return E}var N=[].concat;function U(m){return N.apply([],m)}var $t="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(U([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(v){return v+m+"Array"})}))).filter(function(m){return a[m]}),z=new Set($t.map(function(m){return a[m]})),Y=null;function j(m){return Y=new WeakMap,m=function v(E){if(!E||typeof E!="object")return E;var D=Y.get(E);if(D)return D;if(c(E)){D=[],Y.set(E,D);for(var R=0,O=E.length;R<O;++R)D.push(v(E[R]))}else if(z.has(E.constructor))D=E;else{var F,W=d(E);for(F in D=W===Object.prototype?{}:Object.create(W),Y.set(E,D),E)_(E,F)&&(D[F]=v(E[F]))}return D}(m),Y=null,m}var Xe={}.toString;function He(m){return Xe.call(m).slice(8,-1)}var ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof ie=="symbol"?function(m){var v;return m!=null&&(v=m[ie])&&v.apply(m)}:function(){return null};function Ce(m,v){return v=m.indexOf(v),0<=v&&m.splice(v,1),0<=v}var Qe={};function G(m){var v,E,D,R;if(arguments.length===1){if(c(m))return m.slice();if(this===Qe&&typeof m=="string")return[m];if(R=we(m)){for(E=[];!(D=R.next()).done;)E.push(D.value);return E}if(m==null)return[m];if(typeof(v=m.length)!="number")return[m];for(E=new Array(v);v--;)E[v]=m[v];return E}for(v=arguments.length,E=new Array(v);v--;)E[v]=arguments[v];return E}var xe=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},js=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(js),Ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(m,v){this.name=m,this.message=v}function Ge(m,v){return m+". Errors: "+Object.keys(v).map(function(E){return v[E].toString()}).filter(function(E,D,R){return R.indexOf(E)===D}).join(`
`)}function ot(m,v,E,D){this.failures=v,this.failedKeys=D,this.successCount=E,this.message=Ge(m,v)}function Ee(m,v){this.name="BulkError",this.failures=Object.keys(v).map(function(E){return v[E]}),this.failuresByPos=v,this.message=Ge(m,this.failures)}M(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),M(ot).from(Ie),M(Ee).from(Ie);var rt=Zr.reduce(function(m,v){return m[v]=v+"Error",m},{}),ft=Ie,Pe=Zr.reduce(function(m,v){var E=v+"Error";function D(R,O){this.name=E,R?typeof R=="string"?(this.message="".concat(R).concat(O?`
 `+O:""),this.inner=O||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=Ue[v]||E,this.inner=null)}return M(D).from(ft),m[v]=D,m},{});Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError;var st=js.reduce(function(m,v){return m[v+"Error"]=Pe[v],m},{}),At=Zr.reduce(function(m,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(m[v+"Error"]=Pe[v]),m},{});function et(){}function jt(m){return m}function vr(m,v){return m==null||m===jt?v:function(E){return v(m(E))}}function Lt(m,v){return function(){m.apply(this,arguments),v.apply(this,arguments)}}function Bu(m,v){return m===et?v:function(){var E=m.apply(this,arguments);E!==void 0&&(arguments[0]=E);var D=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var O=v.apply(this,arguments);return D&&(this.onsuccess=this.onsuccess?Lt(D,this.onsuccess):D),R&&(this.onerror=this.onerror?Lt(R,this.onerror):R),O!==void 0?O:E}}function ni(m,v){return m===et?v:function(){m.apply(this,arguments);var E=this.onsuccess,D=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?Lt(E,this.onsuccess):E),D&&(this.onerror=this.onerror?Lt(D,this.onerror):D)}}function ih(m,v){return m===et?v:function(E){var D=m.apply(this,arguments);h(E,D);var R=this.onsuccess,O=this.onerror;return this.onsuccess=null,this.onerror=null,E=v.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?Lt(R,this.onsuccess):R),O&&(this.onerror=this.onerror?Lt(O,this.onerror):O),D===void 0?E===void 0?void 0:E:h(D,E)}}function Ml(m,v){return m===et?v:function(){return v.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function Fs(m,v){return m===et?v:function(){var E=m.apply(this,arguments);if(E&&typeof E.then=="function"){for(var D=this,R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];return E.then(function(){return v.apply(D,O)})}return v.apply(this,arguments)}}At.ModifyError=ot,At.DexieError=Ie,At.BulkError=Ee;var sr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Uu(m){sr=m}var Li={},vo=100,$t=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,d(m),m];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,d(v),m]}(),js=$t[0],Zr=$t[1],$t=$t[2],Zr=Zr&&Zr.then,Ct=js&&js.constructor,_r=!!$t,kn=function(m,v){vi.push([m,v]),bo&&(queueMicrotask(wo),bo=!1)},_o=!0,bo=!0,Wr=[],Vi=[],ms=jt,Yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:et,pgp:!1,env:{},finalize:et},$e=Yn,vi=[],_i=0,zs=[];function Ye(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=$e;if(typeof m!="function"){if(m!==Li)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ta(this,this._value))}this._state=null,this._value=null,++v.ref,function E(D,R){try{R(function(O){if(D._state===null){if(O===D)throw new TypeError("A promise cannot be resolved with itself.");var F=D._lib&&Kr();O&&typeof O.then=="function"?E(D,function(W,ee){O instanceof Ye?O._then(W,ee):O.then(W,ee)}):(D._state=!0,D._value=O,wi(D)),F&&gs()}},Ta.bind(null,D))}catch(O){Ta(D,O)}}(this,m)}var bi={get:function(){var m=$e,v=Aa;function E(D,R){var O=this,F=!m.global&&(m!==$e||v!==Aa),W=F&&!Xn(),ee=new Ye(function(ne,oe){Da(O,new Bi(ii(D,m,F,W),ii(R,m,F,W),ne,oe,m))});return this._consoleTask&&(ee._consoleTask=this._consoleTask),ee}return E.prototype=Li,E},set:function(m){T(this,"then",m&&m.prototype===Li?bi:{get:function(){return m},set:bi.set})}};function Bi(m,v,E,D,R){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof v=="function"?v:null,this.resolve=E,this.reject=D,this.psd=R}function Ta(m,v){var E,D;Vi.push(v),m._state===null&&(E=m._lib&&Kr(),v=ms(v),m._state=!1,m._value=v,D=m,Wr.some(function(R){return R._value===D._value})||Wr.push(D),wi(m),E&&gs())}function wi(m){var v=m._listeners;m._listeners=[];for(var E=0,D=v.length;E<D;++E)Da(m,v[E]);var R=m._PSD;--R.ref||R.finalize(),_i===0&&(++_i,kn(function(){--_i==0&&on()},[]))}function Da(m,v){if(m._state!==null){var E=m._state?v.onFulfilled:v.onRejected;if(E===null)return(m._state?v.resolve:v.reject)(m._value);++v.psd.ref,++_i,kn(Hs,[E,m,v])}else m._listeners.push(v)}function Hs(m,v,E){try{var D,R=v._value;!v._state&&Vi.length&&(Vi=[]),D=sr&&v._consoleTask?v._consoleTask.run(function(){return m(R)}):m(R),v._state||Vi.indexOf(R)!==-1||function(O){for(var F=Wr.length;F;)if(Wr[--F]._value===O._value)return Wr.splice(F,1)}(v),E.resolve(D)}catch(O){E.reject(O)}finally{--_i==0&&on(),--E.psd.ref||E.psd.finalize()}}function wo(){ri(Yn,function(){Kr()&&gs()})}function Kr(){var m=_o;return bo=_o=!1,m}function gs(){var m,v,E;do for(;0<vi.length;)for(m=vi,vi=[],E=m.length,v=0;v<E;++v){var D=m[v];D[0].apply(null,D[1])}while(0<vi.length);bo=_o=!0}function on(){var m=Wr;Wr=[],m.forEach(function(D){D._PSD.onunhandled.call(null,D._value,D)});for(var v=zs.slice(0),E=v.length;E;)v[--E]()}function _n(m){return new Ye(Li,!1,m)}function gt(m,v){var E=$e;return function(){var D=Kr(),R=$e;try{return Xt(E,!0),m.apply(this,arguments)}catch(O){v&&v(O)}finally{Xt(R,!1),D&&gs()}}}w(Ye.prototype,{then:bi,_then:function(m,v){Da(this,new Bi(null,null,m,v,$e))},catch:function(m){if(arguments.length===1)return this.then(null,m);var v=m,E=arguments[1];return typeof v=="function"?this.then(null,function(D){return(D instanceof v?E:_n)(D)}):this.then(null,function(D){return(D&&D.name===v?E:_n)(D)})},finally:function(m){return this.then(function(v){return Ye.resolve(m()).then(function(){return v})},function(v){return Ye.resolve(m()).then(function(){return _n(v)})})},timeout:function(m,v){var E=this;return m<1/0?new Ye(function(D,R){var O=setTimeout(function(){return R(new Pe.Timeout(v))},m);E.then(D,R).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(Ye.prototype,Symbol.toStringTag,"Dexie.Promise"),Yn.env=xo(),w(Ye,{all:function(){var m=G.apply(null,arguments).map(Gr);return new Ye(function(v,E){m.length===0&&v([]);var D=m.length;m.forEach(function(R,O){return Ye.resolve(R).then(function(F){m[O]=F,--D||v(m)},E)})})},resolve:function(m){return m instanceof Ye?m:m&&typeof m.then=="function"?new Ye(function(v,E){m.then(v,E)}):new Ye(Li,!0,m)},reject:_n,race:function(){var m=G.apply(null,arguments).map(Gr);return new Ye(function(v,E){m.map(function(D){return Ye.resolve(D).then(v,E)})})},PSD:{get:function(){return $e},set:function(m){return $e=m}},totalEchoes:{get:function(){return Aa}},newPSD:br,usePSD:ri,scheduler:{get:function(){return kn},set:function(m){kn=m}},rejectionMapper:{get:function(){return ms},set:function(m){ms=m}},follow:function(m,v){return new Ye(function(E,D){return br(function(R,O){var F=$e;F.unhandleds=[],F.onunhandled=O,F.finalize=Lt(function(){var W,ee=this;W=function(){ee.unhandleds.length===0?R():O(ee.unhandleds[0])},zs.push(function ne(){W(),zs.splice(zs.indexOf(ne),1)}),++_i,kn(function(){--_i==0&&on()},[])},F.finalize),m()},v,E,D)})}}),Ct&&(Ct.allSettled&&T(Ye,"allSettled",function(){var m=G.apply(null,arguments).map(Gr);return new Ye(function(v){m.length===0&&v([]);var E=m.length,D=new Array(E);m.forEach(function(R,O){return Ye.resolve(R).then(function(F){return D[O]={status:"fulfilled",value:F}},function(F){return D[O]={status:"rejected",reason:F}}).then(function(){return--E||v(D)})})})}),Ct.any&&typeof AggregateError<"u"&&T(Ye,"any",function(){var m=G.apply(null,arguments).map(Gr);return new Ye(function(v,E){m.length===0&&E(new AggregateError([]));var D=m.length,R=new Array(D);m.forEach(function(O,F){return Ye.resolve(O).then(function(W){return v(W)},function(W){R[F]=W,--D||E(new AggregateError(R))})})})}),Ct.withResolvers&&(Ye.withResolvers=Ct.withResolvers));var Wt={awaits:0,echoes:0,id:0},Il=0,Eo=[],Ei=0,Aa=0,Ca=0;function br(m,v,E,D){var R=$e,O=Object.create(R);return O.parent=R,O.ref=0,O.global=!1,O.id=++Ca,Yn.env,O.env=_r?{Promise:Ye,PromiseProp:{value:Ye,configurable:!0,writable:!0},all:Ye.all,race:Ye.race,allSettled:Ye.allSettled,any:Ye.any,resolve:Ye.resolve,reject:Ye.reject}:{},v&&h(O,v),++R.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},D=ri(O,m,E,D),O.ref===0&&O.finalize(),D}function Ir(){return Wt.id||(Wt.id=++Il),++Wt.awaits,Wt.echoes+=vo,Wt.id}function Xn(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*vo,!0)}function Gr(m){return Wt.echoes&&m&&m.constructor===Ct?(Ir(),m.then(function(v){return Xn(),v},function(v){return Xn(),dn(v)})):m}function wr(){var m=Eo[Eo.length-1];Eo.pop(),Xt(m,!1)}function Xt(m,v){var E,D=$e;(v?!Wt.echoes||Ei++&&m===$e:!Ei||--Ei&&m===$e)||queueMicrotask(v?(function(R){++Aa,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Eo.push($e),Xt(R,!0)}).bind(null,m):wr),m!==$e&&($e=m,D===Yn&&(Yn.env=xo()),_r&&(E=Yn.env.Promise,v=m.env,(D.global||m.global)&&(Object.defineProperty(a,"Promise",v.PromiseProp),E.all=v.all,E.race=v.race,E.resolve=v.resolve,E.reject=v.reject,v.allSettled&&(E.allSettled=v.allSettled),v.any&&(E.any=v.any))))}function xo(){var m=a.Promise;return _r?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function ri(m,v,E,D,R){var O=$e;try{return Xt(m,!0),v(E,D,R)}finally{Xt(O,!1)}}function ii(m,v,E,D){return typeof m!="function"?m:function(){var R=$e;E&&Ir(),Xt(v,!0);try{return m.apply(this,arguments)}finally{Xt(R,!1),D&&queueMicrotask(Xn)}}}function xi(m){Promise===Ct&&Wt.echoes===0?Ei===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+Zr).indexOf("[native code]")===-1&&(Ir=Xn=et);var dn=Ye.reject,Ui="￿",Er="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ol="String expected.",Qr=[],$r="__dbnames",Pn="readonly",ys="readwrite";function Fi(m,v){return m?v?function(){return m.apply(this,arguments)&&v.apply(this,arguments)}:m:v}var ji={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vs(m){return typeof m!="string"||/\./.test(m)?function(v){return v}:function(v){return v[m]===void 0&&m in v&&delete(v=j(v))[m],v}}function ka(){throw Pe.Type()}function bt(m,v){try{var E=Ra(m),D=Ra(v);if(E!==D)return E==="Array"?1:D==="Array"?-1:E==="binary"?1:D==="binary"?-1:E==="string"?1:D==="string"?-1:E==="Date"?1:D!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return v<m?1:m<v?-1:0;case"binary":return function(R,O){for(var F=R.length,W=O.length,ee=F<W?F:W,ne=0;ne<ee;++ne)if(R[ne]!==O[ne])return R[ne]<O[ne]?-1:1;return F===W?0:F<W?-1:1}(ar(m),ar(v));case"Array":return function(R,O){for(var F=R.length,W=O.length,ee=F<W?F:W,ne=0;ne<ee;++ne){var oe=bt(R[ne],O[ne]);if(oe!==0)return oe}return F===W?0:F<W?-1:1}(m,v)}}catch{}return NaN}function Ra(m){var v=typeof m;return v!="object"?v:ArrayBuffer.isView(m)?"binary":(m=He(m),m==="ArrayBuffer"?"binary":m)}function ar(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}var So=(en.prototype._trans=function(m,v,E){var D=this._tx||$e.trans,R=this.name,O=sr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function F(ne,oe,$){if(!$.schema[R])throw new Pe.NotFound("Table "+R+" not part of transaction");return v($.idbtrans,$)}var W=Kr();try{var ee=D&&D.db._novip===this.db._novip?D===$e.trans?D._promise(m,F,E):br(function(){return D._promise(m,F,E)},{trans:D,transless:$e.transless||$e}):function ne(oe,$,ue,Z){if(oe.idbdb&&(oe._state.openComplete||$e.letThrough||oe._vip)){var ae=oe._createTransaction($,ue,oe._dbSchema);try{ae.create(),oe._state.PR1398_maxLoop=3}catch(ce){return ce.name===rt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return ne(oe,$,ue,Z)})):dn(ce)}return ae._promise($,function(ce,re){return br(function(){return $e.trans=ae,Z(ce,re,ae)})}).then(function(ce){if($==="readwrite")try{ae.idbtrans.commit()}catch{}return $==="readonly"?ce:ae._completion.then(function(){return ce})})}if(oe._state.openComplete)return dn(new Pe.DatabaseClosed(oe._state.dbOpenError));if(!oe._state.isBeingOpened){if(!oe._state.autoOpen)return dn(new Pe.DatabaseClosed);oe.open().catch(et)}return oe._state.dbReadyPromise.then(function(){return ne(oe,$,ue,Z)})}(this.db,m,[this.name],F);return O&&(ee._consoleTask=O,ee=ee.catch(function(ne){return console.trace(ne),dn(ne)})),ee}finally{W&&gs()}},en.prototype.get=function(m,v){var E=this;return m&&m.constructor===Object?this.where(m).first(v):m==null?dn(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(D){return E.core.get({trans:D,key:m}).then(function(R){return E.hook.reading.fire(R)})}).then(v)},en.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(c(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var v=l(m);if(v.length===1)return this.where(v[0]).equals(m[v[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&v.every(function(ne){return 0<=W.keyPath.indexOf(ne)})){for(var ee=0;ee<v.length;++ee)if(v.indexOf(W.keyPath[ee])===-1)return!1;return!0}return!1}).sort(function(W,ee){return W.keyPath.length-ee.keyPath.length})[0];if(E&&this.db._maxKey!==Ui){var O=E.keyPath.slice(0,v.length);return this.where(O).equals(O.map(function(ee){return m[ee]}))}!E&&sr&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var D=this.schema.idxByName;function R(W,ee){return bt(W,ee)===0}var F=v.reduce(function($,ee){var ne=$[0],oe=$[1],$=D[ee],ue=m[ee];return[ne||$,ne||!$?Fi(oe,$&&$.multi?function(Z){return Z=de(Z,ee),c(Z)&&Z.some(function(ae){return R(ue,ae)})}:function(Z){return R(ue,de(Z,ee))}):oe]},[null,null]),O=F[0],F=F[1];return O?this.where(O.name).equals(m[O.keyPath]).filter(F):E?this.filter(F):this.where(v).equals("")},en.prototype.filter=function(m){return this.toCollection().and(m)},en.prototype.count=function(m){return this.toCollection().count(m)},en.prototype.offset=function(m){return this.toCollection().offset(m)},en.prototype.limit=function(m){return this.toCollection().limit(m)},en.prototype.each=function(m){return this.toCollection().each(m)},en.prototype.toArray=function(m){return this.toCollection().toArray(m)},en.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},en.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,c(m)?"[".concat(m.join("+"),"]"):m))},en.prototype.reverse=function(){return this.toCollection().reverse()},en.prototype.mapToClass=function(m){var v,E=this.db,D=this.name;function R(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof ka&&(function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function oe(){this.constructor=ee}t(ee,ne),ee.prototype=ne===null?Object.create(ne):(oe.prototype=ne.prototype,new oe)}(R,v=m),Object.defineProperty(R.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),R.prototype.table=function(){return D},m=R);for(var O=new Set,F=m.prototype;F;F=d(F))Object.getOwnPropertyNames(F).forEach(function(ee){return O.add(ee)});function W(ee){if(!ee)return ee;var ne,oe=Object.create(m.prototype);for(ne in ee)if(!O.has(ne))try{oe[ne]=ee[ne]}catch{}return oe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),m},en.prototype.defineClass=function(){return this.mapToClass(function(m){h(this,m)})},en.prototype.add=function(m,v){var E=this,D=this.schema.primKey,R=D.auto,O=D.keyPath,F=m;return O&&R&&(F=vs(O)(m)),this._trans("readwrite",function(W){return E.core.mutate({trans:W,type:"add",keys:v!=null?[v]:null,values:[F]})}).then(function(W){return W.numFailures?Ye.reject(W.failures[0]):W.lastResult}).then(function(W){if(O)try{V(m,O,W)}catch{}return W})},en.prototype.update=function(m,v){return typeof m!="object"||c(m)?this.where(":id").equals(m).modify(v):(m=de(m,this.schema.primKey.keyPath),m===void 0?dn(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(v))},en.prototype.put=function(m,v){var E=this,D=this.schema.primKey,R=D.auto,O=D.keyPath,F=m;return O&&R&&(F=vs(O)(m)),this._trans("readwrite",function(W){return E.core.mutate({trans:W,type:"put",values:[F],keys:v!=null?[v]:null})}).then(function(W){return W.numFailures?Ye.reject(W.failures[0]):W.lastResult}).then(function(W){if(O)try{V(m,O,W)}catch{}return W})},en.prototype.delete=function(m){var v=this;return this._trans("readwrite",function(E){return v.core.mutate({trans:E,type:"delete",keys:[m]})}).then(function(E){return E.numFailures?Ye.reject(E.failures[0]):void 0})},en.prototype.clear=function(){var m=this;return this._trans("readwrite",function(v){return m.core.mutate({trans:v,type:"deleteRange",range:ji})}).then(function(v){return v.numFailures?Ye.reject(v.failures[0]):void 0})},en.prototype.bulkGet=function(m){var v=this;return this._trans("readonly",function(E){return v.core.getMany({keys:m,trans:E}).then(function(D){return D.map(function(R){return v.hook.reading.fire(R)})})})},en.prototype.bulkAdd=function(m,v,E){var D=this,R=Array.isArray(v)?v:void 0,O=(E=E||(R?void 0:v))?E.allKeys:void 0;return this._trans("readwrite",function(F){var ne=D.schema.primKey,W=ne.auto,ne=ne.keyPath;if(ne&&R)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==m.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=m.length,ne=ne&&W?m.map(vs(ne)):m;return D.core.mutate({trans:F,type:"add",keys:R,values:ne,wantResults:O}).then(function(ae){var $=ae.numFailures,ue=ae.results,Z=ae.lastResult,ae=ae.failures;if($===0)return O?ue:Z;throw new Ee("".concat(D.name,".bulkAdd(): ").concat($," of ").concat(ee," operations failed"),ae)})})},en.prototype.bulkPut=function(m,v,E){var D=this,R=Array.isArray(v)?v:void 0,O=(E=E||(R?void 0:v))?E.allKeys:void 0;return this._trans("readwrite",function(F){var ne=D.schema.primKey,W=ne.auto,ne=ne.keyPath;if(ne&&R)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==m.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var ee=m.length,ne=ne&&W?m.map(vs(ne)):m;return D.core.mutate({trans:F,type:"put",keys:R,values:ne,wantResults:O}).then(function(ae){var $=ae.numFailures,ue=ae.results,Z=ae.lastResult,ae=ae.failures;if($===0)return O?ue:Z;throw new Ee("".concat(D.name,".bulkPut(): ").concat($," of ").concat(ee," operations failed"),ae)})})},en.prototype.bulkUpdate=function(m){var v=this,E=this.core,D=m.map(function(F){return F.key}),R=m.map(function(F){return F.changes}),O=[];return this._trans("readwrite",function(F){return E.getMany({trans:F,keys:D,cache:"clone"}).then(function(W){var ee=[],ne=[];m.forEach(function($,ue){var Z=$.key,ae=$.changes,ce=W[ue];if(ce){for(var re=0,me=Object.keys(ae);re<me.length;re++){var ve=me[re],_e=ae[ve];if(ve===v.schema.primKey.keyPath){if(bt(_e,Z)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else V(ce,ve,_e)}O.push(ue),ee.push(Z),ne.push(ce)}});var oe=ee.length;return E.mutate({trans:F,type:"put",keys:ee,values:ne,updates:{keys:D,changeSpecs:R}}).then(function($){var ue=$.numFailures,Z=$.failures;if(ue===0)return oe;for(var ae=0,ce=Object.keys(Z);ae<ce.length;ae++){var re,me=ce[ae],ve=O[Number(me)];ve!=null&&(re=Z[me],delete Z[me],Z[ve]=re)}throw new Ee("".concat(v.name,".bulkUpdate(): ").concat(ue," of ").concat(oe," operations failed"),Z)})})})},en.prototype.bulkDelete=function(m){var v=this,E=m.length;return this._trans("readwrite",function(D){return v.core.mutate({trans:D,type:"delete",keys:m})}).then(function(F){var R=F.numFailures,O=F.lastResult,F=F.failures;if(R===0)return O;throw new Ee("".concat(v.name,".bulkDelete(): ").concat(R," of ").concat(E," operations failed"),F)})},en);function en(){}function zi(m){function v(F,W){if(W){for(var ee=arguments.length,ne=new Array(ee-1);--ee;)ne[ee-1]=arguments[ee];return E[F].subscribe.apply(null,ne),m}if(typeof F=="string")return E[F]}var E={};v.addEventType=O;for(var D=1,R=arguments.length;D<R;++D)O(arguments[D]);return v;function O(F,W,ee){if(typeof F!="object"){var ne;W=W||Ml;var oe={subscribers:[],fire:ee=ee||et,subscribe:function($){oe.subscribers.indexOf($)===-1&&(oe.subscribers.push($),oe.fire=W(oe.fire,$))},unsubscribe:function($){oe.subscribers=oe.subscribers.filter(function(ue){return ue!==$}),oe.fire=oe.subscribers.reduce(W,ee)}};return E[F]=v[F]=oe}l(ne=F).forEach(function($){var ue=ne[$];if(c(ue))O($,ne[$][0],ne[$][1]);else{if(ue!=="asap")throw new Pe.InvalidArgument("Invalid event config");var Z=O($,jt,function(){for(var ae=arguments.length,ce=new Array(ae);ae--;)ce[ae]=arguments[ae];Z.subscribers.forEach(function(re){X(function(){re.apply(null,ce)})})})}})}}function _s(m,v){return M(v).from({prototype:m}),v}function si(m,v){return!(m.filter||m.algorithm||m.or)&&(v?m.justLimit:!m.replayFilter)}function Pl(m,v){m.filter=Fi(m.filter,v)}function bn(m,v,E){var D=m.replayFilter;m.replayFilter=D?function(){return Fi(D(),v())}:v,m.justLimit=E&&!D}function or(m,v){if(m.isPrimKey)return v.primaryKey;var E=v.getIndexByKeyPath(m.index);if(!E)throw new Pe.Schema("KeyPath "+m.index+" on object store "+v.name+" is not indexed");return E}function Ys(m,v,E){var D=or(m,v.schema);return v.openCursor({trans:E,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:D,range:m.range}})}function Si(m,v,E,D){var R=m.replayFilter?Fi(m.filter,m.replayFilter()):m.filter;if(m.or){var O={},F=function(W,ee,ne){var oe,$;R&&!R(ee,ne,function(ue){return ee.stop(ue)},function(ue){return ee.fail(ue)})||(($=""+(oe=ee.primaryKey))=="[object ArrayBuffer]"&&($=""+new Uint8Array(oe)),_(O,$)||(O[$]=!0,v(W,ee,ne)))};return Promise.all([m.or._iterate(F,E),Hi(Ys(m,D,E),m.algorithm,F,!m.keysOnly&&m.valueMapper)])}return Hi(Ys(m,D,E),Fi(m.algorithm,R),v,!m.keysOnly&&m.valueMapper)}function Hi(m,v,E,D){var R=gt(D?function(O,F,W){return E(D(O),F,W)}:E);return m.then(function(O){if(O)return O.start(function(){var F=function(){return O.continue()};v&&!v(O,function(W){return F=W},function(W){O.stop(W),F=et},function(W){O.fail(W),F=et})||R(O.value,O,function(W){return F=W}),F()})})}var Vt=(qs.prototype.execute=function(m){var v=this["@@propmod"];if(v.add!==void 0){var E=v.add;if(c(E))return i(i([],c(m)?m:[],!0),E).sort();if(typeof E=="number")return(Number(m)||0)+E;if(typeof E=="bigint")try{return BigInt(m)+E}catch{return BigInt(0)+E}throw new TypeError("Invalid term ".concat(E))}if(v.remove!==void 0){var D=v.remove;if(c(D))return c(m)?m.filter(function(R){return!D.includes(R)}).sort():[];if(typeof D=="number")return Number(m)-D;if(typeof D=="bigint")try{return BigInt(m)-D}catch{return BigInt(0)-D}throw new TypeError("Invalid subtrahend ".concat(D))}return E=(E=v.replacePrefix)===null||E===void 0?void 0:E[0],E&&typeof m=="string"&&m.startsWith(E)?v.replacePrefix[1]+m.substring(E.length):m},qs);function qs(m){this["@@propmod"]=m}var ai=(Et.prototype._read=function(m,v){var E=this._ctx;return E.error?E.table._trans(null,dn.bind(null,E.error)):E.table._trans("readonly",m).then(v)},Et.prototype._write=function(m){var v=this._ctx;return v.error?v.table._trans(null,dn.bind(null,v.error)):v.table._trans("readwrite",m,"locked")},Et.prototype._addAlgorithm=function(m){var v=this._ctx;v.algorithm=Fi(v.algorithm,m)},Et.prototype._iterate=function(m,v){return Si(this._ctx,m,v,this._ctx.table.core)},Et.prototype.clone=function(m){var v=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return m&&h(E,m),v._ctx=E,v},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(m){var v=this._ctx;return this._read(function(E){return Si(v,m,E,v.table.core)})},Et.prototype.count=function(m){var v=this;return this._read(function(E){var D=v._ctx,R=D.table.core;if(si(D,!0))return R.count({trans:E,query:{index:or(D,R.schema),range:D.range}}).then(function(F){return Math.min(F,D.limit)});var O=0;return Si(D,function(){return++O,!1},E,R).then(function(){return O})}).then(m)},Et.prototype.sortBy=function(m,v){var E=m.split(".").reverse(),D=E[0],R=E.length-1;function O(ee,ne){return ne?O(ee[E[ne]],ne-1):ee[D]}var F=this._ctx.dir==="next"?1:-1;function W(ee,ne){return bt(O(ee,R),O(ne,R))*F}return this.toArray(function(ee){return ee.sort(W)}).then(v)},Et.prototype.toArray=function(m){var v=this;return this._read(function(E){var D=v._ctx;if(D.dir==="next"&&si(D,!0)&&0<D.limit){var R=D.valueMapper,O=or(D,D.table.core.schema);return D.table.core.query({trans:E,limit:D.limit,values:!0,query:{index:O,range:D.range}}).then(function(W){return W=W.result,R?W.map(R):W})}var F=[];return Si(D,function(W){return F.push(W)},E,D.table.core).then(function(){return F})},m)},Et.prototype.offset=function(m){var v=this._ctx;return m<=0||(v.offset+=m,si(v)?bn(v,function(){var E=m;return function(D,R){return E===0||(E===1?--E:R(function(){D.advance(E),E=0}),!1)}}):bn(v,function(){var E=m;return function(){return--E<0}})),this},Et.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),bn(this._ctx,function(){var v=m;return function(E,D,R){return--v<=0&&D(R),0<=v}},!0),this},Et.prototype.until=function(m,v){return Pl(this._ctx,function(E,D,R){return!m(E.value)||(D(R),v)}),this},Et.prototype.first=function(m){return this.limit(1).toArray(function(v){return v[0]}).then(m)},Et.prototype.last=function(m){return this.reverse().first(m)},Et.prototype.filter=function(m){var v;return Pl(this._ctx,function(E){return m(E.value)}),(v=this._ctx).isMatch=Fi(v.isMatch,m),this},Et.prototype.and=function(m){return this.filter(m)},Et.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},Et.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(E,D){m(D.key,D)})},Et.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},Et.prototype.eachPrimaryKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(E,D){m(D.primaryKey,D)})},Et.prototype.keys=function(m){var v=this._ctx;v.keysOnly=!v.isMatch;var E=[];return this.each(function(D,R){E.push(R.key)}).then(function(){return E}).then(m)},Et.prototype.primaryKeys=function(m){var v=this._ctx;if(v.dir==="next"&&si(v,!0)&&0<v.limit)return this._read(function(D){var R=or(v,v.table.core.schema);return v.table.core.query({trans:D,values:!1,limit:v.limit,query:{index:R,range:v.range}})}).then(function(D){return D.result}).then(m);v.keysOnly=!v.isMatch;var E=[];return this.each(function(D,R){E.push(R.primaryKey)}).then(function(){return E}).then(m)},Et.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},Et.prototype.firstKey=function(m){return this.limit(1).keys(function(v){return v[0]}).then(m)},Et.prototype.lastKey=function(m){return this.reverse().firstKey(m)},Et.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var v={};return Pl(this._ctx,function(R){var D=R.primaryKey.toString(),R=_(v,D);return v[D]=!0,!R}),this},Et.prototype.modify=function(m){var v=this,E=this._ctx;return this._write(function(D){var R,O,F;F=typeof m=="function"?m:(R=l(m),O=R.length,function(re){for(var me=!1,ve=0;ve<O;++ve){var _e=R[ve],Te=m[_e],Ve=de(re,_e);Te instanceof Vt?(V(re,_e,Te.execute(Ve)),me=!0):Ve!==Te&&(V(re,_e,Te),me=!0)}return me});var W=E.table.core,$=W.schema.primaryKey,ee=$.outbound,ne=$.extractKey,oe=200,$=v.db._options.modifyChunkSize;$&&(oe=typeof $=="object"?$[W.name]||$["*"]||200:$);function ue(re,_e){var ve=_e.failures,_e=_e.numFailures;ae+=re-_e;for(var Te=0,Ve=l(ve);Te<Ve.length;Te++){var je=Ve[Te];Z.push(ve[je])}}var Z=[],ae=0,ce=[];return v.clone().primaryKeys().then(function(re){function me(_e){var Te=Math.min(oe,re.length-_e);return W.getMany({trans:D,keys:re.slice(_e,_e+Te),cache:"immutable"}).then(function(Ve){for(var je=[],Ne=[],Be=ee?[]:null,ze=[],Le=0;Le<Te;++Le){var We=Ve[Le],nt={value:j(We),primKey:re[_e+Le]};F.call(nt,nt.value,nt)!==!1&&(nt.value==null?ze.push(re[_e+Le]):ee||bt(ne(We),ne(nt.value))===0?(Ne.push(nt.value),ee&&Be.push(re[_e+Le])):(ze.push(re[_e+Le]),je.push(nt.value)))}return Promise.resolve(0<je.length&&W.mutate({trans:D,type:"add",values:je}).then(function(lt){for(var yt in lt.failures)ze.splice(parseInt(yt),1);ue(je.length,lt)})).then(function(){return(0<Ne.length||ve&&typeof m=="object")&&W.mutate({trans:D,type:"put",keys:Be,values:Ne,criteria:ve,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<_e}).then(function(lt){return ue(Ne.length,lt)})}).then(function(){return(0<ze.length||ve&&m===To)&&W.mutate({trans:D,type:"delete",keys:ze,criteria:ve,isAdditionalChunk:0<_e}).then(function(lt){return ue(ze.length,lt)})}).then(function(){return re.length>_e+Te&&me(_e+oe)})})}var ve=si(E)&&E.limit===1/0&&(typeof m!="function"||m===To)&&{index:E.index,range:E.range};return me(0).then(function(){if(0<Z.length)throw new ot("Error modifying one or more objects",Z,ae,ce);return re.length})})})},Et.prototype.delete=function(){var m=this._ctx,v=m.range;return si(m)&&(m.isPrimKey||v.type===3)?this._write(function(E){var D=m.table.core.schema.primaryKey,R=v;return m.table.core.count({trans:E,query:{index:D,range:R}}).then(function(O){return m.table.core.mutate({trans:E,type:"deleteRange",range:R}).then(function(F){var W=F.failures;if(F.lastResult,F.results,F=F.numFailures,F)throw new ot("Could not delete some values",Object.keys(W).map(function(ee){return W[ee]}),O-F);return O-F})})}):this.modify(To)},Et);function Et(){}var To=function(m,v){return v.value=null};function Nl(m,v){return m<v?-1:m===v?0:1}function Ll(m,v){return v<m?-1:m===v?0:1}function xr(m,v,E){return m=m instanceof Yi?new m.Collection(m):m,m._ctx.error=new(E||TypeError)(v),m}function Ws(m){return new m.Collection(m,function(){return Xr("")}).limit(0)}function bs(m,v,E,D){var R,O,F,W,ee,ne,oe,$=E.length;if(!E.every(function(ae){return typeof ae=="string"}))return xr(m,Ol);function ue(ae){R=ae==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},O=ae==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},F=ae==="next"?Nl:Ll;var ce=E.map(function(re){return{lower:O(re),upper:R(re)}}).sort(function(re,me){return F(re.lower,me.lower)});W=ce.map(function(re){return re.upper}),ee=ce.map(function(re){return re.lower}),oe=(ne=ae)==="next"?"":D}ue("next"),m=new m.Collection(m,function(){return lr(W[0],ee[$-1]+D)}),m._ondirectionchange=function(ae){ue(ae)};var Z=0;return m._addAlgorithm(function(ae,ce,re){var me=ae.key;if(typeof me!="string")return!1;var ve=O(me);if(v(ve,ee,Z))return!0;for(var _e=null,Te=Z;Te<$;++Te){var Ve=function(je,Ne,Be,ze,Le,We){for(var nt=Math.min(je.length,ze.length),lt=-1,yt=0;yt<nt;++yt){var Sr=Ne[yt];if(Sr!==ze[yt])return Le(je[yt],Be[yt])<0?je.substr(0,yt)+Be[yt]+Be.substr(yt+1):Le(je[yt],ze[yt])<0?je.substr(0,yt)+ze[yt]+Be.substr(yt+1):0<=lt?je.substr(0,lt)+Ne[lt]+Be.substr(lt+1):null;Le(je[yt],Sr)<0&&(lt=yt)}return nt<ze.length&&We==="next"?je+Be.substr(je.length):nt<je.length&&We==="prev"?je.substr(0,Be.length):lt<0?null:je.substr(0,lt)+ze[lt]+Be.substr(lt+1)}(me,ve,W[Te],ee[Te],F,ne);Ve===null&&_e===null?Z=Te+1:(_e===null||0<F(_e,Ve))&&(_e=Ve)}return ce(_e!==null?function(){ae.continue(_e+oe)}:re),!1}),m}function lr(m,v,E,D){return{type:2,lower:m,upper:v,lowerOpen:E,upperOpen:D}}function Xr(m){return{type:1,lower:m,upper:m}}var Yi=(Object.defineProperty(ln.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ln.prototype.between=function(m,v,E,D){E=E!==!1,D=D===!0;try{return 0<this._cmp(m,v)||this._cmp(m,v)===0&&(E||D)&&(!E||!D)?Ws(this):new this.Collection(this,function(){return lr(m,v,!E,!D)})}catch{return xr(this,Er)}},ln.prototype.equals=function(m){return m==null?xr(this,Er):new this.Collection(this,function(){return Xr(m)})},ln.prototype.above=function(m){return m==null?xr(this,Er):new this.Collection(this,function(){return lr(m,void 0,!0)})},ln.prototype.aboveOrEqual=function(m){return m==null?xr(this,Er):new this.Collection(this,function(){return lr(m,void 0,!1)})},ln.prototype.below=function(m){return m==null?xr(this,Er):new this.Collection(this,function(){return lr(void 0,m,!1,!0)})},ln.prototype.belowOrEqual=function(m){return m==null?xr(this,Er):new this.Collection(this,function(){return lr(void 0,m)})},ln.prototype.startsWith=function(m){return typeof m!="string"?xr(this,Ol):this.between(m,m+Ui,!0,!0)},ln.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):bs(this,function(v,E){return v.indexOf(E[0])===0},[m],Ui)},ln.prototype.equalsIgnoreCase=function(m){return bs(this,function(v,E){return v===E[0]},[m],"")},ln.prototype.anyOfIgnoreCase=function(){var m=G.apply(Qe,arguments);return m.length===0?Ws(this):bs(this,function(v,E){return E.indexOf(v)!==-1},m,"")},ln.prototype.startsWithAnyOfIgnoreCase=function(){var m=G.apply(Qe,arguments);return m.length===0?Ws(this):bs(this,function(v,E){return E.some(function(D){return v.indexOf(D)===0})},m,Ui)},ln.prototype.anyOf=function(){var m=this,v=G.apply(Qe,arguments),E=this._cmp;try{v.sort(E)}catch{return xr(this,Er)}if(v.length===0)return Ws(this);var D=new this.Collection(this,function(){return lr(v[0],v[v.length-1])});D._ondirectionchange=function(O){E=O==="next"?m._ascending:m._descending,v.sort(E)};var R=0;return D._addAlgorithm(function(O,F,W){for(var ee=O.key;0<E(ee,v[R]);)if(++R===v.length)return F(W),!1;return E(ee,v[R])===0||(F(function(){O.continue(v[R])}),!1)}),D},ln.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ln.prototype.noneOf=function(){var m=G.apply(Qe,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return xr(this,Er)}var v=m.reduce(function(E,D){return E?E.concat([[E[E.length-1][1],D]]):[[-1/0,D]]},null);return v.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},ln.prototype.inAnyRange=function(me,v){var E=this,D=this._cmp,R=this._ascending,O=this._descending,F=this._min,W=this._max;if(me.length===0)return Ws(this);if(!me.every(function(ve){return ve[0]!==void 0&&ve[1]!==void 0&&R(ve[0],ve[1])<=0}))return xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var ee=!v||v.includeLowers!==!1,ne=v&&v.includeUppers===!0,oe,$=R;function ue(ve,_e){return $(ve[0],_e[0])}try{(oe=me.reduce(function(ve,_e){for(var Te=0,Ve=ve.length;Te<Ve;++Te){var je=ve[Te];if(D(_e[0],je[1])<0&&0<D(_e[1],je[0])){je[0]=F(je[0],_e[0]),je[1]=W(je[1],_e[1]);break}}return Te===Ve&&ve.push(_e),ve},[])).sort(ue)}catch{return xr(this,Er)}var Z=0,ae=ne?function(ve){return 0<R(ve,oe[Z][1])}:function(ve){return 0<=R(ve,oe[Z][1])},ce=ee?function(ve){return 0<O(ve,oe[Z][0])}:function(ve){return 0<=O(ve,oe[Z][0])},re=ae,me=new this.Collection(this,function(){return lr(oe[0][0],oe[oe.length-1][1],!ee,!ne)});return me._ondirectionchange=function(ve){$=ve==="next"?(re=ae,R):(re=ce,O),oe.sort(ue)},me._addAlgorithm(function(ve,_e,Te){for(var Ve,je=ve.key;re(je);)if(++Z===oe.length)return _e(Te),!1;return!ae(Ve=je)&&!ce(Ve)||(E._cmp(je,oe[Z][1])===0||E._cmp(je,oe[Z][0])===0||_e(function(){$===R?ve.continue(oe[Z][0]):ve.continue(oe[Z][1])}),!1)}),me},ln.prototype.startsWithAnyOf=function(){var m=G.apply(Qe,arguments);return m.every(function(v){return typeof v=="string"})?m.length===0?Ws(this):this.inAnyRange(m.map(function(v){return[v,v+Ui]})):xr(this,"startsWithAnyOf() only works with strings")},ln);function ln(){}function Or(m){return gt(function(v){return Pr(v),m(v.target.error),!1})}function Pr(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var Ks="storagemutated",ws="x-storagemutated-1",qn=zi(null,Ks),oi=(ur.prototype._lock=function(){return se(!$e.global),++this._reculock,this._reculock!==1||$e.global||($e.lockOwnerFor=this),this},ur.prototype._unlock=function(){if(se(!$e.global),--this._reculock==0)for($e.global||($e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{ri(m[1],m[0])}catch{}}return this},ur.prototype._locked=function(){return this._reculock&&$e.lockOwnerFor!==this},ur.prototype.create=function(m){var v=this;if(!this.mode)return this;var E=this.db.idbdb,D=this.db._state.dbOpenError;if(se(!this.idbtrans),!m&&!E)switch(D&&D.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(D);case"MissingAPIError":throw new Pe.MissingAPI(D.message,D);default:throw new Pe.OpenFailed(D)}if(!this.active)throw new Pe.TransactionInactive;return se(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=gt(function(R){Pr(R),v._reject(m.error)}),m.onabort=gt(function(R){Pr(R),v.active&&v._reject(new Pe.Abort(m.error)),v.active=!1,v.on("abort").fire(R)}),m.oncomplete=gt(function(){v.active=!1,v._resolve(),"mutatedParts"in m&&qn.storagemutated.fire(m.mutatedParts)}),this},ur.prototype._promise=function(m,v,E){var D=this;if(m==="readwrite"&&this.mode!=="readwrite")return dn(new Pe.ReadOnly("Transaction is readonly"));if(!this.active)return dn(new Pe.TransactionInactive);if(this._locked())return new Ye(function(O,F){D._blockedFuncs.push([function(){D._promise(m,v,E).then(O,F)},$e])});if(E)return br(function(){var O=new Ye(function(F,W){D._lock();var ee=v(F,W,D);ee&&ee.then&&ee.then(F,W)});return O.finally(function(){return D._unlock()}),O._lib=!0,O});var R=new Ye(function(O,F){var W=v(O,F,D);W&&W.then&&W.then(O,F)});return R._lib=!0,R},ur.prototype._root=function(){return this.parent?this.parent._root():this},ur.prototype.waitFor=function(m){var v,E=this._root(),D=Ye.resolve(m);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return D}):(E._waitingFor=D,E._waitingQueue=[],v=E.idbtrans.objectStore(E.storeNames[0]),function O(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(v.get(-1/0).onsuccess=O)}());var R=E._waitingFor;return new Ye(function(O,F){D.then(function(W){return E._waitingQueue.push(gt(O.bind(null,W)))},function(W){return E._waitingQueue.push(gt(F.bind(null,W)))}).finally(function(){E._waitingFor===R&&(E._waitingFor=null)})})},ur.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},ur.prototype.table=function(m){var v=this._memoizedTables||(this._memoizedTables={});if(_(v,m))return v[m];var E=this.schema[m];if(!E)throw new Pe.NotFound("Table "+m+" not part of transaction");return E=new this.db.Table(m,E,this),E.core=this.db.core.table(m),v[m]=E},ur);function ur(){}function li(m,v,E,D,R,O,F){return{name:m,keyPath:v,unique:E,multi:D,auto:R,compound:O,src:(E&&!F?"&":"")+(D?"*":"")+(R?"++":"")+Es(v)}}function Es(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function Ti(m,v,E){return{name:m,primKey:v,indexes:E,mappedClass:null,idxByName:(D=function(R){return[R.name,R]},E.reduce(function(R,O,F){return F=D(O,F),F&&(R[F[0]]=F[1]),R},{}))};var D}var xs=function(m){try{return m.only([[]]),xs=function(){return[[]]},[[]]}catch{return xs=function(){return Ui},Ui}};function ui(m){return m==null?function(){}:typeof m=="string"?(v=m).split(".").length===1?function(E){return E[v]}:function(E){return de(E,v)}:function(E){return de(E,m)};var v}function Di(m){return[].slice.call(m)}var Vl=0;function wn(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function Yt(m,v,ee){function D(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Z=re.lower,ae=re.upper,ce=re.lowerOpen,re=re.upperOpen;return Z===void 0?ae===void 0?null:v.upperBound(ae,!!re):ae===void 0?v.lowerBound(Z,!!ce):v.bound(Z,ae,!!ce,!!re)}function R(ue){var Z,ae=ue.name;return{name:ae,schema:ue,mutate:function(ce){var re=ce.trans,me=ce.type,ve=ce.keys,_e=ce.values,Te=ce.range;return new Promise(function(Ve,je){Ve=gt(Ve);var Ne=re.objectStore(ae),Be=Ne.keyPath==null,ze=me==="put"||me==="add";if(!ze&&me!=="delete"&&me!=="deleteRange")throw new Error("Invalid operation type: "+me);var Le,We=(ve||_e||{length:1}).length;if(ve&&_e&&ve.length!==_e.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Ve({numFailures:0,failures:{},results:[],lastResult:void 0});function nt(cr){++Sr,Pr(cr)}var lt=[],yt=[],Sr=0;if(me==="deleteRange"){if(Te.type===4)return Ve({numFailures:Sr,failures:yt,results:[],lastResult:void 0});Te.type===3?lt.push(Le=Ne.clear()):lt.push(Le=Ne.delete(D(Te)))}else{var Be=ze?Be?[_e,ve]:[_e,null]:[ve,null],dt=Be[0],Vn=Be[1];if(ze)for(var Kn=0;Kn<We;++Kn)lt.push(Le=Vn&&Vn[Kn]!==void 0?Ne[me](dt[Kn],Vn[Kn]):Ne[me](dt[Kn])),Le.onerror=nt;else for(Kn=0;Kn<We;++Kn)lt.push(Le=Ne[me](dt[Kn])),Le.onerror=nt}function Rs(cr){cr=cr.target.result,lt.forEach(function(Zi,Xs){return Zi.error!=null&&(yt[Xs]=Zi.error)}),Ve({numFailures:Sr,failures:yt,results:me==="delete"?ve:lt.map(function(Zi){return Zi.result}),lastResult:cr})}Le.onerror=function(cr){nt(cr),Rs(cr)},Le.onsuccess=Rs})},getMany:function(ce){var re=ce.trans,me=ce.keys;return new Promise(function(ve,_e){ve=gt(ve);for(var Te,Ve=re.objectStore(ae),je=me.length,Ne=new Array(je),Be=0,ze=0,Le=function(lt){lt=lt.target,Ne[lt._pos]=lt.result,++ze===Be&&ve(Ne)},We=Or(_e),nt=0;nt<je;++nt)me[nt]!=null&&((Te=Ve.get(me[nt]))._pos=nt,Te.onsuccess=Le,Te.onerror=We,++Be);Be===0&&ve(Ne)})},get:function(ce){var re=ce.trans,me=ce.key;return new Promise(function(ve,_e){ve=gt(ve);var Te=re.objectStore(ae).get(me);Te.onsuccess=function(Ve){return ve(Ve.target.result)},Te.onerror=Or(_e)})},query:(Z=ne,function(ce){return new Promise(function(re,me){re=gt(re);var ve,_e,Te,Be=ce.trans,Ve=ce.values,je=ce.limit,Le=ce.query,Ne=je===1/0?void 0:je,ze=Le.index,Le=Le.range,Be=Be.objectStore(ae),ze=ze.isPrimaryKey?Be:Be.index(ze.name),Le=D(Le);if(je===0)return re({result:[]});Z?((Ne=Ve?ze.getAll(Le,Ne):ze.getAllKeys(Le,Ne)).onsuccess=function(We){return re({result:We.target.result})},Ne.onerror=Or(me)):(ve=0,_e=!Ve&&"openKeyCursor"in ze?ze.openKeyCursor(Le):ze.openCursor(Le),Te=[],_e.onsuccess=function(We){var nt=_e.result;return nt?(Te.push(Ve?nt.value:nt.primaryKey),++ve===je?re({result:Te}):void nt.continue()):re({result:Te})},_e.onerror=Or(me))})}),openCursor:function(ce){var re=ce.trans,me=ce.values,ve=ce.query,_e=ce.reverse,Te=ce.unique;return new Promise(function(Ve,je){Ve=gt(Ve);var ze=ve.index,Ne=ve.range,Be=re.objectStore(ae),Be=ze.isPrimaryKey?Be:Be.index(ze.name),ze=_e?Te?"prevunique":"prev":Te?"nextunique":"next",Le=!me&&"openKeyCursor"in Be?Be.openKeyCursor(D(Ne),ze):Be.openCursor(D(Ne),ze);Le.onerror=Or(je),Le.onsuccess=gt(function(We){var nt,lt,yt,Sr,dt=Le.result;dt?(dt.___id=++Vl,dt.done=!1,nt=dt.continue.bind(dt),lt=(lt=dt.continuePrimaryKey)&&lt.bind(dt),yt=dt.advance.bind(dt),Sr=function(){throw new Error("Cursor not stopped")},dt.trans=re,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=gt(je),dt.next=function(){var Vn=this,Kn=1;return this.start(function(){return Kn--?Vn.continue():Vn.stop()}).then(function(){return Vn})},dt.start=function(Vn){function Kn(){if(Le.result)try{Vn()}catch(cr){dt.fail(cr)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var Rs=new Promise(function(cr,Zi){cr=gt(cr),Le.onerror=Or(Zi),dt.fail=Zi,dt.stop=function(Xs){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=Sr,cr(Xs)}});return Le.onsuccess=gt(function(cr){Le.onsuccess=Kn,Kn()}),dt.continue=nt,dt.continuePrimaryKey=lt,dt.advance=yt,Kn(),Rs},Ve(dt)):Ve(null)},je)})},count:function(ce){var re=ce.query,me=ce.trans,ve=re.index,_e=re.range;return new Promise(function(Te,Ve){var je=me.objectStore(ae),Ne=ve.isPrimaryKey?je:je.index(ve.name),je=D(_e),Ne=je?Ne.count(je):Ne.count();Ne.onsuccess=gt(function(Be){return Te(Be.target.result)}),Ne.onerror=Or(Ve)})}}}var O,F,W,oe=(F=ee,W=Di((O=m).objectStoreNames),{schema:{name:O.name,tables:W.map(function(ue){return F.objectStore(ue)}).map(function(ue){var Z=ue.keyPath,re=ue.autoIncrement,ae=c(Z),ce={},re={name:ue.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Z==null,compound:ae,keyPath:Z,autoIncrement:re,unique:!0,extractKey:ui(Z)},indexes:Di(ue.indexNames).map(function(me){return ue.index(me)}).map(function(Te){var ve=Te.name,_e=Te.unique,Ve=Te.multiEntry,Te=Te.keyPath,Ve={name:ve,compound:c(Te),keyPath:Te,unique:_e,multiEntry:Ve,extractKey:ui(Te)};return ce[wn(Te)]=Ve}),getIndexByKeyPath:function(me){return ce[wn(me)]}};return ce[":id"]=re.primaryKey,Z!=null&&(ce[wn(Z)]=re.primaryKey),re})},hasGetAll:0<W.length&&"getAll"in F.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ee=oe.schema,ne=oe.hasGetAll,oe=ee.tables.map(R),$={};return oe.forEach(function(ue){return $[ue.name]=ue}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(ue){if(!$[ue])throw new Error("Table '".concat(ue,"' not found"));return $[ue]},MIN_KEY:-1/0,MAX_KEY:xs(v),schema:ee}}function Do(m,v,E,D){var R=E.IDBKeyRange;return E.indexedDB,{dbcore:(D=Yt(v,R,D),m.dbcore.reduce(function(O,F){return F=F.create,n(n({},O),F(O))},D))}}function qi(m,D){var E=D.db,D=Do(m._middlewares,E,m._deps,D);m.core=D.dbcore,m.tables.forEach(function(R){var O=R.name;m.core.schema.tables.some(function(F){return F.name===O})&&(R.core=m.core.table(O),m[O]instanceof m.Table&&(m[O].core=R.core))})}function Ma(m,v,E,D){E.forEach(function(R){var O=D[R];v.forEach(function(F){var W=function ee(ne,oe){return k(ne,oe)||(ne=d(ne))&&ee(ne,oe)}(F,R);(!W||"value"in W&&W.value===void 0)&&(F===m.Transaction.prototype||F instanceof m.Transaction?T(F,R,{get:function(){return this.table(R)},set:function(ee){S(this,R,{value:ee,writable:!0,configurable:!0,enumerable:!0})}}):F[R]=new m.Table(R,O))})})}function Gs(m,v){v.forEach(function(E){for(var D in E)E[D]instanceof m.Table&&delete E[D]})}function Ao(m,v){return m._cfg.version-v._cfg.version}function Wi(m,v,E,D){var R=m._dbSchema;E.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=Ti("$meta",Oa("")[0],[]),m._storeNames.push("$meta"));var O=m._createTransaction("readwrite",m._storeNames,R);O.create(E),O._completion.catch(D);var F=O._reject.bind(O),W=$e.transless||$e;br(function(){return $e.trans=O,$e.transless=W,v!==0?(qi(m,E),ne=v,((ee=O).storeNames.includes("$meta")?ee.table("$meta").get("version").then(function(oe){return oe??ne}):Ye.resolve(ne)).then(function(oe){return ue=oe,Z=O,ae=E,ce=[],oe=($=m)._versions,re=$._dbSchema=Ss(0,$.idbdb,ae),(oe=oe.filter(function(me){return me._cfg.version>=ue})).length!==0?(oe.forEach(function(me){ce.push(function(){var ve=re,_e=me._cfg.dbschema;Qs($,ve,ae),Qs($,_e,ae),re=$._dbSchema=_e;var Te=Nr(ve,_e);Te.add.forEach(function(ze){Co(ae,ze[0],ze[1].primKey,ze[1].indexes)}),Te.change.forEach(function(ze){if(ze.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var Le=ae.objectStore(ze.name);ze.add.forEach(function(We){return Ki(Le,We)}),ze.change.forEach(function(We){Le.deleteIndex(We.name),Ki(Le,We)}),ze.del.forEach(function(We){return Le.deleteIndex(We)})});var Ve=me._cfg.contentUpgrade;if(Ve&&me._cfg.version>ue){qi($,ae),Z._memoizedTables={};var je=I(_e);Te.del.forEach(function(ze){je[ze]=ve[ze]}),Gs($,[$.Transaction.prototype]),Ma($,[$.Transaction.prototype],l(je),je),Z.schema=je;var Ne,Be=xe(Ve);return Be&&Ir(),Te=Ye.follow(function(){var ze;(Ne=Ve(Z))&&Be&&(ze=Xn.bind(null,null),Ne.then(ze,ze))}),Ne&&typeof Ne.then=="function"?Ye.resolve(Ne):Te.then(function(){return Ne})}}),ce.push(function(ve){var _e,Te,Ve=me._cfg.dbschema;_e=Ve,Te=ve,[].slice.call(Te.db.objectStoreNames).forEach(function(je){return _e[je]==null&&Te.db.deleteObjectStore(je)}),Gs($,[$.Transaction.prototype]),Ma($,[$.Transaction.prototype],$._storeNames,$._dbSchema),Z.schema=$._dbSchema}),ce.push(function(ve){$.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($.idbdb.version/10)===me._cfg.version?($.idbdb.deleteObjectStore("$meta"),delete $._dbSchema.$meta,$._storeNames=$._storeNames.filter(function(_e){return _e!=="$meta"})):ve.objectStore("$meta").put(me._cfg.version,"version"))})}),function me(){return ce.length?Ye.resolve(ce.shift()(Z.idbtrans)).then(me):Ye.resolve()}().then(function(){Fu(re,ae)})):Ye.resolve();var $,ue,Z,ae,ce,re}).catch(F)):(l(R).forEach(function(oe){Co(E,oe,R[oe].primKey,R[oe].indexes)}),qi(m,E),void Ye.follow(function(){return m.on.populate.fire(O)}).catch(F));var ee,ne})}function Ia(m,v){Fu(m._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var E=Ss(0,m.idbdb,v);Qs(m,m._dbSchema,v);for(var D=0,R=Nr(E,m._dbSchema).change;D<R.length;D++){var O=function(F){if(F.change.length||F.recreate)return console.warn("Unable to patch indexes of table ".concat(F.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=v.objectStore(F.name);F.add.forEach(function(ee){sr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(F.name,".").concat(ee.src)),Ki(W,ee)})}(R[D]);if(typeof O=="object")return O.value}}function Nr(m,v){var E,D={del:[],add:[],change:[]};for(E in m)v[E]||D.del.push(E);for(E in v){var R=m[E],O=v[E];if(R){var F={name:E,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||R.primKey.auto!==O.primKey.auto)F.recreate=!0,D.change.push(F);else{var W=R.idxByName,ee=O.idxByName,ne=void 0;for(ne in W)ee[ne]||F.del.push(ne);for(ne in ee){var oe=W[ne],$=ee[ne];oe?oe.src!==$.src&&F.change.push($):F.add.push($)}(0<F.del.length||0<F.add.length||0<F.change.length)&&D.change.push(F)}}else D.add.push([E,O])}return D}function Co(m,v,E,D){var R=m.db.createObjectStore(v,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return D.forEach(function(O){return Ki(R,O)}),R}function Fu(m,v){l(m).forEach(function(E){v.db.objectStoreNames.contains(E)||(sr&&console.debug("Dexie: Creating missing table",E),Co(v,E,m[E].primKey,m[E].indexes))})}function Ki(m,v){m.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function Ss(m,v,E){var D={};return q(v.objectStoreNames,0).forEach(function(R){for(var O=E.objectStore(R),F=li(Es(ne=O.keyPath),ne||"",!0,!1,!!O.autoIncrement,ne&&typeof ne!="string",!0),W=[],ee=0;ee<O.indexNames.length;++ee){var oe=O.index(O.indexNames[ee]),ne=oe.keyPath,oe=li(oe.name,ne,!!oe.unique,!!oe.multiEntry,!1,ne&&typeof ne!="string",!1);W.push(oe)}D[R]=Ti(R,F,W)}),D}function Qs(m,v,E){for(var D=E.db.objectStoreNames,R=0;R<D.length;++R){var O=D[R],F=E.objectStore(O);m._hasGetAll="getAll"in F;for(var W=0;W<F.indexNames.length;++W){var ee=F.indexNames[W],ne=F.index(ee).keyPath,oe=typeof ne=="string"?ne:"["+q(ne).join("+")+"]";!v[O]||(ne=v[O].idxByName[oe])&&(ne.name=ee,delete v[O].idxByName[oe],v[O].idxByName[ee]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Oa(m){return m.split(",").map(function(v,E){var D=(v=v.trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(D)?D.match(/^\[(.*)\]$/)[1].split("+"):D;return li(D,R||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),c(R),E===0)})}var ju=(Ts.prototype._parseStoresSpec=function(m,v){l(m).forEach(function(E){if(m[E]!==null){var D=Oa(m[E]),R=D.shift();if(R.unique=!0,R.multi)throw new Pe.Schema("Primary key cannot be multi-valued");D.forEach(function(O){if(O.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),v[E]=Ti(E,R,D)}})},Ts.prototype.stores=function(E){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,E):E;var E=v._versions,D={},R={};return E.forEach(function(O){h(D,O._cfg.storesSource),R=O._cfg.dbschema={},O._parseStoresSpec(D,R)}),v._dbSchema=R,Gs(v,[v._allTables,v,v.Transaction.prototype]),Ma(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],l(R),R),v._storeNames=l(R),this},Ts.prototype.upgrade=function(m){return this._cfg.contentUpgrade=Fs(this._cfg.contentUpgrade||et,m),this},Ts);function Ts(){}function Bl(m,v){var E=m._dbNamesDB;return E||(E=m._dbNamesDB=new Xi($r,{addons:[],indexedDB:m,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function Pa(m){return m&&typeof m.databases=="function"}function Ds(m){return br(function(){return $e.letThrough=!0,m()})}function ko(m){return!("from"in m)}var Nn=function(m,v){if(!this){var E=new Nn;return m&&"d"in m&&h(E,m),E}h(this,arguments.length?{d:1,from:m,to:1<arguments.length?v:m}:{d:0})};function As(m,v,E){var D=bt(v,E);if(!isNaN(D)){if(0<D)throw RangeError();if(ko(m))return h(m,{from:v,to:E,d:1});var R=m.l,D=m.r;if(bt(E,m.from)<0)return R?As(R,v,E):m.l={from:v,to:E,d:1,l:null,r:null},Fl(m);if(0<bt(v,m.to))return D?As(D,v,E):m.r={from:v,to:E,d:1,l:null,r:null},Fl(m);bt(v,m.from)<0&&(m.from=v,m.l=null,m.d=D?D.d+1:1),0<bt(E,m.to)&&(m.to=E,m.r=null,m.d=m.l?m.l.d+1:1),E=!m.r,R&&!m.l&&Ai(m,R),D&&E&&Ai(m,D)}}function Ai(m,v){ko(v)||function E(D,ee){var O=ee.from,F=ee.to,W=ee.l,ee=ee.r;As(D,O,F),W&&E(D,W),ee&&E(D,ee)}(m,v)}function Ul(m,v){var E=Cs(v),D=E.next();if(D.done)return!1;for(var R=D.value,O=Cs(m),F=O.next(R.from),W=F.value;!D.done&&!F.done;){if(bt(W.from,R.to)<=0&&0<=bt(W.to,R.from))return!0;bt(R.from,W.from)<0?R=(D=E.next(W.from)).value:W=(F=O.next(R.from)).value}return!1}function Cs(m){var v=ko(m)?null:{s:0,n:m};return{next:function(E){for(var D=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,D)for(;v.n.l&&bt(E,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!D||bt(E,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Fl(m){var v,E,D=(((v=m.r)===null||v===void 0?void 0:v.d)||0)-(((E=m.l)===null||E===void 0?void 0:E.d)||0),R=1<D?"r":D<-1?"l":"";R&&(v=R=="r"?"l":"r",E=n({},m),D=m[R],m.from=D.from,m.to=D.to,m[R]=D[R],E[R]=D[v],(m[v]=E).d=Ro(E)),m.d=Ro(m)}function Ro(E){var v=E.r,E=E.l;return(v?E?Math.max(v.d,E.d):v.d:E?E.d:0)+1}function ci(m,v){return l(v).forEach(function(E){m[E]?Ai(m[E],v[E]):m[E]=function D(R){var O,F,W={};for(O in R)_(R,O)&&(F=R[O],W[O]=!F||typeof F!="object"||z.has(F.constructor)?F:D(F));return W}(v[E])}),m}function Mo(m,v){return m.all||v.all||Object.keys(m).some(function(E){return v[E]&&Ul(v[E],m[E])})}w(Nn.prototype,((Zr={add:function(m){return Ai(this,m),this},addKey:function(m){return As(this,m,m),this},addKeys:function(m){var v=this;return m.forEach(function(E){return As(v,E,E)}),this},hasKey:function(m){var v=Cs(this).next(m).value;return v&&bt(v.from,m)<=0&&0<=bt(v.to,m)}})[ie]=function(){return Cs(this)},Zr));var Gi={},Io={},Oo=!1;function ks(m){ci(Io,m),Oo||(Oo=!0,setTimeout(function(){Oo=!1,Zn(Io,!(Io={}))},0))}function Zn(m,v){v===void 0&&(v=!1);var E=new Set;if(m.all)for(var D=0,R=Object.values(Gi);D<R.length;D++)jl(F=R[D],m,E,v);else for(var O in m){var F,W=/^idb\:\/\/(.*)\/(.*)\//.exec(O);W&&(O=W[1],W=W[2],(F=Gi["idb://".concat(O,"/").concat(W)])&&jl(F,m,E,v))}E.forEach(function(ee){return ee()})}function jl(m,v,E,D){for(var R=[],O=0,F=Object.entries(m.queries.query);O<F.length;O++){for(var W=F[O],ee=W[0],ne=[],oe=0,$=W[1];oe<$.length;oe++){var ue=$[oe];Mo(v,ue.obsSet)?ue.subscribers.forEach(function(re){return E.add(re)}):D&&ne.push(ue)}D&&R.push([ee,ne])}if(D)for(var Z=0,ae=R;Z<ae.length;Z++){var ce=ae[Z],ee=ce[0],ne=ce[1];m.queries.query[ee]=ne}}function zu(m){var v=m._state,E=m._deps.indexedDB;if(v.isBeingOpened||m.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?dn(v.dbOpenError):m});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var D=v.openCanceller,R=Math.round(10*m.verno),O=!1;function F(){if(v.openCanceller!==D)throw new Pe.DatabaseClosed("db.open() was cancelled")}function W(){return new Ye(function(ue,Z){if(F(),!E)throw new Pe.MissingAPI;var ae=m.name,ce=v.autoSchema||!R?E.open(ae):E.open(ae,R);if(!ce)throw new Pe.MissingAPI;ce.onerror=Or(Z),ce.onblocked=gt(m._fireOnBlocked),ce.onupgradeneeded=gt(function(re){var me;oe=ce.transaction,v.autoSchema&&!m._options.allowEmptyDB?(ce.onerror=Pr,oe.abort(),ce.result.close(),(me=E.deleteDatabase(ae)).onsuccess=me.onerror=gt(function(){Z(new Pe.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})):(oe.onerror=Or(Z),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,$=re<1,m.idbdb=ce.result,O&&Ia(m,oe),Wi(m,re/10,oe,Z))},Z),ce.onsuccess=gt(function(){oe=null;var re,me,ve,_e,Te,Ve=m.idbdb=ce.result,je=q(Ve.objectStoreNames);if(0<je.length)try{var Ne=Ve.transaction((_e=je).length===1?_e[0]:_e,"readonly");if(v.autoSchema)me=Ve,ve=Ne,(re=m).verno=me.version/10,ve=re._dbSchema=Ss(0,me,ve),re._storeNames=q(me.objectStoreNames,0),Ma(re,[re._allTables],l(ve),ve);else if(Qs(m,m._dbSchema,Ne),((Te=Nr(Ss(0,(Te=m).idbdb,Ne),Te._dbSchema)).add.length||Te.change.some(function(Be){return Be.add.length||Be.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ve.close(),R=Ve.version+1,O=!0,ue(W());qi(m,Ne)}catch{}Qr.push(m),Ve.onversionchange=gt(function(Be){v.vcFired=!0,m.on("versionchange").fire(Be)}),Ve.onclose=gt(function(Be){m.on("close").fire(Be)}),$&&(Te=m._deps,Ne=ae,Ve=Te.indexedDB,Te=Te.IDBKeyRange,Pa(Ve)||Ne===$r||Bl(Ve,Te).put({name:Ne}).catch(et)),ue()},Z)}).catch(function(ue){switch(ue==null?void 0:ue.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<R)return R=0,W()}return Ye.reject(ue)})}var ee,ne=v.dbReadyResolve,oe=null,$=!1;return Ye.race([D,(typeof navigator>"u"?Ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ue){function Z(){return indexedDB.databases().finally(ue)}ee=setInterval(Z,100),Z()}).finally(function(){return clearInterval(ee)}):Promise.resolve()).then(W)]).then(function(){return F(),v.onReadyBeingFired=[],Ye.resolve(Ds(function(){return m.on.ready.fire(m.vip)})).then(function ue(){if(0<v.onReadyBeingFired.length){var Z=v.onReadyBeingFired.reduce(Fs,et);return v.onReadyBeingFired=[],Ye.resolve(Ds(function(){return Z(m.vip)})).then(ue)}})}).finally(function(){v.openCanceller===D&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(ue){v.dbOpenError=ue;try{oe&&oe.abort()}catch{}return D===v.openCanceller&&m._close(),dn(ue)}).finally(function(){v.openComplete=!0,ne()}).then(function(){var ue;return $&&(ue={},m.tables.forEach(function(Z){Z.schema.indexes.forEach(function(ae){ae.name&&(ue["idb://".concat(m.name,"/").concat(Z.name,"/").concat(ae.name)]=new Nn(-1/0,[[[]]]))}),ue["idb://".concat(m.name,"/").concat(Z.name,"/")]=ue["idb://".concat(m.name,"/").concat(Z.name,"/:dels")]=new Nn(-1/0,[[[]]])}),qn(Ks).fire(ue),Zn(ue,!0)),m})}function hi(m){function v(O){return m.next(O)}var E=R(v),D=R(function(O){return m.throw(O)});function R(O){return function(ee){var W=O(ee),ee=W.value;return W.done?ee:ee&&typeof ee.then=="function"?ee.then(E,D):c(ee)?Promise.all(ee).then(E,D):E(ee)}}return R(v)()}function p(m,v,E){for(var D=c(m)?m.slice():[m],R=0;R<E;++R)D.push(v);return D}var x={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return n(n({},m),{table:function(v){var E=m.table(v),D=E.schema,R={},O=[];function F($,ue,Z){var ae=wn($),ce=R[ae]=R[ae]||[],re=$==null?0:typeof $=="string"?1:$.length,me=0<ue,me=n(n({},Z),{name:me?"".concat(ae,"(virtual-from:").concat(Z.name,")"):Z.name,lowLevelIndex:Z,isVirtual:me,keyTail:ue,keyLength:re,extractKey:ui($),unique:!me&&Z.unique});return ce.push(me),me.isPrimaryKey||O.push(me),1<re&&F(re===2?$[0]:$.slice(0,re-1),ue+1,Z),ce.sort(function(ve,_e){return ve.keyTail-_e.keyTail}),me}v=F(D.primaryKey.keyPath,0,D.primaryKey),R[":id"]=[v];for(var W=0,ee=D.indexes;W<ee.length;W++){var ne=ee[W];F(ne.keyPath,0,ne)}function oe($){var ue,Z=$.query.index;return Z.isVirtual?n(n({},$),{query:{index:Z.lowLevelIndex,range:(ue=$.query.range,Z=Z.keyTail,{type:ue.type===1?2:ue.type,lower:p(ue.lower,ue.lowerOpen?m.MAX_KEY:m.MIN_KEY,Z),lowerOpen:!0,upper:p(ue.upper,ue.upperOpen?m.MIN_KEY:m.MAX_KEY,Z),upperOpen:!0})}}):$}return n(n({},E),{schema:n(n({},D),{primaryKey:v,indexes:O,getIndexByKeyPath:function($){return($=R[wn($)])&&$[0]}}),count:function($){return E.count(oe($))},query:function($){return E.query(oe($))},openCursor:function($){var ue=$.query.index,Z=ue.keyTail,ae=ue.isVirtual,ce=ue.keyLength;return ae?E.openCursor(oe($)).then(function(me){return me&&re(me)}):E.openCursor($);function re(me){return Object.create(me,{continue:{value:function(ve){ve!=null?me.continue(p(ve,$.reverse?m.MAX_KEY:m.MIN_KEY,Z)):$.unique?me.continue(me.key.slice(0,ce).concat($.reverse?m.MIN_KEY:m.MAX_KEY,Z)):me.continue()}},continuePrimaryKey:{value:function(ve,_e){me.continuePrimaryKey(p(ve,m.MAX_KEY,Z),_e)}},primaryKey:{get:function(){return me.primaryKey}},key:{get:function(){var ve=me.key;return ce===1?ve[0]:ve.slice(0,ce)}},value:{get:function(){return me.value}}})}}})}})}};function A(m,v,E,D){return E=E||{},D=D||"",l(m).forEach(function(R){var O,F,W;_(v,R)?(O=m[R],F=v[R],typeof O=="object"&&typeof F=="object"&&O&&F?(W=He(O))!==He(F)?E[D+R]=v[R]:W==="Object"?A(O,F,E,D+R+"."):O!==F&&(E[D+R]=v[R]):O!==F&&(E[D+R]=v[R])):E[D+R]=void 0}),l(v).forEach(function(R){_(m,R)||(E[D+R]=v[R])}),E}function B(m,v){return v.type==="delete"?v.keys:v.keys||v.values.map(m.extractKey)}var he={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return n(n({},m),{table:function(v){var E=m.table(v),D=E.schema.primaryKey;return n(n({},E),{mutate:function(R){var O=$e.trans,F=O.table(v).hook,W=F.deleting,ee=F.creating,ne=F.updating;switch(R.type){case"add":if(ee.fire===et)break;return O._promise("readwrite",function(){return oe(R)},!0);case"put":if(ee.fire===et&&ne.fire===et)break;return O._promise("readwrite",function(){return oe(R)},!0);case"delete":if(W.fire===et)break;return O._promise("readwrite",function(){return oe(R)},!0);case"deleteRange":if(W.fire===et)break;return O._promise("readwrite",function(){return function $(ue,Z,ae){return E.query({trans:ue,values:!1,query:{index:D,range:Z},limit:ae}).then(function(ce){var re=ce.result;return oe({type:"delete",keys:re,trans:ue}).then(function(me){return 0<me.numFailures?Promise.reject(me.failures[0]):re.length<ae?{failures:[],numFailures:0,lastResult:void 0}:$(ue,n(n({},Z),{lower:re[re.length-1],lowerOpen:!0}),ae)})})}(R.trans,R.range,1e4)},!0)}return E.mutate(R);function oe($){var ue,Z,ae,ce=$e.trans,re=$.keys||B(D,$);if(!re)throw new Error("Keys missing");return($=$.type==="add"||$.type==="put"?n(n({},$),{keys:re}):n({},$)).type!=="delete"&&($.values=i([],$.values)),$.keys&&($.keys=i([],$.keys)),ue=E,ae=re,((Z=$).type==="add"?Promise.resolve([]):ue.getMany({trans:Z.trans,keys:ae,cache:"immutable"})).then(function(me){var ve=re.map(function(_e,Te){var Ve,je,Ne,Be=me[Te],ze={onerror:null,onsuccess:null};return $.type==="delete"?W.fire.call(ze,_e,Be,ce):$.type==="add"||Be===void 0?(Ve=ee.fire.call(ze,_e,$.values[Te],ce),_e==null&&Ve!=null&&($.keys[Te]=_e=Ve,D.outbound||V($.values[Te],D.keyPath,_e))):(Ve=A(Be,$.values[Te]),(je=ne.fire.call(ze,Ve,_e,Be,ce))&&(Ne=$.values[Te],Object.keys(je).forEach(function(Le){_(Ne,Le)?Ne[Le]=je[Le]:V(Ne,Le,je[Le])}))),ze});return E.mutate($).then(function(_e){for(var Te=_e.failures,Ve=_e.results,je=_e.numFailures,_e=_e.lastResult,Ne=0;Ne<re.length;++Ne){var Be=(Ve||re)[Ne],ze=ve[Ne];Be==null?ze.onerror&&ze.onerror(Te[Ne]):ze.onsuccess&&ze.onsuccess($.type==="put"&&me[Ne]?$.values[Ne]:Be)}return{failures:Te,results:Ve,numFailures:je,lastResult:_e}}).catch(function(_e){return ve.forEach(function(Te){return Te.onerror&&Te.onerror(_e)}),Promise.reject(_e)})})}}})}})}};function be(m,v,E){try{if(!v||v.keys.length<m.length)return null;for(var D=[],R=0,O=0;R<v.keys.length&&O<m.length;++R)bt(v.keys[R],m[O])===0&&(D.push(E?j(v.values[R]):v.values[R]),++O);return D.length===m.length?D:null}catch{return null}}var Fe={stack:"dbcore",level:-1,create:function(m){return{table:function(v){var E=m.table(v);return n(n({},E),{getMany:function(D){if(!D.cache)return E.getMany(D);var R=be(D.keys,D.trans._cache,D.cache==="clone");return R?Ye.resolve(R):E.getMany(D).then(function(O){return D.trans._cache={keys:D.keys,values:D.cache==="clone"?j(O):O},O})},mutate:function(D){return D.type!=="add"&&(D.trans._cache=null),E.mutate(D)}})}}}};function kt(m,v){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Rn(m,v){switch(m){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var It={stack:"dbcore",level:0,name:"Observability",create:function(m){var v=m.schema.name,E=new Nn(m.MIN_KEY,m.MAX_KEY);return n(n({},m),{transaction:function(D,R,O){if($e.subscr&&R!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat($e.querier));return m.transaction(D,R,O)},table:function(D){var R=m.table(D),O=R.schema,F=O.primaryKey,$=O.indexes,W=F.extractKey,ee=F.outbound,ne=F.autoIncrement&&$.filter(function(Z){return Z.compound&&Z.keyPath.includes(F.keyPath)}),oe=n(n({},R),{mutate:function(Z){function ae(Le){return Le="idb://".concat(v,"/").concat(D,"/").concat(Le),_e[Le]||(_e[Le]=new Nn)}var ce,re,me,ve=Z.trans,_e=Z.mutatedParts||(Z.mutatedParts={}),Te=ae(""),Ve=ae(":dels"),je=Z.type,ze=Z.type==="deleteRange"?[Z.range]:Z.type==="delete"?[Z.keys]:Z.values.length<50?[B(F,Z).filter(function(Le){return Le}),Z.values]:[],Ne=ze[0],Be=ze[1],ze=Z.trans._cache;return c(Ne)?(Te.addKeys(Ne),(ze=je==="delete"||Ne.length===Be.length?be(Ne,ze):null)||Ve.addKeys(Ne),(ze||Be)&&(ce=ae,re=ze,me=Be,O.indexes.forEach(function(Le){var We=ce(Le.name||"");function nt(yt){return yt!=null?Le.extractKey(yt):null}function lt(yt){return Le.multiEntry&&c(yt)?yt.forEach(function(Sr){return We.addKey(Sr)}):We.addKey(yt)}(re||me).forEach(function(yt,Vn){var dt=re&&nt(re[Vn]),Vn=me&&nt(me[Vn]);bt(dt,Vn)!==0&&(dt!=null&&lt(dt),Vn!=null&&lt(Vn))})}))):Ne?(Be={from:(Be=Ne.lower)!==null&&Be!==void 0?Be:m.MIN_KEY,to:(Be=Ne.upper)!==null&&Be!==void 0?Be:m.MAX_KEY},Ve.add(Be),Te.add(Be)):(Te.add(E),Ve.add(E),O.indexes.forEach(function(Le){return ae(Le.name).add(E)})),R.mutate(Z).then(function(Le){return!Ne||Z.type!=="add"&&Z.type!=="put"||(Te.addKeys(Le.results),ne&&ne.forEach(function(We){for(var nt=Z.values.map(function(dt){return We.extractKey(dt)}),lt=We.keyPath.findIndex(function(dt){return dt===F.keyPath}),yt=0,Sr=Le.results.length;yt<Sr;++yt)nt[yt][lt]=Le.results[yt];ae(We.name).addKeys(nt)})),ve.mutatedParts=ci(ve.mutatedParts||{},_e),Le})}}),$=function(ae){var ce=ae.query,ae=ce.index,ce=ce.range;return[ae,new Nn((ae=ce.lower)!==null&&ae!==void 0?ae:m.MIN_KEY,(ce=ce.upper)!==null&&ce!==void 0?ce:m.MAX_KEY)]},ue={get:function(Z){return[F,new Nn(Z.key)]},getMany:function(Z){return[F,new Nn().addKeys(Z.keys)]},count:$,query:$,openCursor:$};return l(ue).forEach(function(Z){oe[Z]=function(ae){var ce=$e.subscr,re=!!ce,me=kt($e,R)&&Rn(Z,ae)?ae.obsSet={}:ce;if(re){var ve=function(Be){return Be="idb://".concat(v,"/").concat(D,"/").concat(Be),me[Be]||(me[Be]=new Nn)},_e=ve(""),Te=ve(":dels"),ce=ue[Z](ae),re=ce[0],ce=ce[1];if((Z==="query"&&re.isPrimaryKey&&!ae.values?Te:ve(re.name||"")).add(ce),!re.isPrimaryKey){if(Z!=="count"){var Ve=Z==="query"&&ee&&ae.values&&R.query(n(n({},ae),{values:!1}));return R[Z].apply(this,arguments).then(function(Be){if(Z==="query"){if(ee&&ae.values)return Ve.then(function(nt){return nt=nt.result,_e.addKeys(nt),Be});var ze=ae.values?Be.result.map(W):Be.result;(ae.values?_e:Te).addKeys(ze)}else if(Z==="openCursor"){var Le=Be,We=ae.values;return Le&&Object.create(Le,{key:{get:function(){return Te.addKey(Le.primaryKey),Le.key}},primaryKey:{get:function(){var nt=Le.primaryKey;return Te.addKey(nt),nt}},value:{get:function(){return We&&_e.addKey(Le.primaryKey),Le.value}}})}return Be})}Te.add(E)}}return R[Z].apply(this,arguments)}}),oe}})}};function Ln(m,v,E){if(E.numFailures===0)return v;if(v.type==="deleteRange")return null;var D=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return E.numFailures===D?null:(v=n({},v),c(v.keys)&&(v.keys=v.keys.filter(function(R,O){return!(O in E.failures)})),"values"in v&&c(v.values)&&(v.values=v.values.filter(function(R,O){return!(O in E.failures)})),v)}function Tn(m,v){return E=m,((D=v).lower===void 0||(D.lowerOpen?0<bt(E,D.lower):0<=bt(E,D.lower)))&&(m=m,(v=v).upper===void 0||(v.upperOpen?bt(m,v.upper)<0:bt(m,v.upper)<=0));var E,D}function Qi(m,v,ue,D,R,O){if(!ue||ue.length===0)return m;var F=v.query.index,W=F.multiEntry,ee=v.query.range,ne=D.schema.primaryKey.extractKey,oe=F.extractKey,$=(F.lowLevelIndex||F).extractKey,ue=ue.reduce(function(Z,ae){var ce=Z,re=[];if(ae.type==="add"||ae.type==="put")for(var me=new Nn,ve=ae.values.length-1;0<=ve;--ve){var _e,Te=ae.values[ve],Ve=ne(Te);me.hasKey(Ve)||(_e=oe(Te),(W&&c(_e)?_e.some(function(Le){return Tn(Le,ee)}):Tn(_e,ee))&&(me.addKey(Ve),re.push(Te)))}switch(ae.type){case"add":var je=new Nn().addKeys(v.values?Z.map(function(We){return ne(We)}):Z),ce=Z.concat(v.values?re.filter(function(We){return We=ne(We),!je.hasKey(We)&&(je.addKey(We),!0)}):re.map(function(We){return ne(We)}).filter(function(We){return!je.hasKey(We)&&(je.addKey(We),!0)}));break;case"put":var Ne=new Nn().addKeys(ae.values.map(function(We){return ne(We)}));ce=Z.filter(function(We){return!Ne.hasKey(v.values?ne(We):We)}).concat(v.values?re:re.map(function(We){return ne(We)}));break;case"delete":var Be=new Nn().addKeys(ae.keys);ce=Z.filter(function(We){return!Be.hasKey(v.values?ne(We):We)});break;case"deleteRange":var ze=ae.range;ce=Z.filter(function(We){return!Tn(ne(We),ze)})}return ce},m);return ue===m?m:(ue.sort(function(Z,ae){return bt($(Z),$(ae))||bt(ne(Z),ne(ae))}),v.limit&&v.limit<1/0&&(ue.length>v.limit?ue.length=v.limit:m.length===v.limit&&ue.length<v.limit&&(R.dirty=!0)),O?Object.freeze(ue):ue)}function Wn(m,v){return bt(m.lower,v.lower)===0&&bt(m.upper,v.upper)===0&&!!m.lowerOpen==!!v.lowerOpen&&!!m.upperOpen==!!v.upperOpen}function $i(m,v){return function(E,D,R,O){if(E===void 0)return D!==void 0?-1:0;if(D===void 0)return 1;if((D=bt(E,D))===0){if(R&&O)return 0;if(R)return 1;if(O)return-1}return D}(m.lower,v.lower,m.lowerOpen,v.lowerOpen)<=0&&0<=function(E,D,R,O){if(E===void 0)return D!==void 0?1:0;if(D===void 0)return-1;if((D=bt(E,D))===0){if(R&&O)return 0;if(R)return-1;if(O)return 1}return D}(m.upper,v.upper,m.upperOpen,v.upperOpen)}function zl(m,v,E,D){m.subscribers.add(E),D.addEventListener("abort",function(){var R,O;m.subscribers.delete(E),m.subscribers.size===0&&(R=m,O=v,setTimeout(function(){R.subscribers.size===0&&Ce(O,R)},3e3))})}var Hu={stack:"dbcore",level:0,name:"Cache",create:function(m){var v=m.schema.name;return n(n({},m),{transaction:function(E,D,R){var O,F,W=m.transaction(E,D,R);return D==="readwrite"&&(F=(O=new AbortController).signal,R=function(ee){return function(){if(O.abort(),D==="readwrite"){for(var ne=new Set,oe=0,$=E;oe<$.length;oe++){var ue=$[oe],Z=Gi["idb://".concat(v,"/").concat(ue)];if(Z){var ae=m.table(ue),ce=Z.optimisticOps.filter(function(We){return We.trans===W});if(W._explicit&&ee&&W.mutatedParts)for(var re=0,me=Object.values(Z.queries.query);re<me.length;re++)for(var ve=0,_e=(je=me[re]).slice();ve<_e.length;ve++)Mo((Ne=_e[ve]).obsSet,W.mutatedParts)&&(Ce(je,Ne),Ne.subscribers.forEach(function(We){return ne.add(We)}));else if(0<ce.length){Z.optimisticOps=Z.optimisticOps.filter(function(We){return We.trans!==W});for(var Te=0,Ve=Object.values(Z.queries.query);Te<Ve.length;Te++)for(var je,Ne,Be,ze=0,Le=(je=Ve[Te]).slice();ze<Le.length;ze++)(Ne=Le[ze]).res!=null&&W.mutatedParts&&(ee&&!Ne.dirty?(Be=Object.isFrozen(Ne.res),Be=Qi(Ne.res,Ne.req,ce,ae,Ne,Be),Ne.dirty?(Ce(je,Ne),Ne.subscribers.forEach(function(We){return ne.add(We)})):Be!==Ne.res&&(Ne.res=Be,Ne.promise=Ye.resolve({result:Be}))):(Ne.dirty&&Ce(je,Ne),Ne.subscribers.forEach(function(We){return ne.add(We)})))}}}ne.forEach(function(We){return We()})}}},W.addEventListener("abort",R(!1),{signal:F}),W.addEventListener("error",R(!1),{signal:F}),W.addEventListener("complete",R(!0),{signal:F})),W},table:function(E){var D=m.table(E),R=D.schema.primaryKey;return n(n({},D),{mutate:function(O){var F=$e.trans;if(R.outbound||F.db._options.cache==="disabled"||F.explicit||F.idbtrans.mode!=="readwrite")return D.mutate(O);var W=Gi["idb://".concat(v,"/").concat(E)];return W?(F=D.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||B(R,O).some(function(ee){return ee==null}))?(W.optimisticOps.push(O),O.mutatedParts&&ks(O.mutatedParts),F.then(function(ee){0<ee.numFailures&&(Ce(W.optimisticOps,O),(ee=Ln(0,O,ee))&&W.optimisticOps.push(ee),O.mutatedParts&&ks(O.mutatedParts))}),F.catch(function(){Ce(W.optimisticOps,O),O.mutatedParts&&ks(O.mutatedParts)})):F.then(function(ee){var ne=Ln(0,n(n({},O),{values:O.values.map(function(oe,$){var ue;return ee.failures[$]?oe:(oe=(ue=R.keyPath)!==null&&ue!==void 0&&ue.includes(".")?j(oe):n({},oe),V(oe,R.keyPath,ee.results[$]),oe)})}),ee);W.optimisticOps.push(ne),queueMicrotask(function(){return O.mutatedParts&&ks(O.mutatedParts)})}),F):D.mutate(O)},query:function(O){if(!kt($e,D)||!Rn("query",O))return D.query(O);var F=((ne=$e.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",$=$e,W=$.requery,ee=$.signal,ne=function(ae,ce,re,me){var ve=Gi["idb://".concat(ae,"/").concat(ce)];if(!ve)return[];if(!(ce=ve.queries[re]))return[null,!1,ve,null];var _e=ce[(me.query?me.query.index.name:null)||""];if(!_e)return[null,!1,ve,null];switch(re){case"query":var Te=_e.find(function(Ve){return Ve.req.limit===me.limit&&Ve.req.values===me.values&&Wn(Ve.req.query.range,me.query.range)});return Te?[Te,!0,ve,_e]:[_e.find(function(Ve){return("limit"in Ve.req?Ve.req.limit:1/0)>=me.limit&&(!me.values||Ve.req.values)&&$i(Ve.req.query.range,me.query.range)}),!1,ve,_e];case"count":return Te=_e.find(function(Ve){return Wn(Ve.req.query.range,me.query.range)}),[Te,!!Te,ve,_e]}}(v,E,"query",O),oe=ne[0],$=ne[1],ue=ne[2],Z=ne[3];return oe&&$?oe.obsSet=O.obsSet:($=D.query(O).then(function(ae){var ce=ae.result;if(oe&&(oe.res=ce),F){for(var re=0,me=ce.length;re<me;++re)Object.freeze(ce[re]);Object.freeze(ce)}else ae.result=j(ce);return ae}).catch(function(ae){return Z&&oe&&Ce(Z,oe),Promise.reject(ae)}),oe={obsSet:O.obsSet,promise:$,subscribers:new Set,type:"query",req:O,dirty:!1},Z?Z.push(oe):(Z=[oe],(ue=ue||(Gi["idb://".concat(v,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=Z)),zl(oe,Z,W,ee),oe.promise.then(function(ae){return{result:Qi(ae.result,O,ue==null?void 0:ue.optimisticOps,D,oe,F)}})}})}})}};function Hl(m,v){return new Proxy(m,{get:function(E,D,R){return D==="db"?v:Reflect.get(E,D,R)}})}var Xi=(gn.prototype.version=function(m){if(isNaN(m)||m<.1)throw new Pe.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var v=this._versions,E=v.filter(function(D){return D._cfg.version===m})[0];return E||(E=new this.Version(m),v.push(E),v.sort(Ao),E.stores({}),this._state.autoSchema=!1,E)},gn.prototype._whenReady=function(m){var v=this;return this.idbdb&&(this._state.openComplete||$e.letThrough||this._vip)?m():new Ye(function(E,D){if(v._state.openComplete)return D(new Pe.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void D(new Pe.DatabaseClosed);v.open().catch(et)}v._state.dbReadyPromise.then(E,D)}).then(m)},gn.prototype.use=function(m){var v=m.stack,E=m.create,D=m.level,R=m.name;return R&&this.unuse({stack:v,name:R}),m=this._middlewares[v]||(this._middlewares[v]=[]),m.push({stack:v,create:E,level:D??10,name:R}),m.sort(function(O,F){return O.level-F.level}),this},gn.prototype.unuse=function(m){var v=m.stack,E=m.name,D=m.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(R){return D?R.create!==D:!!E&&R.name!==E})),this},gn.prototype.open=function(){var m=this;return ri(Yn,function(){return zu(m)})},gn.prototype._close=function(){var m=this._state,v=Qr.indexOf(this);if(0<=v&&Qr.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new Ye(function(E){m.dbReadyResolve=E}),m.openCanceller=new Ye(function(E,D){m.cancelOpen=D}))},gn.prototype.close=function(E){var v=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;v?(E.isBeingOpened&&E.cancelOpen(new Pe.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new Pe.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},gn.prototype.delete=function(m){var v=this;m===void 0&&(m={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",D=this._state;return new Ye(function(R,O){function F(){v.close(m);var W=v._deps.indexedDB.deleteDatabase(v.name);W.onsuccess=gt(function(){var ee,ne,oe;ee=v._deps,ne=v.name,oe=ee.indexedDB,ee=ee.IDBKeyRange,Pa(oe)||ne===$r||Bl(oe,ee).delete(ne).catch(et),R()}),W.onerror=Or(O),W.onblocked=v._fireOnBlocked}if(E)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");D.isBeingOpened?D.dbReadyPromise.then(F):F()})},gn.prototype.backendDB=function(){return this.idbdb},gn.prototype.isOpen=function(){return this.idbdb!==null},gn.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},gn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},gn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(gn.prototype,"tables",{get:function(){var m=this;return l(this._allTables).map(function(v){return m._allTables[v]})},enumerable:!1,configurable:!0}),gn.prototype.transaction=function(){var m=(function(v,E,D){var R=arguments.length;if(R<2)throw new Pe.InvalidArgument("Too few arguments");for(var O=new Array(R-1);--R;)O[R-1]=arguments[R];return D=O.pop(),[v,U(O),D]}).apply(this,arguments);return this._transaction.apply(this,m)},gn.prototype._transaction=function(m,v,E){var D=this,R=$e.trans;R&&R.db===this&&m.indexOf("!")===-1||(R=null);var O,F,W=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(F=v.map(function(ne){if(ne=ne instanceof D.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),m=="r"||m===Pn)O=Pn;else{if(m!="rw"&&m!=ys)throw new Pe.InvalidArgument("Invalid transaction mode: "+m);O=ys}if(R){if(R.mode===Pn&&O===ys){if(!W)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&F.forEach(function(ne){if(R&&R.storeNames.indexOf(ne)===-1){if(!W)throw new Pe.SubTransaction("Table "+ne+" not included in parent transaction.");R=null}}),W&&R&&!R.active&&(R=null)}}catch(ne){return R?R._promise(null,function(oe,$){$(ne)}):dn(ne)}var ee=(function ne(oe,$,ue,Z,ae){return Ye.resolve().then(function(){var ce=$e.transless||$e,re=oe._createTransaction($,ue,oe._dbSchema,Z);if(re.explicit=!0,ce={trans:re,transless:ce},Z)re.idbtrans=Z.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,oe._state.PR1398_maxLoop=3}catch(_e){return _e.name===rt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return ne(oe,$,ue,null,ae)})):dn(_e)}var me,ve=xe(ae);return ve&&Ir(),ce=Ye.follow(function(){var _e;(me=ae.call(re,re))&&(ve?(_e=Xn.bind(null,null),me.then(_e,_e)):typeof me.next=="function"&&typeof me.throw=="function"&&(me=hi(me)))},ce),(me&&typeof me.then=="function"?Ye.resolve(me).then(function(_e){return re.active?_e:dn(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ce.then(function(){return me})).then(function(_e){return Z&&re._resolve(),re._completion.then(function(){return _e})}).catch(function(_e){return re._reject(_e),dn(_e)})})}).bind(null,this,O,F,R,E);return R?R._promise(O,ee,"lock"):$e.trans?ri($e.transless,function(){return D._whenReady(ee)}):this._whenReady(ee)},gn.prototype.table=function(m){if(!_(this._allTables,m))throw new Pe.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},gn);function gn(m,v){var E=this;this._middlewares={},this.verno=0;var D=gn.dependencies;this._options=v=n({addons:gn.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},D=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,O,F,W,ee,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};ne.dbReadyPromise=new Ye(function($){ne.dbReadyResolve=$}),ne.openCanceller=new Ye(function($,ue){ne.cancelOpen=ue}),this._state=ne,this.name=m,this.on=zi(this,"populate","blocked","versionchange","close",{ready:[Fs,et]}),this.on.ready.subscribe=H(this.on.ready.subscribe,function($){return function(ue,Z){gn.vip(function(){var ae,ce=E._state;ce.openComplete?(ce.dbOpenError||Ye.resolve().then(ue),Z&&$(ue)):ce.onReadyBeingFired?(ce.onReadyBeingFired.push(ue),Z&&$(ue)):($(ue),ae=E,Z||$(function re(){ae.on.ready.unsubscribe(ue),ae.on.ready.unsubscribe(re)}))})}}),this.Collection=(R=this,_s(ai.prototype,function(me,re){this.db=R;var Z=ji,ae=null;if(re)try{Z=re()}catch(ve){ae=ve}var ce=me._ctx,re=ce.table,me=re.hook.reading.fire;this._ctx={table:re,index:ce.index,isPrimKey:!ce.index||re.schema.primKey.keyPath&&ce.index===re.schema.primKey.name,range:Z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ae,or:ce.or,valueMapper:me!==jt?me:null}})),this.Table=(O=this,_s(So.prototype,function($,ue,Z){this.db=O,this._tx=Z,this.name=$,this.schema=ue,this.hook=O._allTables[$]?O._allTables[$].hook:zi(null,{creating:[Bu,et],reading:[vr,jt],updating:[ih,et],deleting:[ni,et]})})),this.Transaction=(F=this,_s(oi.prototype,function($,ue,Z,ae,ce){var re=this;this.db=F,this.mode=$,this.storeNames=ue,this.schema=Z,this.chromeTransactionDurability=ae,this.idbtrans=null,this.on=zi(this,"complete","error","abort"),this.parent=ce||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ye(function(me,ve){re._resolve=me,re._reject=ve}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(me){var ve=re.active;return re.active=!1,re.on.error.fire(me),re.parent?re.parent._reject(me):ve&&re.idbtrans&&re.idbtrans.abort(),dn(me)})})),this.Version=(W=this,_s(ju.prototype,function($){this.db=W,this._cfg={version:$,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,_s(Yi.prototype,function($,ue,Z){if(this.db=ee,this._ctx={table:$,index:ue===":id"?null:ue,or:Z},this._cmp=this._ascending=bt,this._descending=function(ae,ce){return bt(ce,ae)},this._max=function(ae,ce){return 0<bt(ae,ce)?ae:ce},this._min=function(ae,ce){return bt(ae,ce)<0?ae:ce},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function($){0<$.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function($){!$.newVersion||$.newVersion<$.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat($.oldVersion/10))}),this._maxKey=xs(v.IDBKeyRange),this._createTransaction=function($,ue,Z,ae){return new E.Transaction($,ue,Z,E._options.chromeTransactionDurability,ae)},this._fireOnBlocked=function($){E.on("blocked").fire($),Qr.filter(function(ue){return ue.name===E.name&&ue!==E&&!ue._state.vcFired}).map(function(ue){return ue.on("versionchange").fire($)})},this.use(Fe),this.use(Hu),this.use(It),this.use(x),this.use(he);var oe=new Proxy(this,{get:function($,ue,Z){if(ue==="_vip")return!0;if(ue==="table")return function(ce){return Hl(E.table(ce),oe)};var ae=Reflect.get($,ue,Z);return ae instanceof So?Hl(ae,oe):ue==="tables"?ae.map(function(ce){return Hl(ce,oe)}):ue==="_createTransaction"?function(){return Hl(ae.apply(this,arguments),oe)}:ae}});this.vip=oe,D.forEach(function($){return $(E)})}var Po,Zr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",sd=(Yu.prototype.subscribe=function(m,v,E){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:v,complete:E})},Yu.prototype[Zr]=function(){return this},Yu);function Yu(m){this._subscribe=m}try{Po={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Po={indexedDB:null,IDBKeyRange:null}}function ad(m){var v,E=!1,D=new sd(function(R){var O=xe(m),F,W=!1,ee={},ne={},oe={get closed(){return W},unsubscribe:function(){W||(W=!0,F&&F.abort(),$&&qn.storagemutated.unsubscribe(Z))}};R.start&&R.start(oe);var $=!1,ue=function(){return xi(ae)},Z=function(ce){ci(ee,ce),Mo(ne,ee)&&ue()},ae=function(){var ce,re,me;!W&&Po.indexedDB&&(ee={},ce={},F&&F.abort(),F=new AbortController,me=function(ve){var _e=Kr();try{O&&Ir();var Te=br(m,ve);return Te=O?Te.finally(Xn):Te}finally{_e&&gs()}}(re={subscr:ce,signal:F.signal,requery:ue,querier:m,trans:null}),Promise.resolve(me).then(function(ve){E=!0,v=ve,W||re.signal.aborted||(ee={},function(_e){for(var Te in _e)if(_(_e,Te))return;return 1}(ne=ce)||$||(qn(Ks,Z),$=!0),xi(function(){return!W&&R.next&&R.next(ve)}))},function(ve){E=!1,["DatabaseClosedError","AbortError"].includes(ve==null?void 0:ve.name)||W||xi(function(){W||R.error&&R.error(ve)})}))};return setTimeout(ue,0),oe});return D.hasValue=function(){return E},D.getValue=function(){return v},D}var Na=Xi;function sh(m){var v=$s;try{$s=!0,qn.storagemutated.fire(m),Zn(m,!0)}finally{$s=v}}w(Na,n(n({},At),{delete:function(m){return new Na(m,{addons:[]}).delete()},exists:function(m){return new Na(m,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return v=Na.dependencies,E=v.indexedDB,v=v.IDBKeyRange,(Pa(E)?Promise.resolve(E.databases()).then(function(D){return D.map(function(R){return R.name}).filter(function(R){return R!==$r})}):Bl(E,v).toCollection().primaryKeys()).then(m)}catch{return dn(new Pe.MissingAPI)}var v,E},defineClass:function(){return function(m){h(this,m)}},ignoreTransaction:function(m){return $e.trans?ri($e.transless,m):m()},vip:Ds,async:function(m){return function(){try{var v=hi(m.apply(this,arguments));return v&&typeof v.then=="function"?v:Ye.resolve(v)}catch(E){return dn(E)}}},spawn:function(m,v,E){try{var D=hi(m.apply(E,v||[]));return D&&typeof D.then=="function"?D:Ye.resolve(D)}catch(R){return dn(R)}},currentTransaction:{get:function(){return $e.trans||null}},waitFor:function(m,v){return v=Ye.resolve(typeof m=="function"?Na.ignoreTransaction(m):m).timeout(v||6e4),$e.trans?$e.trans.waitFor(v):v},Promise:Ye,debug:{get:function(){return sr},set:function(m){Uu(m)}},derive:M,extend:h,props:w,override:H,Events:zi,on:qn,liveQuery:ad,extendObservabilitySet:ci,getByKeyPath:de,setByKeyPath:V,delByKeyPath:function(m,v){typeof v=="string"?V(m,v,void 0):"length"in v&&[].map.call(v,function(E){V(m,E,void 0)})},shallowClone:I,deepClone:j,getObjectDiff:A,cmp:bt,asap:X,minKey:-1/0,addons:[],connections:Qr,errnames:rt,dependencies:Po,cache:Gi,semVer:"4.0.11",version:"4.0.11".split(".").map(function(m){return parseInt(m)}).reduce(function(m,v,E){return m+v/Math.pow(10,2*E)})})),Na.maxKey=xs(Na.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qn(Ks,function(m){$s||(m=new CustomEvent(ws,{detail:m}),$s=!0,dispatchEvent(m),$s=!1)}),addEventListener(ws,function(m){m=m.detail,$s||sh(m)}));var No,$s=!1,Lr=function(){};return typeof BroadcastChannel<"u"&&((Lr=function(){(No=new BroadcastChannel(ws)).onmessage=function(m){return m.data&&sh(m.data)}})(),typeof No.unref=="function"&&No.unref(),qn(Ks,function(m){$s||No.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!Xi.disableBfCache&&m.persisted){sr&&console.debug("Dexie: handling persisted pagehide"),No!=null&&No.close();for(var v=0,E=Qr;v<E.length;v++)E[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!Xi.disableBfCache&&m.persisted&&(sr&&console.debug("Dexie: handling persisted pageshow"),Lr(),sh({all:new Nn(-1/0,[[]])}))})),Ye.rejectionMapper=function(m,v){return!m||m instanceof Ie||m instanceof TypeError||m instanceof SyntaxError||!m.name||!st[m.name]?m:(v=new st[m.name](v||m.message,m),"stack"in m&&T(v,"stack",{get:function(){return this.inner.stack}}),v)},Uu(sr),n(Xi,Object.freeze({__proto__:null,Dexie:Xi,liveQuery:ad,Entity:ka,cmp:bt,PropModification:Vt,replacePrefix:function(m,v){return new Vt({replacePrefix:[m,v]})},add:function(m){return new Vt({add:m})},remove:function(m){return new Vt({remove:m})},default:Xi,RangeSet:Nn,mergeRanges:Ai,rangesOverlap:Ul}),{default:Xi}),Xi})}(Np)),Np.exports}var SO=xO();const Gv=V_(SO),xx=Symbol.for("Dexie"),rm=globalThis[xx]||(globalThis[xx]=Gv);if(Gv.semVer!==rm.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Gv.semVer} and ${rm.semVer}`);const{liveQuery:OH,mergeRanges:PH,rangesOverlap:NH,RangeSet:LH,cmp:VH,Entity:BH,PropModification:UH,replacePrefix:FH,add:jH,remove:zH}=rm,vn=new rm("FitNotesDB");vn.version(4).stores({workoutTemplates:"++id, date, name, exercises",exercises:"++id, name, category",workoutSessions:"++id,templateId, date, startTime, endTime",settings:"id"}).upgrade(r=>{});async function TO(r){return await vn.workoutTemplates.add(r)}async function Sx(){return await vn.workoutTemplates.toArray()}async function DO(r){return await vn.workoutTemplates.delete(r)}async function AO(r){return await vn.workoutSessions.where("templateId").equals(r).delete()}async function CO(r){return await vn.exercises.add(r)}async function Tx(){return await vn.exercises.toArray()}async function kO(r){return await vn.exercises.delete(r)}async function Dx(r){return await vn.workoutSessions.add(r)}async function Ax(r,e){return await vn.workoutSessions.update(r,e)}async function Cx(){return await vn.workoutSessions.toArray()}const vD="user_settings";async function RO(r){return await vn.settings.put({id:vD,...r})}async function MO(){return await vn.settings.get(vD)}async function IO(){var r,e,t,n;await Promise.all([vn.workoutTemplates.clear(),vn.exercises.clear(),vn.workoutSessions.clear(),vn.settings.clear(),(e=(r=vn.workouts)==null?void 0:r.clear)==null?void 0:e.call(r),(n=(t=vn.sets)==null?void 0:t.clear)==null?void 0:n.call(t)])}const OO=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},PO=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],l=r[t++],c=r[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},bD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],l=i+1<r.length,c=l?r[i+1]:0,h=i+2<r.length,d=h?r[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|d>>6,S=d&63;h||(S=64,l||(w=64)),n.push(t[g],t[_],t[w],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_D(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):PO(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||d==null||_==null)throw new NO;const w=a<<2|c>>4;if(n.push(w),d!==64){const S=c<<4&240|d>>2;if(n.push(S),_!==64){const T=d<<6&192|_;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LO=function(r){const e=_D(r);return bD.encodeByteArray(e,!0)},im=function(r){return LO(r).replace(/\./g,"")},wD=function(r){try{return bD.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=()=>VO().__FIREBASE_DEFAULTS__,UO=()=>{if(typeof process>"u"||typeof kx>"u")return;const r=kx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FO=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wD(r[1]);return e&&JSON.parse(e)},Gm=()=>{try{return OO()||BO()||UO()||FO()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ED=r=>{var e,t;return(t=(e=Gm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},jO=r=>{const e=ED(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},xD=()=>{var r;return(r=Gm())===null||r===void 0?void 0:r.config},SD=r=>{var e;return(e=Gm())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return r.endsWith(".cloudworkstations.dev")}async function TD(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[im(JSON.stringify(t)),im(JSON.stringify(l)),""].join(".")}const df={};function YO(){const r={prod:[],emulator:[]};for(const e of Object.keys(df))df[e]?r.emulator.push(e):r.prod.push(e);return r}function qO(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Rx=!1;function DD(r,e){if(typeof window>"u"||typeof document>"u"||!Qc(window.location.host)||df[r]===e||df[r]||Rx)return;df[r]=e;function t(w){return`__firebase__banner__${w}`}const n="__firebase__banner",a=YO().prod.length>0;function l(){const w=document.getElementById(n);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Rx=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=qO(n),S=t("text"),T=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),L=t("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;c(H),g(k,M);const se=d();h(q,L),H.append(q,T,k,se),document.body.appendChild(H)}a?(T.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function KO(){var r;const e=(r=Gm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XO(){const r=qr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZO(){return!KO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JO(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="FirebaseError";class go extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=t2,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qf.prototype.create)}}class qf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?n2(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new go(i,c,n)}}function n2(r,e){return r.replace(r2,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const r2=/\{\$([^}]+)}/g;function i2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],l=e[i];if(Mx(a)&&Mx(l)){if(!wu(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Mx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function s2(r,e){const t=new a2(r,e);return t.subscribe.bind(t)}class a2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");o2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=gv),i.error===void 0&&(i.error=gv),i.complete===void 0&&(i.complete=gv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(r){return r&&r._delegate?r._delegate:r}class Eu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new zO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=au){return this.instances.has(e)}getOptions(e=au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=au){return this.component?this.component.multipleInstances?e:au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(r){return r===au?void 0:r}function c2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const f2={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},d2=Ot.INFO,p2={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},m2=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=p2[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y_{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=m2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const g2=(r,e)=>e.some(t=>r instanceof t);let Ix,Ox;function y2(){return Ix||(Ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v2(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AD=new WeakMap,Qv=new WeakMap,CD=new WeakMap,yv=new WeakMap,q_=new WeakMap;function _2(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(dl(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&AD.set(t,r)}).catch(()=>{}),q_.set(e,r),e}function b2(r){if(Qv.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});Qv.set(r,e)}let $v={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qv.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CD.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function w2(r){$v=r($v)}function E2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(vv(this),e,...t);return CD.set(n,e.sort?e.sort():[e]),dl(n)}:v2().includes(r)?function(...e){return r.apply(vv(this),e),dl(AD.get(this))}:function(...e){return dl(r.apply(vv(this),e))}}function x2(r){return typeof r=="function"?E2(r):(r instanceof IDBTransaction&&b2(r),g2(r,y2())?new Proxy(r,$v):r)}function dl(r){if(r instanceof IDBRequest)return _2(r);if(yv.has(r))return yv.get(r);const e=x2(r);return e!==r&&(yv.set(r,e),q_.set(e,r)),e}const vv=r=>q_.get(r);function S2(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(r,e),c=dl(l);return n&&l.addEventListener("upgradeneeded",h=>{n(dl(l.result),h.oldVersion,h.newVersion,dl(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const T2=["get","getKey","getAll","getAllKeys","count"],D2=["put","add","delete","clear"],_v=new Map;function Px(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=D2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||T2.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&h.done]))[0]};return _v.set(e,a),a}w2(r=>({...r,get:(e,t,n)=>Px(e,t)||r.get(e,t,n),has:(e,t)=>!!Px(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function C2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xv="@firebase/app",Nx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Y_("@firebase/app"),k2="@firebase/app-compat",R2="@firebase/analytics-compat",M2="@firebase/analytics",I2="@firebase/app-check-compat",O2="@firebase/app-check",P2="@firebase/auth",N2="@firebase/auth-compat",L2="@firebase/database",V2="@firebase/data-connect",B2="@firebase/database-compat",U2="@firebase/functions",F2="@firebase/functions-compat",j2="@firebase/installations",z2="@firebase/installations-compat",H2="@firebase/messaging",Y2="@firebase/messaging-compat",q2="@firebase/performance",W2="@firebase/performance-compat",K2="@firebase/remote-config",G2="@firebase/remote-config-compat",Q2="@firebase/storage",$2="@firebase/storage-compat",X2="@firebase/firestore",Z2="@firebase/ai",J2="@firebase/firestore-compat",eP="firebase",tP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="[DEFAULT]",nP={[Xv]:"fire-core",[k2]:"fire-core-compat",[M2]:"fire-analytics",[R2]:"fire-analytics-compat",[O2]:"fire-app-check",[I2]:"fire-app-check-compat",[P2]:"fire-auth",[N2]:"fire-auth-compat",[L2]:"fire-rtdb",[V2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[U2]:"fire-fn",[F2]:"fire-fn-compat",[j2]:"fire-iid",[z2]:"fire-iid-compat",[H2]:"fire-fcm",[Y2]:"fire-fcm-compat",[q2]:"fire-perf",[W2]:"fire-perf-compat",[K2]:"fire-rc",[G2]:"fire-rc-compat",[Q2]:"fire-gcs",[$2]:"fire-gcs-compat",[X2]:"fire-fst",[J2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[eP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,rP=new Map,Jv=new Map;function Lx(r,e){try{r.container.addComponent(e)}catch(t){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Cc(r){const e=r.name;if(Jv.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,r);for(const t of sm.values())Lx(t,r);for(const t of rP.values())Lx(t,r);return!0}function W_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Os(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pl=new qf("app","Firebase",iP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=tP;function kD(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Zv,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw pl.create("bad-app-name",{appName:String(i)});if(t||(t=xD()),!t)throw pl.create("no-options");const a=sm.get(i);if(a){if(wu(t,a.options)&&wu(n,a.config))return a;throw pl.create("duplicate-app",{appName:i})}const l=new h2(i);for(const h of Jv.values())l.addComponent(h);const c=new sP(t,n,l);return sm.set(i,c),c}function RD(r=Zv){const e=sm.get(r);if(!e&&r===Zv&&xD())return kD();if(!e)throw pl.create("no-app",{appName:r});return e}function ml(r,e,t){var n;let i=(n=nP[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(c.join(" "));return}Cc(new Eu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="firebase-heartbeat-database",oP=1,Df="firebase-heartbeat-store";let bv=null;function MD(){return bv||(bv=S2(aP,oP,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Df)}catch(t){console.warn(t)}}}}).catch(r=>{throw pl.create("idb-open",{originalErrorMessage:r.message})})),bv}async function lP(r){try{const t=(await MD()).transaction(Df),n=await t.objectStore(Df).get(ID(r));return await t.done,n}catch(e){if(e instanceof go)uo.warn(e.message);else{const t=pl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(t.message)}}}async function Vx(r,e){try{const n=(await MD()).transaction(Df,"readwrite");await n.objectStore(Df).put(e,ID(r)),await n.done}catch(t){if(t instanceof go)uo.warn(t.message);else{const n=pl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});uo.warn(n.message)}}}function ID(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1024,cP=30;class hP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dP(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cP){const l=pP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){uo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Bx(),{heartbeatsToSend:n,unsentEntries:i}=fP(this._heartbeatsCache.heartbeats),a=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return uo.warn(t),""}}}function Bx(){return new Date().toISOString().substring(0,10)}function fP(r,e=uP){const t=[];let n=r.slice();for(const i of r){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Ux(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ux(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JO()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ux(r){return im(JSON.stringify({version:2,heartbeats:r})).length}function pP(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(r){Cc(new Eu("platform-logger",e=>new A2(e),"PRIVATE")),Cc(new Eu("heartbeat",e=>new hP(e),"PRIVATE")),ml(Xv,Nx,r),ml(Xv,Nx,"esm2017"),ml("fire-js","")}mP("");var gP="firebase",yP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml(gP,yP,"app");var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,OD;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function N(){}N.prototype=I.prototype,V.D=I.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(U,z,Y){for(var j=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)j[Xe-2]=arguments[Xe];return I.prototype[z].apply(U,j)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,I,N){N||(N=0);var U=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)U[z]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(z=0;16>z;++z)U[z]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=V.g[0],N=V.g[1],z=V.g[2];var Y=V.g[3],j=I+(Y^N&(z^Y))+U[0]+3614090360&4294967295;I=N+(j<<7&4294967295|j>>>25),j=Y+(z^I&(N^z))+U[1]+3905402710&4294967295,Y=I+(j<<12&4294967295|j>>>20),j=z+(N^Y&(I^N))+U[2]+606105819&4294967295,z=Y+(j<<17&4294967295|j>>>15),j=N+(I^z&(Y^I))+U[3]+3250441966&4294967295,N=z+(j<<22&4294967295|j>>>10),j=I+(Y^N&(z^Y))+U[4]+4118548399&4294967295,I=N+(j<<7&4294967295|j>>>25),j=Y+(z^I&(N^z))+U[5]+1200080426&4294967295,Y=I+(j<<12&4294967295|j>>>20),j=z+(N^Y&(I^N))+U[6]+2821735955&4294967295,z=Y+(j<<17&4294967295|j>>>15),j=N+(I^z&(Y^I))+U[7]+4249261313&4294967295,N=z+(j<<22&4294967295|j>>>10),j=I+(Y^N&(z^Y))+U[8]+1770035416&4294967295,I=N+(j<<7&4294967295|j>>>25),j=Y+(z^I&(N^z))+U[9]+2336552879&4294967295,Y=I+(j<<12&4294967295|j>>>20),j=z+(N^Y&(I^N))+U[10]+4294925233&4294967295,z=Y+(j<<17&4294967295|j>>>15),j=N+(I^z&(Y^I))+U[11]+2304563134&4294967295,N=z+(j<<22&4294967295|j>>>10),j=I+(Y^N&(z^Y))+U[12]+1804603682&4294967295,I=N+(j<<7&4294967295|j>>>25),j=Y+(z^I&(N^z))+U[13]+4254626195&4294967295,Y=I+(j<<12&4294967295|j>>>20),j=z+(N^Y&(I^N))+U[14]+2792965006&4294967295,z=Y+(j<<17&4294967295|j>>>15),j=N+(I^z&(Y^I))+U[15]+1236535329&4294967295,N=z+(j<<22&4294967295|j>>>10),j=I+(z^Y&(N^z))+U[1]+4129170786&4294967295,I=N+(j<<5&4294967295|j>>>27),j=Y+(N^z&(I^N))+U[6]+3225465664&4294967295,Y=I+(j<<9&4294967295|j>>>23),j=z+(I^N&(Y^I))+U[11]+643717713&4294967295,z=Y+(j<<14&4294967295|j>>>18),j=N+(Y^I&(z^Y))+U[0]+3921069994&4294967295,N=z+(j<<20&4294967295|j>>>12),j=I+(z^Y&(N^z))+U[5]+3593408605&4294967295,I=N+(j<<5&4294967295|j>>>27),j=Y+(N^z&(I^N))+U[10]+38016083&4294967295,Y=I+(j<<9&4294967295|j>>>23),j=z+(I^N&(Y^I))+U[15]+3634488961&4294967295,z=Y+(j<<14&4294967295|j>>>18),j=N+(Y^I&(z^Y))+U[4]+3889429448&4294967295,N=z+(j<<20&4294967295|j>>>12),j=I+(z^Y&(N^z))+U[9]+568446438&4294967295,I=N+(j<<5&4294967295|j>>>27),j=Y+(N^z&(I^N))+U[14]+3275163606&4294967295,Y=I+(j<<9&4294967295|j>>>23),j=z+(I^N&(Y^I))+U[3]+4107603335&4294967295,z=Y+(j<<14&4294967295|j>>>18),j=N+(Y^I&(z^Y))+U[8]+1163531501&4294967295,N=z+(j<<20&4294967295|j>>>12),j=I+(z^Y&(N^z))+U[13]+2850285829&4294967295,I=N+(j<<5&4294967295|j>>>27),j=Y+(N^z&(I^N))+U[2]+4243563512&4294967295,Y=I+(j<<9&4294967295|j>>>23),j=z+(I^N&(Y^I))+U[7]+1735328473&4294967295,z=Y+(j<<14&4294967295|j>>>18),j=N+(Y^I&(z^Y))+U[12]+2368359562&4294967295,N=z+(j<<20&4294967295|j>>>12),j=I+(N^z^Y)+U[5]+4294588738&4294967295,I=N+(j<<4&4294967295|j>>>28),j=Y+(I^N^z)+U[8]+2272392833&4294967295,Y=I+(j<<11&4294967295|j>>>21),j=z+(Y^I^N)+U[11]+1839030562&4294967295,z=Y+(j<<16&4294967295|j>>>16),j=N+(z^Y^I)+U[14]+4259657740&4294967295,N=z+(j<<23&4294967295|j>>>9),j=I+(N^z^Y)+U[1]+2763975236&4294967295,I=N+(j<<4&4294967295|j>>>28),j=Y+(I^N^z)+U[4]+1272893353&4294967295,Y=I+(j<<11&4294967295|j>>>21),j=z+(Y^I^N)+U[7]+4139469664&4294967295,z=Y+(j<<16&4294967295|j>>>16),j=N+(z^Y^I)+U[10]+3200236656&4294967295,N=z+(j<<23&4294967295|j>>>9),j=I+(N^z^Y)+U[13]+681279174&4294967295,I=N+(j<<4&4294967295|j>>>28),j=Y+(I^N^z)+U[0]+3936430074&4294967295,Y=I+(j<<11&4294967295|j>>>21),j=z+(Y^I^N)+U[3]+3572445317&4294967295,z=Y+(j<<16&4294967295|j>>>16),j=N+(z^Y^I)+U[6]+76029189&4294967295,N=z+(j<<23&4294967295|j>>>9),j=I+(N^z^Y)+U[9]+3654602809&4294967295,I=N+(j<<4&4294967295|j>>>28),j=Y+(I^N^z)+U[12]+3873151461&4294967295,Y=I+(j<<11&4294967295|j>>>21),j=z+(Y^I^N)+U[15]+530742520&4294967295,z=Y+(j<<16&4294967295|j>>>16),j=N+(z^Y^I)+U[2]+3299628645&4294967295,N=z+(j<<23&4294967295|j>>>9),j=I+(z^(N|~Y))+U[0]+4096336452&4294967295,I=N+(j<<6&4294967295|j>>>26),j=Y+(N^(I|~z))+U[7]+1126891415&4294967295,Y=I+(j<<10&4294967295|j>>>22),j=z+(I^(Y|~N))+U[14]+2878612391&4294967295,z=Y+(j<<15&4294967295|j>>>17),j=N+(Y^(z|~I))+U[5]+4237533241&4294967295,N=z+(j<<21&4294967295|j>>>11),j=I+(z^(N|~Y))+U[12]+1700485571&4294967295,I=N+(j<<6&4294967295|j>>>26),j=Y+(N^(I|~z))+U[3]+2399980690&4294967295,Y=I+(j<<10&4294967295|j>>>22),j=z+(I^(Y|~N))+U[10]+4293915773&4294967295,z=Y+(j<<15&4294967295|j>>>17),j=N+(Y^(z|~I))+U[1]+2240044497&4294967295,N=z+(j<<21&4294967295|j>>>11),j=I+(z^(N|~Y))+U[8]+1873313359&4294967295,I=N+(j<<6&4294967295|j>>>26),j=Y+(N^(I|~z))+U[15]+4264355552&4294967295,Y=I+(j<<10&4294967295|j>>>22),j=z+(I^(Y|~N))+U[6]+2734768916&4294967295,z=Y+(j<<15&4294967295|j>>>17),j=N+(Y^(z|~I))+U[13]+1309151649&4294967295,N=z+(j<<21&4294967295|j>>>11),j=I+(z^(N|~Y))+U[4]+4149444226&4294967295,I=N+(j<<6&4294967295|j>>>26),j=Y+(N^(I|~z))+U[11]+3174756917&4294967295,Y=I+(j<<10&4294967295|j>>>22),j=z+(I^(Y|~N))+U[2]+718787259&4294967295,z=Y+(j<<15&4294967295|j>>>17),j=N+(Y^(z|~I))+U[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(z+(j<<21&4294967295|j>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+Y&4294967295}n.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var N=I-this.blockSize,U=this.B,z=this.h,Y=0;Y<I;){if(z==0)for(;Y<=N;)i(this,V,Y),Y+=this.blockSize;if(typeof V=="string"){for(;Y<I;)if(U[z++]=V.charCodeAt(Y++),z==this.blockSize){i(this,U),z=0;break}}else for(;Y<I;)if(U[z++]=V[Y++],z==this.blockSize){i(this,U),z=0;break}}this.h=z,this.o+=I},n.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var N=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=N&255,N/=256;for(this.u(V),V=Array(16),I=N=0;4>I;++I)for(var U=0;32>U;U+=8)V[N++]=this.g[I]>>>U&255;return V};function a(V,I){var N=c;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=I(V)}function l(V,I){this.h=I;for(var N=[],U=!0,z=V.length-1;0<=z;z--){var Y=V[z]|0;U&&Y==I||(N[z]=Y,U=!1)}this.g=N}var c={};function h(V){return-128<=V&&128>V?a(V,function(I){return new l([I|0],0>I?-1:0)}):new l([V|0],0>V?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return k(d(-V));for(var I=[],N=1,U=0;V>=N;U++)I[U]=V/N|0,N*=4294967296;return new l(I,0)}function g(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return k(g(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(I,8)),U=_,z=0;z<V.length;z+=8){var Y=Math.min(8,V.length-z),j=parseInt(V.substring(z,z+Y),I);8>Y?(Y=d(Math.pow(I,Y)),U=U.j(Y).add(d(j))):(U=U.j(N),U=U.add(d(j)))}return U}var _=h(0),w=h(1),S=h(16777216);r=l.prototype,r.m=function(){if(M(this))return-k(this).m();for(var V=0,I=1,N=0;N<this.g.length;N++){var U=this.i(N);V+=(0<=U?U:4294967296+U)*I,I*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(T(this))return"0";if(M(this))return"-"+k(this).toString(V);for(var I=d(Math.pow(V,6)),N=this,U="";;){var z=se(N,I).g;N=L(N,z.j(I));var Y=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=z,T(N))return Y+U;for(;6>Y.length;)Y="0"+Y;U=Y+U}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function T(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function M(V){return V.h==-1}r.l=function(V){return V=L(this,V),M(V)?-1:T(V)?0:1};function k(V){for(var I=V.g.length,N=[],U=0;U<I;U++)N[U]=~V.g[U];return new l(N,~V.h).add(w)}r.abs=function(){return M(this)?k(this):this},r.add=function(V){for(var I=Math.max(this.g.length,V.g.length),N=[],U=0,z=0;z<=I;z++){var Y=U+(this.i(z)&65535)+(V.i(z)&65535),j=(Y>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);U=j>>>16,Y&=65535,j&=65535,N[z]=j<<16|Y}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(V,I){return V.add(k(I))}r.j=function(V){if(T(this)||T(V))return _;if(M(this))return M(V)?k(this).j(k(V)):k(k(this).j(V));if(M(V))return k(this.j(k(V)));if(0>this.l(S)&&0>V.l(S))return d(this.m()*V.m());for(var I=this.g.length+V.g.length,N=[],U=0;U<2*I;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<V.g.length;z++){var Y=this.i(U)>>>16,j=this.i(U)&65535,Xe=V.i(z)>>>16,He=V.i(z)&65535;N[2*U+2*z]+=j*He,q(N,2*U+2*z),N[2*U+2*z+1]+=Y*He,q(N,2*U+2*z+1),N[2*U+2*z+1]+=j*Xe,q(N,2*U+2*z+1),N[2*U+2*z+2]+=Y*Xe,q(N,2*U+2*z+2)}for(U=0;U<I;U++)N[U]=N[2*U+1]<<16|N[2*U];for(U=I;U<2*I;U++)N[U]=0;return new l(N,0)};function q(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function H(V,I){this.g=V,this.h=I}function se(V,I){if(T(I))throw Error("division by zero");if(T(V))return new H(_,_);if(M(V))return I=se(k(V),I),new H(k(I.g),k(I.h));if(M(I))return I=se(V,k(I)),new H(k(I.g),I.h);if(30<V.g.length){if(M(V)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var N=w,U=I;0>=U.l(V);)N=X(N),U=X(U);var z=de(N,1),Y=de(U,1);for(U=de(U,2),N=de(N,2);!T(U);){var j=Y.add(U);0>=j.l(V)&&(z=z.add(N),Y=j),U=de(U,1),N=de(N,1)}return I=L(V,z.j(I)),new H(z,I)}for(z=_;0<=V.l(I);){for(N=Math.max(1,Math.floor(V.m()/I.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),Y=d(N),j=Y.j(I);M(j)||0<j.l(V);)N-=U,Y=d(N),j=Y.j(I);T(Y)&&(Y=w),z=z.add(Y),V=L(V,j)}return new H(z,V)}r.A=function(V){return se(this,V).h},r.and=function(V){for(var I=Math.max(this.g.length,V.g.length),N=[],U=0;U<I;U++)N[U]=this.i(U)&V.i(U);return new l(N,this.h&V.h)},r.or=function(V){for(var I=Math.max(this.g.length,V.g.length),N=[],U=0;U<I;U++)N[U]=this.i(U)|V.i(U);return new l(N,this.h|V.h)},r.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),N=[],U=0;U<I;U++)N[U]=this.i(U)^V.i(U);return new l(N,this.h^V.h)};function X(V){for(var I=V.g.length+1,N=[],U=0;U<I;U++)N[U]=V.i(U)<<1|V.i(U-1)>>>31;return new l(N,V.h)}function de(V,I){var N=I>>5;I%=32;for(var U=V.g.length-N,z=[],Y=0;Y<U;Y++)z[Y]=0<I?V.i(Y+N)>>>I|V.i(Y+N+1)<<32-I:V.i(Y+N);return new l(z,V.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,OD=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,gl=l}).apply(typeof Fx<"u"?Fx:typeof self<"u"?self:typeof window<"u"?window:{});var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PD,nf,ND,Lp,e_,LD,VD,BD;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,x,A){return p==Array.prototype||p==Object.prototype||(p[x]=A.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ip=="object"&&ip];for(var x=0;x<p.length;++x){var A=p[x];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=t(this);function i(p,x){if(x)e:{var A=n;p=p.split(".");for(var B=0;B<p.length-1;B++){var he=p[B];if(!(he in A))break e;A=A[he]}p=p[p.length-1],B=A[p],x=x(B),x!=B&&x!=null&&e(A,p,{configurable:!0,writable:!0,value:x})}}function a(p,x){p instanceof String&&(p+="");var A=0,B=!1,he={next:function(){if(!B&&A<p.length){var be=A++;return{value:x(be,p[be]),done:!1}}return B=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(p){return p||function(){return a(this,function(x,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var x=typeof p;return x=x!="object"?x:p?Array.isArray(p)?"array":x:"null",x=="array"||x=="object"&&typeof p.length=="number"}function d(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function g(p,x,A){return p.call.apply(p.bind,arguments)}function _(p,x,A){if(!p)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,B),p.apply(x,he)}}return function(){return p.apply(x,arguments)}}function w(p,x,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function S(p,x){var A=Array.prototype.slice.call(arguments,1);return function(){var B=A.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function T(p,x){function A(){}A.prototype=x.prototype,p.aa=x.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(B,he,be){for(var Fe=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Fe[kt-2]=arguments[kt];return x.prototype[he].apply(B,Fe)}}function M(p){const x=p.length;if(0<x){const A=Array(x);for(let B=0;B<x;B++)A[B]=p[B];return A}return[]}function k(p,x){for(let A=1;A<arguments.length;A++){const B=arguments[A];if(h(B)){const he=p.length||0,be=B.length||0;p.length=he+be;for(let Fe=0;Fe<be;Fe++)p[he+Fe]=B[Fe]}else p.push(B)}}class L{constructor(x,A){this.i=x,this.j=A,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function q(p){return/^[\s\xa0]*$/.test(p)}function H(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function se(p){return se[" "](p),p}se[" "]=function(){};var X=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function de(p,x,A){for(const B in p)x.call(A,p[B],B,p)}function V(p,x){for(const A in p)x.call(void 0,p[A],A,p)}function I(p){const x={};for(const A in p)x[A]=p[A];return x}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(p,x){let A,B;for(let he=1;he<arguments.length;he++){B=arguments[he];for(A in B)p[A]=B[A];for(let be=0;be<N.length;be++)A=N[be],Object.prototype.hasOwnProperty.call(B,A)&&(p[A]=B[A])}}function z(p){var x=1;p=p.split(":");const A=[];for(;0<x&&p.length;)A.push(p.shift()),x--;return p.length&&A.push(p.join(":")),A}function Y(p){c.setTimeout(()=>{throw p},0)}function j(){var p=Qe;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class Xe{constructor(){this.h=this.g=null}add(x,A){const B=He.get();B.set(x,A),this.h?this.h.next=B:this.g=B,this.h=B}}var He=new L(()=>new ie,p=>p.reset());class ie{constructor(){this.next=this.g=this.h=null}set(x,A){this.h=x,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Ce=!1,Qe=new Xe,G=()=>{const p=c.Promise.resolve(void 0);we=()=>{p.then(xe)}};var xe=()=>{for(var p;p=j();){try{p.h.call(p.g)}catch(A){Y(A)}var x=He;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}Ce=!1};function Ue(){this.s=this.s,this.C=this.C}Ue.prototype.s=!1,Ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};c.addEventListener("test",A,x),c.removeEventListener("test",A,x)}catch{}return p}();function ot(p,x){if(Ie.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(X){e:{try{se(x.nodeName);var he=!0;break e}catch{}he=!1}he||(x=null)}}else A=="mouseover"?x=p.fromElement:A=="mouseout"&&(x=p.toElement);this.relatedTarget=x,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ee[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ot.aa.h.call(this)}}T(ot,Ie);var Ee={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function Pe(p,x,A,B,he){this.listener=p,this.proxy=null,this.src=x,this.type=A,this.capture=!!B,this.ha=he,this.key=++ft,this.da=this.fa=!1}function st(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function At(p){this.src=p,this.g={},this.h=0}At.prototype.add=function(p,x,A,B,he){var be=p.toString();p=this.g[be],p||(p=this.g[be]=[],this.h++);var Fe=jt(p,x,B,he);return-1<Fe?(x=p[Fe],A||(x.fa=!1)):(x=new Pe(x,this.src,be,!!B,he),x.fa=A,p.push(x)),x};function et(p,x){var A=x.type;if(A in p.g){var B=p.g[A],he=Array.prototype.indexOf.call(B,x,void 0),be;(be=0<=he)&&Array.prototype.splice.call(B,he,1),be&&(st(x),p.g[A].length==0&&(delete p.g[A],p.h--))}}function jt(p,x,A,B){for(var he=0;he<p.length;++he){var be=p[he];if(!be.da&&be.listener==x&&be.capture==!!A&&be.ha==B)return he}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),Lt={};function Bu(p,x,A,B,he){if(Array.isArray(x)){for(var be=0;be<x.length;be++)Bu(p,x[be],A,B,he);return null}return A=js(A),p&&p[rt]?p.K(x,A,d(B)?!!B.capture:!1,he):ni(p,x,A,!1,B,he)}function ni(p,x,A,B,he,be){if(!x)throw Error("Invalid event type");var Fe=d(he)?!!he.capture:!!he,kt=Li(p);if(kt||(p[vr]=kt=new At(p)),A=kt.add(x,A,B,Fe,be),A.proxy)return A;if(B=ih(),A.proxy=B,B.src=p,B.listener=A,p.addEventListener)Ge||(he=Fe),he===void 0&&(he=!1),p.addEventListener(x.toString(),B,he);else if(p.attachEvent)p.attachEvent(sr(x.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ih(){function p(A){return x.call(p.src,p.listener,A)}const x=Uu;return p}function Ml(p,x,A,B,he){if(Array.isArray(x))for(var be=0;be<x.length;be++)Ml(p,x[be],A,B,he);else B=d(B)?!!B.capture:!!B,A=js(A),p&&p[rt]?(p=p.i,x=String(x).toString(),x in p.g&&(be=p.g[x],A=jt(be,A,B,he),-1<A&&(st(be[A]),Array.prototype.splice.call(be,A,1),be.length==0&&(delete p.g[x],p.h--)))):p&&(p=Li(p))&&(x=p.g[x.toString()],p=-1,x&&(p=jt(x,A,B,he)),(A=-1<p?x[p]:null)&&Fs(A))}function Fs(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[rt])et(x.i,p);else{var A=p.type,B=p.proxy;x.removeEventListener?x.removeEventListener(A,B,p.capture):x.detachEvent?x.detachEvent(sr(A),B):x.addListener&&x.removeListener&&x.removeListener(B),(A=Li(x))?(et(A,p),A.h==0&&(A.src=null,x[vr]=null)):st(p)}}}function sr(p){return p in Lt?Lt[p]:Lt[p]="on"+p}function Uu(p,x){if(p.da)p=!0;else{x=new ot(x,this);var A=p.listener,B=p.ha||p.src;p.fa&&Fs(p),p=A.call(B,x)}return p}function Li(p){return p=p[vr],p instanceof At?p:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(p){return typeof p=="function"?p:(p[vo]||(p[vo]=function(x){return p.handleEvent(x)}),p[vo])}function $t(){Ue.call(this),this.i=new At(this),this.M=this,this.F=null}T($t,Ue),$t.prototype[rt]=!0,$t.prototype.removeEventListener=function(p,x,A,B){Ml(this,p,x,A,B)};function Ct(p,x){var A,B=p.F;if(B)for(A=[];B;B=B.F)A.push(B);if(p=p.M,B=x.type||x,typeof x=="string")x=new Ie(x,p);else if(x instanceof Ie)x.target=x.target||p;else{var he=x;x=new Ie(B,p),U(x,he)}if(he=!0,A)for(var be=A.length-1;0<=be;be--){var Fe=x.g=A[be];he=_r(Fe,B,!0,x)&&he}if(Fe=x.g=p,he=_r(Fe,B,!0,x)&&he,he=_r(Fe,B,!1,x)&&he,A)for(be=0;be<A.length;be++)Fe=x.g=A[be],he=_r(Fe,B,!1,x)&&he}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var p=this.i,x;for(x in p.g){for(var A=p.g[x],B=0;B<A.length;B++)st(A[B]);delete p.g[x],p.h--}}this.F=null},$t.prototype.K=function(p,x,A,B){return this.i.add(String(p),x,!1,A,B)},$t.prototype.L=function(p,x,A,B){return this.i.add(String(p),x,!0,A,B)};function _r(p,x,A,B){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();for(var he=!0,be=0;be<x.length;++be){var Fe=x[be];if(Fe&&!Fe.da&&Fe.capture==A){var kt=Fe.listener,Rn=Fe.ha||Fe.src;Fe.fa&&et(p.i,Fe),he=kt.call(Rn,B)!==!1&&he}}return he&&!B.defaultPrevented}function kn(p,x,A){if(typeof p=="function")A&&(p=w(p,A));else if(p&&typeof p.handleEvent=="function")p=w(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(p,x||0)}function _o(p){p.g=kn(()=>{p.g=null,p.i&&(p.i=!1,_o(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class bo extends Ue{constructor(x,A){super(),this.m=x,this.l=A,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(p){Ue.call(this),this.h=p,this.g={}}T(Wr,Ue);var Vi=[];function ms(p){de(p.g,function(x,A){this.g.hasOwnProperty(A)&&Fs(x)},p),p.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),ms(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=c.JSON.stringify,$e=c.JSON.parse,vi=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function _i(){}_i.prototype.h=null;function zs(p){return p.h||(p.h=p.i())}function Ye(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){Ie.call(this,"d")}T(Bi,Ie);function Ta(){Ie.call(this,"c")}T(Ta,Ie);var wi={},Da=null;function Hs(){return Da=Da||new $t}wi.La="serverreachability";function wo(p){Ie.call(this,wi.La,p)}T(wo,Ie);function Kr(p){const x=Hs();Ct(x,new wo(x))}wi.STAT_EVENT="statevent";function gs(p,x){Ie.call(this,wi.STAT_EVENT,p),this.stat=x}T(gs,Ie);function on(p){const x=Hs();Ct(x,new gs(x,p))}wi.Ma="timingevent";function _n(p,x){Ie.call(this,wi.Ma,p),this.size=x}T(_n,Ie);function gt(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},x)}function Wt(){this.g=!0}Wt.prototype.xa=function(){this.g=!1};function Il(p,x,A,B,he,be){p.info(function(){if(p.g)if(be)for(var Fe="",kt=be.split("&"),Rn=0;Rn<kt.length;Rn++){var It=kt[Rn].split("=");if(1<It.length){var Ln=It[0];It=It[1];var Tn=Ln.split("_");Fe=2<=Tn.length&&Tn[1]=="type"?Fe+(Ln+"="+It+"&"):Fe+(Ln+"=redacted&")}}else Fe=null;else Fe=be;return"XMLHTTP REQ ("+B+") [attempt "+he+"]: "+x+`
`+A+`
`+Fe})}function Eo(p,x,A,B,he,be,Fe){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+he+"]: "+x+`
`+A+`
`+be+" "+Fe})}function Ei(p,x,A,B){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ca(p,A)+(B?" "+B:"")})}function Aa(p,x){p.info(function(){return"TIMEOUT: "+x})}Wt.prototype.info=function(){};function Ca(p,x){if(!p.g)return x;if(!x)return null;try{var A=JSON.parse(x);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var B=A[p];if(!(2>B.length)){var he=B[1];if(Array.isArray(he)&&!(1>he.length)){var be=he[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Fe=1;Fe<he.length;Fe++)he[Fe]=""}}}}return Yn(A)}catch{return x}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Gr(){}T(Gr,_i),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},Xn=new Gr;function wr(p,x,A,B){this.j=p,this.i=x,this.l=A,this.R=B||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var xo={},ri={};function ii(p,x,A){p.L=1,p.v=qs(or(x)),p.m=A,p.P=!0,xi(p,null)}function xi(p,x){p.F=Date.now(),Er(p),p.A=or(p.v);var A=p.A,B=p.R;Array.isArray(B)||(B=[String(B)]),Or(A.i,"t",B),p.C=0,A=p.j.J,p.h=new Xt,p.g=Io(p.j,A?x:null,!p.m),0<p.O&&(p.M=new bo(w(p.Y,p,p.g),p.O)),x=p.U,A=p.g,B=p.ca;var he="readystatechange";Array.isArray(he)||(he&&(Vi[0]=he.toString()),he=Vi);for(var be=0;be<he.length;be++){var Fe=Bu(A,he[be],B||x.handleEvent,!1,x.h||x);if(!Fe)break;x.g[Fe.key]=Fe}x=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),Kr(),Il(p.i,p.u,p.A,p.l,p.R,p.m)}wr.prototype.ca=function(p){p=p.target;const x=this.M;x&&Nr(p)==3?x.j():this.Y(p)},wr.prototype.Y=function(p){try{if(p==this.g)e:{const Tn=Nr(this.g);var x=this.g.Ba();const Qi=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||Tn!=4||x==7||(x==8||0>=Qi?Kr(3):Kr(2)),Qr(this);var A=this.g.Z();this.X=A;t:if(dn(this)){var B=Co(this.g);p="";var he=B.length,be=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),$r(this);var Fe="";break t}this.h.i=new c.TextDecoder}for(x=0;x<he;x++)this.h.h=!0,p+=this.h.i.decode(B[x],{stream:!(be&&x==he-1)});B.length=0,this.h.g+=p,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=A==200,Eo(this.i,this.u,this.A,this.l,this.R,Tn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Rn=this.g;if((kt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(kt)){var It=kt;break t}}It=null}if(A=It)Ei(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,A);else{this.o=!1,this.s=3,on(12),Pn(this),$r(this);break e}}if(this.P){A=!0;let Wn;for(;!this.J&&this.C<Fe.length;)if(Wn=Ui(this,Fe),Wn==ri){Tn==4&&(this.s=4,on(14),A=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==xo){this.s=4,on(15),Ei(this.i,this.l,Fe,"[Invalid Chunk]"),A=!1;break}else Ei(this.i,this.l,Wn,null),ys(this,Wn);if(dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||Fe.length!=0||this.h.h||(this.s=1,on(16),A=!1),this.o=this.o&&A,!A)Ei(this.i,this.l,Fe,"[Invalid Chunked Response]"),Pn(this),$r(this);else if(0<Fe.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),Ai(Ln),Ln.M=!0,on(11))}}else Ei(this.i,this.l,Fe,null),ys(this,Fe);Tn==4&&Pn(this),this.o&&!this.J&&(Tn==4?Fl(this.j,this):(this.o=!1,Er(this)))}else Fu(this.g),A==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Pn(this),$r(this)}}}catch{}finally{}};function dn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ui(p,x){var A=p.C,B=x.indexOf(`
`,A);return B==-1?ri:(A=Number(x.substring(A,B)),isNaN(A)?xo:(B+=1,B+A>x.length?ri:(x=x.slice(B,B+A),p.C=B+A,x)))}wr.prototype.cancel=function(){this.J=!0,Pn(this)};function Er(p){p.S=Date.now()+p.I,Ol(p,p.I)}function Ol(p,x){if(p.B!=null)throw Error("WatchDog timer not null");p.B=gt(w(p.ba,p),x)}function Qr(p){p.B&&(c.clearTimeout(p.B),p.B=null)}wr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Aa(this.i,this.A),this.L!=2&&(Kr(),on(17)),Pn(this),this.s=2,$r(this)):Ol(this,this.S-p)};function $r(p){p.j.G==0||p.J||Fl(p.j,p)}function Pn(p){Qr(p);var x=p.M;x&&typeof x.ma=="function"&&x.ma(),p.M=null,ms(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function ys(p,x){try{var A=p.j;if(A.G!=0&&(A.g==p||bt(A.h,p))){if(!p.K&&bt(A.h,p)&&A.G==3){try{var B=A.Da.g.parse(x)}catch{B=null}if(Array.isArray(B)&&B.length==3){var he=B;if(he[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)Cs(A),Oa(A);else break e;As(A),on(18)}}else A.za=he[1],0<A.za-A.T&&37500>he[2]&&A.F&&A.v==0&&!A.C&&(A.C=gt(w(A.Za,A),6e3));if(1>=ka(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ci(A,11)}else if((p.K||A.g==p)&&Cs(A),!q(x))for(he=A.Da.g.parse(x),x=0;x<he.length;x++){let It=he[x];if(A.T=It[0],It=It[1],A.G==2)if(It[0]=="c"){A.K=It[1],A.ia=It[2];const Ln=It[3];Ln!=null&&(A.la=Ln,A.j.info("VER="+A.la));const Tn=It[4];Tn!=null&&(A.Aa=Tn,A.j.info("SVER="+A.Aa));const Qi=It[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(B=1.5*Qi,A.L=B,A.j.info("backChannelRequestTimeoutMs_="+B)),B=A;const Wn=p.g;if(Wn){const $i=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var be=B.h;be.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Ra(be,be.h),be.h=null))}if(B.D){const zl=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(B.ya=zl,Vt(B.I,B.D,zl))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),B=A;var Fe=p;if(B.qa=Gi(B,B.J?B.ia:null,B.W),Fe.K){ar(B.h,Fe);var kt=Fe,Rn=B.L;Rn&&(kt.I=Rn),kt.B&&(Qr(kt),Er(kt)),B.g=Fe}else Nn(B);0<A.i.length&&Ts(A)}else It[0]!="stop"&&It[0]!="close"||ci(A,7);else A.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?ci(A,7):Qs(A):It[0]!="noop"&&A.l&&A.l.ta(It),A.v=0)}}Kr(4)}catch{}}var Fi=class{constructor(p,x){this.g=p,this.map=x}};function ji(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vs(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ka(p){return p.h?1:p.g?p.g.size:0}function bt(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function Ra(p,x){p.g?p.g.add(x):p.h=x}function ar(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}ji.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function So(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const A of p.g.values())x=x.concat(A.D);return x}return M(p.i)}function en(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var x=[],A=p.length,B=0;B<A;B++)x.push(p[B]);return x}x=[],A=0;for(B in p)x[A++]=p[B];return x}function zi(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var x=[];p=p.length;for(var A=0;A<p;A++)x.push(A);return x}x=[],A=0;for(const B in p)x[A++]=B;return x}}}function _s(p,x){if(p.forEach&&typeof p.forEach=="function")p.forEach(x,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,x,void 0);else for(var A=zi(p),B=en(p),he=B.length,be=0;be<he;be++)x.call(void 0,B[be],A&&A[be],p)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(p,x){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var B=p[A].indexOf("="),he=null;if(0<=B){var be=p[A].substring(0,B);he=p[A].substring(B+1)}else be=p[A];x(be,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function bn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof bn){this.h=p.h,Ys(this,p.j),this.o=p.o,this.g=p.g,Si(this,p.s),this.l=p.l;var x=p.i,A=new lr;A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),Hi(this,A),this.m=p.m}else p&&(x=String(p).match(si))?(this.h=!1,Ys(this,x[1]||"",!0),this.o=ai(x[2]||""),this.g=ai(x[3]||"",!0),Si(this,x[4]),this.l=ai(x[5]||"",!0),Hi(this,x[6]||"",!0),this.m=ai(x[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}bn.prototype.toString=function(){var p=[],x=this.j;x&&p.push(Et(x,Nl,!0),":");var A=this.g;return(A||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Et(x,Nl,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Et(A,A.charAt(0)=="/"?xr:Ll,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Et(A,bs)),p.join("")};function or(p){return new bn(p)}function Ys(p,x,A){p.j=A?ai(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Si(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function Hi(p,x,A){x instanceof lr?(p.i=x,Ks(p.i,p.h)):(A||(x=Et(x,Ws)),p.i=new lr(x,p.h))}function Vt(p,x,A){p.i.set(x,A)}function qs(p){return Vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ai(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Et(p,x,A){return typeof p=="string"?(p=encodeURI(p).replace(x,To),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function To(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Nl=/[#\/\?@]/g,Ll=/[#\?:]/g,xr=/[#\?]/g,Ws=/[#\?@]/g,bs=/#/g;function lr(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function Xr(p){p.g||(p.g=new Map,p.h=0,p.i&&Pl(p.i,function(x,A){p.add(decodeURIComponent(x.replace(/\+/g," ")),A)}))}r=lr.prototype,r.add=function(p,x){Xr(this),this.i=null,p=Pr(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(x),this.h+=1,this};function Yi(p,x){Xr(p),x=Pr(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function ln(p,x){return Xr(p),x=Pr(p,x),p.g.has(x)}r.forEach=function(p,x){Xr(this),this.g.forEach(function(A,B){A.forEach(function(he){p.call(x,he,B,this)},this)},this)},r.na=function(){Xr(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),A=[];for(let B=0;B<x.length;B++){const he=p[B];for(let be=0;be<he.length;be++)A.push(x[B])}return A},r.V=function(p){Xr(this);let x=[];if(typeof p=="string")ln(this,p)&&(x=x.concat(this.g.get(Pr(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)x=x.concat(p[A])}return x},r.set=function(p,x){return Xr(this),this.i=null,p=Pr(this,p),ln(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},r.get=function(p,x){return p?(p=this.V(p),0<p.length?String(p[0]):x):x};function Or(p,x,A){Yi(p,x),0<A.length&&(p.i=null,p.g.set(Pr(p,x),M(A)),p.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var A=0;A<x.length;A++){var B=x[A];const be=encodeURIComponent(String(B)),Fe=this.V(B);for(B=0;B<Fe.length;B++){var he=be;Fe[B]!==""&&(he+="="+encodeURIComponent(String(Fe[B]))),p.push(he)}}return this.i=p.join("&")};function Pr(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function Ks(p,x){x&&!p.j&&(Xr(p),p.i=null,p.g.forEach(function(A,B){var he=B.toLowerCase();B!=he&&(Yi(this,B),Or(this,he,A))},p)),p.j=x}function ws(p,x){const A=new Wt;if(c.Image){const B=new Image;B.onload=S(oi,A,"TestLoadImage: loaded",!0,x,B),B.onerror=S(oi,A,"TestLoadImage: error",!1,x,B),B.onabort=S(oi,A,"TestLoadImage: abort",!1,x,B),B.ontimeout=S(oi,A,"TestLoadImage: timeout",!1,x,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else x(!1)}function qn(p,x){const A=new Wt,B=new AbortController,he=setTimeout(()=>{B.abort(),oi(A,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:B.signal}).then(be=>{clearTimeout(he),be.ok?oi(A,"TestPingServer: ok",!0,x):oi(A,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(he),oi(A,"TestPingServer: error",!1,x)})}function oi(p,x,A,B,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),B(A)}catch{}}function ur(){this.g=new vi}function li(p,x,A){const B=A||"";try{_s(p,function(he,be){let Fe=he;d(he)&&(Fe=Yn(he)),x.push(B+be+"="+encodeURIComponent(Fe))})}catch(he){throw x.push(B+"type="+encodeURIComponent("_badmap")),he}}function Es(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Es,_i),Es.prototype.g=function(){return new Ti(this.l,this.j)},Es.prototype.i=function(p){return function(){return p}}({});function Ti(p,x){$t.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ti,$t),r=Ti.prototype,r.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,Di(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},r.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}r.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?ui(this):Di(this),this.readyState==3&&xs(this)}},r.Ra=function(p){this.g&&(this.response=this.responseText=p,ui(this))},r.Qa=function(p){this.g&&(this.response=p,ui(this))},r.ga=function(){this.g&&ui(this)};function ui(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Di(p)}r.setRequestHeader=function(p,x){this.u.append(p,x)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var A=x.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=x.next();return p.join(`\r
`)};function Di(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Vl(p){let x="";return de(p,function(A,B){x+=B,x+=":",x+=A,x+=`\r
`}),x}function wn(p,x,A){e:{for(B in A){var B=!1;break e}B=!0}B||(A=Vl(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):Vt(p,x,A))}function Yt(p){$t.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Yt,$t);var Do=/^https?$/i,qi=["POST","PUT"];r=Yt.prototype,r.Ha=function(p){this.J=p},r.ea=function(p,x,A,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?zs(this.o):zs(Xn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(be){Ma(this,be);return}if(p=A||"",A=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var he in B)A.set(he,B[he]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const be of B.keys())A.set(be,B.get(be));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(A.keys()).find(be=>be.toLowerCase()=="content-type"),he=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qi,x,void 0))||B||he||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Fe]of A)this.g.setRequestHeader(be,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(p),this.u=!1}catch(be){Ma(this,be)}};function Ma(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,Gs(p),Wi(p)}function Gs(p){p.A||(p.A=!0,Ct(p,"complete"),Ct(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ct(this,"complete"),Ct(this,"abort"),Wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ao(this):this.bb())},r.bb=function(){Ao(this)};function Ao(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Nr(p)!=4||p.Z()!=2)){if(p.u&&Nr(p)==4)kn(p.Ea,0,p);else if(Ct(p,"readystatechange"),Nr(p)==4){p.h=!1;try{const Fe=p.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var A;if(!(A=x)){var B;if(B=Fe===0){var he=String(p.D).match(si)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),B=!Do.test(he?he.toLowerCase():"")}A=B}if(A)Ct(p,"complete"),Ct(p,"success");else{p.m=6;try{var be=2<Nr(p)?p.g.statusText:""}catch{be=""}p.l=be+" ["+p.Z()+"]",Gs(p)}}finally{Wi(p)}}}}function Wi(p,x){if(p.g){Ia(p);const A=p.g,B=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||Ct(p,"ready");try{A.onreadystatechange=B}catch{}}}function Ia(p){p.I&&(c.clearTimeout(p.I),p.I=null)}r.isActive=function(){return!!this.g};function Nr(p){return p.g?p.g.readyState:0}r.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),$e(x)}};function Co(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Fu(p){const x={};p=(p.g&&2<=Nr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(q(p[B]))continue;var A=z(p[B]);const he=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const be=x[he]||[];x[he]=be,be.push(A)}V(x,function(B){return B.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(p,x,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||x}function Ss(p){this.Aa=0,this.i=[],this.j=new Wt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ki("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ki("baseRetryDelayMs",5e3,p),this.cb=Ki("retryDelaySeedMs",1e4,p),this.Wa=Ki("forwardChannelMaxRetries",2,p),this.wa=Ki("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(p&&p.concurrentRequestLimit),this.Da=new ur,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ss.prototype,r.la=8,r.G=1,r.connect=function(p,x,A,B){on(0),this.W=p,this.H=x||{},A&&B!==void 0&&(this.H.OSID=A,this.H.OAID=B),this.F=this.X,this.I=Gi(this,null,this.W),Ts(this)};function Qs(p){if(ju(p),p.G==3){var x=p.U++,A=or(p.I);if(Vt(A,"SID",p.K),Vt(A,"RID",x),Vt(A,"TYPE","terminate"),Ds(p,A),x=new wr(p,p.j,x),x.L=2,x.v=qs(or(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=x.v,A=!0),A||(x.g=Io(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Er(x)}Mo(p)}function Oa(p){p.g&&(Ai(p),p.g.cancel(),p.g=null)}function ju(p){Oa(p),p.u&&(c.clearTimeout(p.u),p.u=null),Cs(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ts(p){if(!vs(p.h)&&!p.s){p.s=!0;var x=p.Ga;we||G(),Ce||(we(),Ce=!0),Qe.add(x,p),p.B=0}}function Bl(p,x){return ka(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=x.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=gt(w(p.Ga,p,x),Ro(p,p.B)),p.B++,!0)}r.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const he=new wr(this,this.j,p);let be=this.o;if(this.S&&(be?(be=I(be),U(be,this.S)):be=this.S),this.m!==null||this.O||(he.H=be,be=null),this.P)e:{for(var x=0,A=0;A<this.i.length;A++){t:{var B=this.i[A];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(x+=B,4096<x){x=A;break e}if(x===4096||A===this.i.length-1){x=A+1;break e}}x=1e3}else x=1e3;x=ko(this,he,x),A=or(this.I),Vt(A,"RID",p),Vt(A,"CVER",22),this.D&&Vt(A,"X-HTTP-Session-Id",this.D),Ds(this,A),be&&(this.O?x="headers="+encodeURIComponent(String(Vl(be)))+"&"+x:this.m&&wn(A,this.m,be)),Ra(this.h,he),this.Ua&&Vt(A,"TYPE","init"),this.P?(Vt(A,"$req",x),Vt(A,"SID","null"),he.T=!0,ii(he,A,null)):ii(he,A,x),this.G=2}}else this.G==3&&(p?Pa(this,p):this.i.length==0||vs(this.h)||Pa(this))};function Pa(p,x){var A;x?A=x.l:A=p.U++;const B=or(p.I);Vt(B,"SID",p.K),Vt(B,"RID",A),Vt(B,"AID",p.T),Ds(p,B),p.m&&p.o&&wn(B,p.m,p.o),A=new wr(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),x&&(p.i=x.D.concat(p.i)),x=ko(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ra(p.h,A),ii(A,B,x)}function Ds(p,x){p.H&&de(p.H,function(A,B){Vt(x,B,A)}),p.l&&_s({},function(A,B){Vt(x,B,A)})}function ko(p,x,A){A=Math.min(p.i.length,A);var B=p.l?w(p.l.Na,p.l,p):null;e:{var he=p.i;let be=-1;for(;;){const Fe=["count="+A];be==-1?0<A?(be=he[0].g,Fe.push("ofs="+be)):be=0:Fe.push("ofs="+be);let kt=!0;for(let Rn=0;Rn<A;Rn++){let It=he[Rn].g;const Ln=he[Rn].map;if(It-=be,0>It)be=Math.max(0,he[Rn].g-100),kt=!1;else try{li(Ln,Fe,"req"+It+"_")}catch{B&&B(Ln)}}if(kt){B=Fe.join("&");break e}}}return p=p.i.splice(0,A),x.D=p,B}function Nn(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;we||G(),Ce||(we(),Ce=!0),Qe.add(x,p),p.v=0}}function As(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=gt(w(p.Fa,p),Ro(p,p.v)),p.v++,!0)}r.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=gt(w(this.ab,this),p)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),Oa(this),Ul(this))};function Ai(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Ul(p){p.g=new wr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var x=or(p.qa);Vt(x,"RID","rpc"),Vt(x,"SID",p.K),Vt(x,"AID",p.T),Vt(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&Vt(x,"TO",p.ja),Vt(x,"TYPE","xmlhttp"),Ds(p,x),p.m&&p.o&&wn(x,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=qs(or(x)),A.m=null,A.P=!0,xi(A,p)}r.Za=function(){this.C!=null&&(this.C=null,Oa(this),As(this),on(19))};function Cs(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Fl(p,x){var A=null;if(p.g==x){Cs(p),Ai(p),p.g=null;var B=2}else if(bt(p.h,x))A=x.D,ar(p.h,x),B=1;else return;if(p.G!=0){if(x.o)if(B==1){A=x.m?x.m.length:0,x=Date.now()-x.F;var he=p.B;B=Hs(),Ct(B,new _n(B,A)),Ts(p)}else Nn(p);else if(he=x.s,he==3||he==0&&0<x.X||!(B==1&&Bl(p,x)||B==2&&As(p)))switch(A&&0<A.length&&(x=p.h,x.i=x.i.concat(A)),he){case 1:ci(p,5);break;case 4:ci(p,10);break;case 3:ci(p,6);break;default:ci(p,2)}}}function Ro(p,x){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*x}function ci(p,x){if(p.j.info("Error code "+x),x==2){var A=w(p.fb,p),B=p.Xa;const he=!B;B=new bn(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ys(B,"https"),qs(B),he?ws(B.toString(),A):qn(B.toString(),A)}else on(2);p.G=0,p.l&&p.l.sa(x),Mo(p),ju(p)}r.fb=function(p){p?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Mo(p){if(p.G=0,p.ka=[],p.l){const x=So(p.h);(x.length!=0||p.i.length!=0)&&(k(p.ka,x),k(p.ka,p.i),p.h.i.length=0,M(p.i),p.i.length=0),p.l.ra()}}function Gi(p,x,A){var B=A instanceof bn?or(A):new bn(A);if(B.g!="")x&&(B.g=x+"."+B.g),Si(B,B.s);else{var he=c.location;B=he.protocol,x=x?x+"."+he.hostname:he.hostname,he=+he.port;var be=new bn(null);B&&Ys(be,B),x&&(be.g=x),he&&Si(be,he),A&&(be.l=A),B=be}return A=p.D,x=p.ya,A&&x&&Vt(B,A,x),Vt(B,"VER",p.la),Ds(p,B),B}function Io(p,x,A){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Ca&&!p.pa?new Yt(new Es({eb:A})):new Yt(p.pa),x.Ha(p.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}r=Oo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ks(){}ks.prototype.g=function(p,x){return new Zn(p,x)};function Zn(p,x){$t.call(this),this.g=new Ss(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!q(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!q(x)&&(this.g.D=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new hi(this)}T(Zn,$t),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Qs(this.g)},Zn.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=Yn(p),p=A);x.i.push(new Fi(x.Ya++,p)),x.G==3&&Ts(x)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Zn.aa.N.call(this)};function jl(p){Bi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const A in x){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}T(jl,Bi);function zu(){Ta.call(this),this.status=1}T(zu,Ta);function hi(p){this.g=p}T(hi,Oo),hi.prototype.ua=function(){Ct(this.g,"a")},hi.prototype.ta=function(p){Ct(this.g,new jl(p))},hi.prototype.sa=function(p){Ct(this.g,new zu)},hi.prototype.ra=function(){Ct(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,BD=function(){return new ks},VD=function(){return Hs()},LD=wi,e_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Lp=br,Ir.COMPLETE="complete",ND=Ir,Ye.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",$t.prototype.listen=$t.prototype.K,nf=Ye,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,PD=Yt}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});const jx="@firebase/firestore",zx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Y_("@firebase/firestore");function gc(){return xu.logLevel}function Ke(r,...e){if(xu.logLevel<=Ot.DEBUG){const t=e.map(K_);xu.debug(`Firestore (${Xc}): ${r}`,...t)}}function co(r,...e){if(xu.logLevel<=Ot.ERROR){const t=e.map(K_);xu.error(`Firestore (${Xc}): ${r}`,...t)}}function kc(r,...e){if(xu.logLevel<=Ot.WARN){const t=e.map(K_);xu.warn(`Firestore (${Xc}): ${r}`,...t)}}function K_(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,UD(r,n,t)}function UD(r,e,t){let n=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw co(n),new Error(n)}function Jt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||UD(e,i,n)}function _t(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends go{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class _P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bP{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jt(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new yl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yl,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yl)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Jt(typeof n.accessToken=="string",31837,{l:n}),new FD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class wP{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EP{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new wP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Jt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=SP(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function St(r,e){return r<e?-1:r>e?1:0}function t_(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return St(n,i);{const a=jD(),l=TP(a.encode(Yx(r,t)),a.encode(Yx(e,t)));return l!==0?l:St(n,i)}}t+=n>65535?2:1}return St(r.length,e.length)}function Yx(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function TP(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return St(r[t],e[t]);return St(r.length,e.length)}function Rc(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-62135596800,Wx=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Wx);return new rr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qx)throw new it(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wx}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new rr(0,0))}static max(){return new vt(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class aa{constructor(e,t,n){t===void 0?t=0:t>e.length&&ht(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&ht(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=aa.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return St(e.length,t.length)}static compareSegments(e,t){const n=aa.isNumericId(e),i=aa.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?aa.extractNumericId(e).compare(aa.extractNumericId(t)):t_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class xn extends aa{construct(e,t,n){return new xn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new it(Oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const DP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends aa{construct(e,t,n){return new kr(e,t,n)}static isValidIdentifier(e){return DP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new kr([Kx])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new it(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new it(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new it(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new it(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(xn.fromString(e))}static fromName(e){return new at(xn.fromString(e).popFirst(5))}static empty(){return new at(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new xn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function AP(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(n===1e9?new rr(t+1,0):new rr(t,n));return new El(i,at.empty(),e)}function CP(r){return new El(r.readTime,r.key,Af)}class El{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new El(vt.min(),at.empty(),Af)}static max(){return new El(vt.max(),at.empty(),Af)}}function kP(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=at.comparator(r.documentKey,e.documentKey),t!==0?t:St(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){if(r.code!==Oe.FAILED_PRECONDITION||r.message!==RP)throw r;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,n)=>{t(e)})}static reject(e){return new Re((t,n)=>{n(e)})}static waitFor(e){return new Re((t,n)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},h=>n(h))}),l=!0,a===i&&t()})}static or(e){let t=Re.resolve(!1);for(const n of e)t=t.next(i=>i?Re.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new Re((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;t(e[d]).next(g=>{l[d]=g,++c,c===a&&n(l)},g=>i(g))}})}static doWhile(e,t){return new Re((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function IP(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-1;function $m(r){return r==null}function am(r){return r===0&&1/r==-1/0}function OP(r){return typeof r=="number"&&Number.isInteger(r)&&!am(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="";function PP(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Gx(e)),e=NP(r.get(t),e);return Gx(e)}function NP(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case HD:t+="";break;default:t+=a}}return t}function Gx(r){return r+HD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Mu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function YD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??Cr.RED,this.left=i??Cr.EMPTY,this.right=a??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new Cr(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $x(this.data.getIterator())}getIteratorFrom(e){return new $x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class $x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new Ps([])}unionWith(e){let t=new ir(kr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qD("Invalid base64 string: "+a):a}}(e);return new Mr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const LP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(r){if(Jt(!!r,39018),typeof r=="string"){let e=0;const t=LP.exec(r);if(Jt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Fn(r.seconds),nanos:Fn(r.nanos)}}function Fn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sl(r){return typeof r=="string"?Mr.fromBase64String(r):Mr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="server_timestamp",KD="__type__",GD="__previous_value__",QD="__local_write_time__";function Q_(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[KD])===null||t===void 0?void 0:t.stringValue)===WD}function Xm(r){const e=r.mapValue.fields[GD];return Q_(e)?Xm(e):e}function Cf(r){const e=xl(r.mapValue.fields[QD].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t,n,i,a,l,c,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const om="(default)";class kf{constructor(e,t){this.projectId=e,this.database=t||om}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database===om}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__type__",BP="__max__",ap={mapValue:{}},XD="__vector__",lm="value";function Tl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Q_(r)?4:FP(r)?9007199254740991:UP(r)?10:11:ht(28295,{value:r})}function _a(r,e){if(r===e)return!0;const t=Tl(r);if(t!==Tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cf(r).isEqual(Cf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=xl(i.timestampValue),c=xl(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return Sl(i.bytesValue).isEqual(Sl(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Fn(i.geoPointValue.latitude)===Fn(a.geoPointValue.latitude)&&Fn(i.geoPointValue.longitude)===Fn(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Fn(i.integerValue)===Fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Fn(i.doubleValue),c=Fn(a.doubleValue);return l===c?am(l)===am(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return Rc(r.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Qx(l)!==Qx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!_a(l[h],c[h])))return!1;return!0}(r,e);default:return ht(52216,{left:r})}}function Rf(r,e){return(r.values||[]).find(t=>_a(t,e))!==void 0}function Mc(r,e){if(r===e)return 0;const t=Tl(r),n=Tl(e);if(t!==n)return St(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return St(r.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Fn(a.integerValue||a.doubleValue),h=Fn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(r,e);case 3:return Xx(r.timestampValue,e.timestampValue);case 4:return Xx(Cf(r),Cf(e));case 5:return t_(r.stringValue,e.stringValue);case 6:return function(a,l){const c=Sl(a),h=Sl(l);return c.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=St(c[d],h[d]);if(g!==0)return g}return St(c.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const c=St(Fn(a.latitude),Fn(l.latitude));return c!==0?c:St(Fn(a.longitude),Fn(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Zx(r.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,d,g;const _=a.fields||{},w=l.fields||{},S=(c=_[lm])===null||c===void 0?void 0:c.arrayValue,T=(h=w[lm])===null||h===void 0?void 0:h.arrayValue,M=St(((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:Zx(S,T)}(r.mapValue,e.mapValue);case 11:return function(a,l){if(a===ap.mapValue&&l===ap.mapValue)return 0;if(a===ap.mapValue)return 1;if(l===ap.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const w=t_(h[_],g[_]);if(w!==0)return w;const S=Mc(c[h[_]],d[g[_]]);if(S!==0)return S}return St(h.length,g.length)}(r.mapValue,e.mapValue);default:throw ht(23264,{Pe:t})}}function Xx(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return St(r,e);const t=xl(r),n=xl(e),i=St(t.seconds,n.seconds);return i!==0?i:St(t.nanos,n.nanos)}function Zx(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Mc(t[i],n[i]);if(a)return a}return St(t.length,n.length)}function Ic(r){return n_(r)}function n_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=xl(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Sl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return at.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=n_(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${n_(t.fields[l])}`;return i+"}"}(r.mapValue):ht(61005,{value:r})}function Vp(r){switch(Tl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xm(r);return e?16+Vp(e):16;case 5:return 2*r.stringValue.length;case 6:return Sl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Vp(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Mu(n.fields,(a,l)=>{i+=a.length+Vp(l)}),i}(r.mapValue);default:throw ht(13486,{value:r})}}function r_(r){return!!r&&"integerValue"in r}function $_(r){return!!r&&"arrayValue"in r}function Jx(r){return!!r&&"nullValue"in r}function eS(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bp(r){return!!r&&"mapValue"in r}function UP(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[$D])===null||t===void 0?void 0:t.stringValue)===XD}function pf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Mu(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=pf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function FP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(t)}setAll(e){let t=kr.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=pf(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Bp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Mu(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ls(pf(this.value))}}function ZD(r){const e=[];return Mu(r.fields,(t,n)=>{const i=new kr([t]);if(Bp(n)){const a=ZD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t,n,i,a,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new zr(e,0,vt.min(),vt.min(),vt.min(),ls.empty(),0)}static newFoundDocument(e,t,n,i){return new zr(e,1,t,vt.min(),n,i,0)}static newNoDocument(e,t){return new zr(e,2,t,vt.min(),vt.min(),ls.empty(),0)}static newUnknownDocument(e,t){return new zr(e,3,t,vt.min(),vt.min(),ls.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.position=e,this.inclusive=t}}function tS(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],l=r.position[i];if(a.field.isKeyField()?n=at.comparator(at.fromName(l.referenceValue),t.key):n=Mc(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function nS(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_a(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t="asc"){this.field=e,this.dir=t}}function jP(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class tr extends JD{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new HP(e,t,n):t==="array-contains"?new WP(e,n):t==="in"?new KP(e,n):t==="not-in"?new GP(e,n):t==="array-contains-any"?new QP(e,n):new tr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new YP(e,n):new qP(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mc(t,this.value)):t!==null&&Tl(this.value)===Tl(t)&&this.matchesComparison(Mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ba extends JD{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ba(e,t)}matches(e){return eA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eA(r){return r.op==="and"}function tA(r){return zP(r)&&eA(r)}function zP(r){for(const e of r.filters)if(e instanceof ba)return!1;return!0}function i_(r){if(r instanceof tr)return r.field.canonicalString()+r.op.toString()+Ic(r.value);if(tA(r))return r.filters.map(e=>i_(e)).join(",");{const e=r.filters.map(t=>i_(t)).join(",");return`${r.op}(${e})`}}function nA(r,e){return r instanceof tr?function(n,i){return i instanceof tr&&n.op===i.op&&n.field.isEqual(i.field)&&_a(n.value,i.value)}(r,e):r instanceof ba?function(n,i){return i instanceof ba&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,c)=>a&&nA(l,i.filters[c]),!0):!1}(r,e):void ht(19439)}function rA(r){return r instanceof tr?function(t){return`${t.field.canonicalString()} ${t.op} ${Ic(t.value)}`}(r):r instanceof ba?function(t){return t.op.toString()+" {"+t.getFilters().map(rA).join(" ,")+"}"}(r):"Filter"}class HP extends tr{constructor(e,t,n){super(e,t,n),this.key=at.fromName(n.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class YP extends tr{constructor(e,t){super(e,"in",t),this.keys=iA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qP extends tr{constructor(e,t){super(e,"not-in",t),this.keys=iA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iA(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>at.fromName(n.referenceValue))}class WP extends tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $_(t)&&Rf(t.arrayValue,this.value)}}class KP extends tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rf(this.value.arrayValue,t)}}class GP extends tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Rf(this.value.arrayValue,t)}}class QP extends tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Rf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function rS(r,e=null,t=[],n=[],i=null,a=null,l=null){return new $P(r,e,t,n,i,a,l)}function X_(r){const e=_t(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>i_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),$m(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ic(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ic(n)).join(",")),e.Ie=t}return e.Ie}function Z_(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!jP(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!nA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nS(r.startAt,e.startAt)&&nS(r.endAt,e.endAt)}function s_(r){return at.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t=null,n=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function XP(r,e,t,n,i,a,l,c){return new Zm(r,e,t,n,i,a,l,c)}function sA(r){return new Zm(r)}function iS(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZP(r){return r.collectionGroup!==null}function mf(r){const e=_t(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ir(kr.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new cm(a,n))}),t.has(kr.keyField().canonicalString())||e.Ee.push(new cm(kr.keyField(),n))}return e.Ee}function fa(r){const e=_t(r);return e.de||(e.de=JP(e,mf(r))),e.de}function JP(r,e){if(r.limitType==="F")return rS(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new cm(i.field,a)});const t=r.endAt?new um(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new um(r.startAt.position,r.startAt.inclusive):null;return rS(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function a_(r,e,t){return new Zm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Jm(r,e){return Z_(fa(r),fa(e))&&r.limitType===e.limitType}function aA(r){return`${X_(fa(r))}|lt:${r.limitType}`}function yc(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>rA(i)).join(", ")}]`),$m(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ic(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ic(i)).join(",")),`Target(${n})`}(fa(r))}; limitType=${r.limitType})`}function eg(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):at.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of mf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,h){const d=tS(l,c,h);return l.inclusive?d<=0:d<0}(n.startAt,mf(n),i)||n.endAt&&!function(l,c,h){const d=tS(l,c,h);return l.inclusive?d>=0:d>0}(n.endAt,mf(n),i))}(r,e)}function eN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oA(r){return(e,t)=>{let n=!1;for(const i of mf(r)){const a=tN(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function tN(r,e,t){const n=r.field.isKeyField()?at.comparator(e.key,t.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?Mc(h,d):ht(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return YD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new Cn(at.comparator);function ho(){return nN}const lA=new Cn(at.comparator);function rf(...r){let e=lA;for(const t of r)e=e.insert(t.key,t);return e}function uA(r){let e=lA;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function cu(){return gf()}function cA(){return gf()}function gf(){return new Iu(r=>r.toString(),(r,e)=>r.isEqual(e))}const rN=new Cn(at.comparator),iN=new ir(at.comparator);function Nt(...r){let e=iN;for(const t of r)e=e.add(t);return e}const sN=new ir(St);function aN(){return sN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function hA(r){return{integerValue:""+r}}function oN(r,e){return OP(e)?hA(e):J_(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this._=void 0}}function lN(r,e,t){return r instanceof hm?function(i,a){const l={fields:{[KD]:{stringValue:WD},[QD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Q_(a)&&(a=Xm(a)),a&&(l.fields[GD]=a),{mapValue:l}}(t,e):r instanceof Mf?dA(r,e):r instanceof If?pA(r,e):function(i,a){const l=fA(i,a),c=sS(l)+sS(i.Re);return r_(l)&&r_(i.Re)?hA(c):J_(i.serializer,c)}(r,e)}function uN(r,e,t){return r instanceof Mf?dA(r,e):r instanceof If?pA(r,e):t}function fA(r,e){return r instanceof fm?function(n){return r_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class hm extends tg{}class Mf extends tg{constructor(e){super(),this.elements=e}}function dA(r,e){const t=mA(e);for(const n of r.elements)t.some(i=>_a(i,n))||t.push(n);return{arrayValue:{values:t}}}class If extends tg{constructor(e){super(),this.elements=e}}function pA(r,e){let t=mA(e);for(const n of r.elements)t=t.filter(i=>!_a(i,n));return{arrayValue:{values:t}}}class fm extends tg{constructor(e,t){super(),this.serializer=e,this.Re=t}}function sS(r){return Fn(r.integerValue||r.doubleValue)}function mA(r){return $_(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cN(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Mf&&i instanceof Mf||n instanceof If&&i instanceof If?Rc(n.elements,i.elements,_a):n instanceof fm&&i instanceof fm?_a(n.Re,i.Re):n instanceof hm&&i instanceof hm}(r.transform,e.transform)}class hN{constructor(e,t){this.version=e,this.transformResults=t}}class da{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new da}static exists(e){return new da(void 0,e)}static updateTime(e){return new da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Up(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ng{}function gA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vA(r.key,da.none()):new Kf(r.key,r.data,da.none());{const t=r.data,n=ls.empty();let i=new ir(kr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new Ou(r.key,n,new Ps(i.toArray()),da.none())}}function fN(r,e,t){r instanceof Kf?function(i,a,l){const c=i.value.clone(),h=oS(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Ou?function(i,a,l){if(!Up(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=oS(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(yA(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function yf(r,e,t,n){return r instanceof Kf?function(a,l,c,h){if(!Up(a.precondition,l))return c;const d=a.value.clone(),g=lS(a.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof Ou?function(a,l,c,h){if(!Up(a.precondition,l))return c;const d=lS(a.fieldTransforms,h,l),g=l.data;return g.setAll(yA(a)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(a,l,c){return Up(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function dN(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=fA(n.transform,i||null);a!=null&&(t===null&&(t=ls.empty()),t.set(n.field,a))}return t||null}function aS(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Rc(n,i,(a,l)=>cN(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kf extends ng{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ou extends ng{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function oS(r,e,t){const n=new Map;Jt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let i=0;i<t.length;i++){const a=r[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,uN(l,c,t[i]))}return n}function lS(r,e,t){const n=new Map;for(const i of r){const a=i.transform,l=t.data.field(i.field);n.set(i.field,lN(a,l,e))}return n}class vA extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pN extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fN(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cA();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const h=gA(l,c);h!==null&&n.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(vt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(t,n)=>aS(t,n))&&Rc(this.baseMutations,e.baseMutations,(t,n)=>aS(t,n))}}class e0{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Jt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return rN}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new e0(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Ut;function vN(r){switch(r){case Oe.OK:return ht(64938);case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0;default:return ht(15467,{code:r})}}function _A(r){if(r===void 0)return co("GRPC error has no .code"),Oe.UNKNOWN;switch(r){case $n.OK:return Oe.OK;case $n.CANCELLED:return Oe.CANCELLED;case $n.UNKNOWN:return Oe.UNKNOWN;case $n.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case $n.INTERNAL:return Oe.INTERNAL;case $n.UNAVAILABLE:return Oe.UNAVAILABLE;case $n.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case $n.NOT_FOUND:return Oe.NOT_FOUND;case $n.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case $n.ABORTED:return Oe.ABORTED;case $n.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case $n.DATA_LOSS:return Oe.DATA_LOSS;default:return ht(39323,{code:r})}}(Ut=$n||($n={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new gl([4294967295,4294967295],0);function uS(r){const e=jD().encode(r),t=new OD;return t.update(e),new Uint8Array(t.digest())}function cS(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gl([t,n],0),new gl([i,a],0)]}class t0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sf(`Invalid padding: ${t}`);if(n<0)throw new sf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new sf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=gl.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(gl.fromNumber(n)));return i.compare(_N)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=uS(e),[n,i]=cS(t);for(let a=0;a<this.hashCount;a++){const l=this.we(n,i,a);if(!this.be(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new t0(a,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=uS(e),[n,i]=cS(t);for(let a=0;a<this.hashCount;a++){const l=this.we(n,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rg(vt.min(),i,new Cn(St),ho(),Nt())}}class Gf{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Gf(n,t,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class bA{constructor(e,t){this.targetId=e,this.Ce=t}}class wA{constructor(e,t,n=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class hS{constructor(){this.Fe=0,this.Me=fS(),this.xe=Mr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Nt(),t=Nt(),n=Nt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ht(38017,{changeType:a})}}),new Gf(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=fS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bN{constructor(e){this.ze=e,this.je=new Map,this.He=ho(),this.Je=op(),this.Ye=op(),this.Ze=new Cn(St)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:ht(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(s_(a))if(n===0){const l=new at(a.path);this.tt(t,l,zr.newNoDocument(l,vt.min()))}else Jt(n===1,20013,{expectedCount:n});else{const l=this.ut(t);if(l!==n){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Sl(n).toUint8Array()}catch(h){if(h instanceof qD)return kc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new t0(l,i,a)}catch(h){return kc(h instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&s_(c.target)){const h=new at(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,zr.newNoDocument(h,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let n=Nt();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new rg(e,t,this.Ze,this.He,n);return this.He=ho(),this.Je=op(),this.Ye=op(),this.Ze=new Cn(St),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new hS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ir(St),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ir(St),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function op(){return new Cn(at.comparator)}function fS(){return new Cn(at.comparator)}const wN={asc:"ASCENDING",desc:"DESCENDING"},EN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xN={and:"AND",or:"OR"};class SN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function o_(r,e){return r.useProto3Json||$m(e)?e:{value:e}}function dm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function TN(r,e){return dm(r,e.toTimestamp())}function pa(r){return Jt(!!r,49232),vt.fromTimestamp(function(t){const n=xl(t);return new rr(n.seconds,n.nanos)}(r))}function n0(r,e){return l_(r,e).canonicalString()}function l_(r,e){const t=function(i){return new xn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function xA(r){const e=xn.fromString(r);return Jt(CA(e),10190,{key:e.toString()}),e}function u_(r,e){return n0(r.databaseId,e.path)}function wv(r,e){const t=xA(e);if(t.get(1)!==r.databaseId.projectId)throw new it(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new it(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new at(TA(t))}function SA(r,e){return n0(r.databaseId,e)}function DN(r){const e=xA(r);return e.length===4?xn.emptyPath():TA(e)}function c_(r){return new xn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TA(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dS(r,e,t){return{name:u_(r,e),fields:t.value.mapValue.fields}}function AN(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ht(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,g){return d.useProto3Json?(Jt(g===void 0||typeof g=="string",58123),Mr.fromBase64String(g||"")):(Jt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Mr.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const g=d.code===void 0?Oe.UNKNOWN:_A(d.code);return new it(g,d.message||"")}(l);t=new wA(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=wv(r,n.document.name),a=pa(n.document.updateTime),l=n.document.createTime?pa(n.document.createTime):vt.min(),c=new ls({mapValue:{fields:n.document.fields}}),h=zr.newFoundDocument(i,a,l,c),d=n.targetIds||[],g=n.removedTargetIds||[];t=new Fp(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=wv(r,n.document),a=n.readTime?pa(n.readTime):vt.min(),l=zr.newNoDocument(i,a),c=n.removedTargetIds||[];t=new Fp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=wv(r,n.document),a=n.removedTargetIds||[];t=new Fp([],a,i,null)}else{if(!("filter"in e))return ht(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new yN(i,a),c=n.targetId;t=new bA(c,l)}}return t}function CN(r,e){let t;if(e instanceof Kf)t={update:dS(r,e.key,e.value)};else if(e instanceof vA)t={delete:u_(r,e.key)};else if(e instanceof Ou)t={update:dS(r,e.key,e.data),updateMask:VN(e.fieldMask)};else{if(!(e instanceof pN))return ht(16599,{ft:e.type});t={verify:u_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const c=l.transform;if(c instanceof hm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof If)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fm)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw ht(20930,{transform:l.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:TN(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ht(27497)}(r,e.precondition)),t}function kN(r,e){return r&&r.length>0?(Jt(e!==void 0,14353),r.map(t=>function(i,a){let l=i.updateTime?pa(i.updateTime):pa(a);return l.isEqual(vt.min())&&(l=pa(a)),new hN(l,i.transformResults||[])}(t,e))):[]}function RN(r,e){return{documents:[SA(r,e.path)]}}function MN(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=SA(r,i);const a=function(d){if(d.length!==0)return AA(ba.create(d,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(g=>function(w){return{field:vc(w.field),direction:PN(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=o_(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function IN(r){let e=DN(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Jt(n===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const w=DA(_);return w instanceof ba&&tA(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(w=>function(T){return new cm(_c(T.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,$m(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(_){const w=!!_.before,S=_.values||[];return new um(S,w)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const w=!_.before,S=_.values||[];return new um(S,w)}(t.endAt)),XP(e,i,l,a,c,"F",h,d)}function ON(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=_c(t.unaryFilter.field);return tr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(t.unaryFilter.field);return tr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_c(t.unaryFilter.field);return tr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_c(t.unaryFilter.field);return tr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}}(r):r.fieldFilter!==void 0?function(t){return tr.create(_c(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ba.create(t.compositeFilter.filters.map(n=>DA(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ht(1026)}}(t.compositeFilter.op))}(r):ht(30097,{filter:r})}function PN(r){return wN[r]}function NN(r){return EN[r]}function LN(r){return xN[r]}function vc(r){return{fieldPath:r.canonicalString()}}function _c(r){return kr.fromServerFormat(r.fieldPath)}function AA(r){return r instanceof tr?function(t){if(t.op==="=="){if(eS(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(Jx(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eS(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(Jx(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:NN(t.op),value:t.value}}}(r):r instanceof ba?function(t){const n=t.getFilters().map(i=>AA(i));return n.length===1?n[0]:{compositeFilter:{op:LN(t.op),filters:n}}}(r):ht(54877,{filter:r})}function VN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,n,i,a=vt.min(),l=vt.min(),c=Mr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.wt=e}}function UN(r){const e=IN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?a_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.Cn=new jN}addToCollectionParentIndex(e,t){return this.Cn.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Re.resolve()}deleteFieldIndex(e,t){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,t){return Re.resolve()}getDocumentsMatchingTarget(e,t){return Re.resolve(null)}getIndexType(e,t){return Re.resolve(0)}getFieldIndexes(e,t){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,t){return Re.resolve(El.min())}getMinOffsetFromCollectionGroup(e,t){return Re.resolve(El.min())}updateCollectionGroup(e,t,n){return Re.resolve()}updateIndexEntries(e,t){return Re.resolve()}}class jN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new ir(xn.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ir(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class gi{static withCacheSize(e){return new gi(e,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(kA,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Oc(0)}static lr(){return new Oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="LruGarbageCollector",zN=1048576;function gS([r,e],[t,n]){const i=St(r,t);return i===0?St(e,n):i}class HN{constructor(e){this.Er=e,this.buffer=new ir(gS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();gS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ke(mS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jc(t)?Ke(mS,"Ignoring IndexedDB error during garbage collection: ",t):await Zc(t)}await this.mr(3e5)})}}class qN{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Re.resolve(Qm.le);const n=new HN(t);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(pS)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,i,a,l,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(n=_,c=Date.now(),this.removeTargets(e,n,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(d=Date.now(),gc()<=Ot.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function WN(r,e){return new qN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new Iu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&yf(n.mutation,i,Ps.empty(),rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Nt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Nt()){const i=cu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let l=rf();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=cu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Nt()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let a=ho();const l=gf(),c=function(){return gf()}();return t.forEach((h,d)=>{const g=n.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Ou)?a=a.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),yf(g.mutation,d,g.mutation.getFieldMask(),rr.now())):l.set(d.key,Ps.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var _;return c.set(d,new GN(g,(_=l.get(d))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const n=gf();let i=new Cn((l,c)=>l-c),a=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=n.get(h)||Ps.empty();g=c.applyToLocalView(d,g),n.set(h,g);const _=(i.get(c.batchId)||Nt()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,_=cA();g.forEach(w=>{if(!a.has(w)){const S=gA(t.get(w),n.get(w));S!==null&&_.set(w,S),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,_))}return Re.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return at.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Re.resolve(cu());let c=Af,h=a;return l.next(d=>Re.forEach(d,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?Re.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,Nt())).next(g=>({batchId:c,changes:uA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(n=>{let i=rf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let l=rf();return this.indexManager.getCollectionParents(e,a).next(c=>Re.forEach(c,h=>{const d=function(_,w){return new Zm(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(l=>{a.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,zr.newInvalidDocument(g)))});let c=rf();return l.forEach((h,d)=>{const g=a.get(h);g!==void 0&&yf(g.mutation,d,Ps.empty(),rr.now()),eg(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Re.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:pa(i.createTime)}}(t)),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:UN(i.bundledQuery),readTime:pa(i.readTime)}}(t)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.overlays=new Cn(at.comparator),this.Qr=new Map}getOverlay(e,t){return Re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cu();return Re.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.St(e,t,a)}),Re.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),Re.resolve()}getOverlaysForCollection(e,t,n){const i=cu(),a=t.length+1,l=new at(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&i.set(h.getKey(),h)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Cn((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let g=a.get(d.largestBatchId);g===null&&(g=cu(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=cu(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=i)););return Re.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new gN(t,n));let a=this.Qr.get(t);a===void 0&&(a=Nt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.$r=new ir(pr.Ur),this.Kr=new ir(pr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new pr(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new pr(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new at(new xn([])),n=new pr(t,e),i=new pr(t,e+1),a=[];return this.Kr.forEachInRange([n,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new at(new xn([])),n=new pr(t,e),i=new pr(t,e+1);let a=Nt();return this.Kr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new pr(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class pr{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return at.comparator(e.key,t.key)||St(e.Zr,t.Zr)}static Wr(e,t){return St(e.Zr,t.Zr)||at.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ir(pr.Ur)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mN(a,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new pr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Re.resolve(l)}lookupMutationBatch(e,t){return Re.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ti(n),a=i<0?0:i;return Re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?G_:this.nr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pr(t,0),i=new pr(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,i],l=>{const c=this.ei(l.Zr);a.push(c)}),Re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ir(St);return t.forEach(i=>{const a=new pr(i,0),l=new pr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{n=n.add(c.Zr)})}),Re.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;at.isDocumentKey(a)||(a=a.child(""));const l=new pr(new at(a),0);let c=new ir(St);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Zr)),!0)},l),Re.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Jt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return Re.forEach(t.mutations,i=>{const a=new pr(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new pr(t,0),i=this.Xr.firstAfterOrEqual(n);return Re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.ii=e,this.docs=function(){return new Cn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Re.resolve(n?n.document.mutableCopy():zr.newInvalidDocument(t))}getEntries(e,t){let n=ho();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():zr.newInvalidDocument(i))}),Re.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=ho();const l=t.path,c=new at(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||kP(CP(g),n)<=0||(i.has(g.key)||eg(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Re.resolve(a)}getAllFromCollectionGroup(e,t,n,i){ht(9500)}si(e,t){return Re.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new tL(this)}getSize(e){return Re.resolve(this.size)}}class tL extends KN{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),Re.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.persistence=e,this.oi=new Iu(t=>X_(t),Z_),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new r0,this.targetCount=0,this.ui=Oc.cr()}forEachTarget(e,t){return this.oi.forEach((n,i)=>t(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Re.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Oc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.Tr(t),Re.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Re.waitFor(a).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Re.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Re.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Re.resolve(n)}containsKey(e,t){return Re.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.ci={},this.overlays={},this.li=new Qm(0),this.hi=!1,this.hi=!0,this.Pi=new ZN,this.referenceDelegate=e(this),this.Ti=new nL(this),this.indexManager=new FN,this.remoteDocumentCache=function(i){return new eL(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new BN(t),this.Ei=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new JN(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Ke("MemoryPersistence","Starting transaction:",e);const i=new rL(this.li.next());return this.referenceDelegate.di(),n(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return Re.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class rL extends MP{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Vi=new r0,this.mi=null}static fi(e){return new i0(e)}get gi(){if(this.mi)return this.mi;throw ht(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Re.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.gi,n=>{const i=at.fromPath(n);return this.pi(e,i).next(a=>{a||t.removeEntry(i,vt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Re.or([()=>Re.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class pm{constructor(e,t){this.persistence=e,this.yi=new Iu(n=>PP(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=WN(this,t)}static fi(e,t){return new pm(e,t)}di(){}Ai(e){return Re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}br(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return Re.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(a=>a?Re.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(n++,a.removeEntry(l,vt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Re.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Re.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Re.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vp(e.data.value)),t}Dr(e,t,n){return Re.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Re.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ds=n,this.As=i}static Rs(e,t){let n=Nt(),i=Nt();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new s0(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZO()?8:IP(qr())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new iL;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,n,i){return n.documentReadCount<this.gs?(gc()<=Ot.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",yc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Re.resolve()):(gc()<=Ot.DEBUG&&Ke("QueryEngine","Query:",yc(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(gc()<=Ot.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",yc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fa(t))):Re.resolve())}ws(e,t){if(iS(t))return Re.resolve(null);let n=fa(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=a_(t,null,"F"),n=fa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=Nt(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.vs(t,c);return this.Cs(t,d,l,h.readTime)?this.ws(e,a_(t,null,"F")):this.Fs(e,d,t,h)}))})))}bs(e,t,n,i){return iS(t)||i.isEqual(vt.min())?Re.resolve(null):this.ys.getDocuments(e,n).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,n,i)?Re.resolve(null):(gc()<=Ot.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yc(t)),this.Fs(e,l,t,AP(i,Af)).next(c=>c))})}vs(e,t){let n=new ir(oA(e));return t.forEach((i,a)=>{eg(e,a)&&(n=n.add(a))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return gc()<=Ot.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",yc(t)),this.ys.getDocumentsMatchingQuery(e,t,El.min(),n)}Fs(e,t,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LocalStore",aL=3e8;class oL{constructor(e,t,n,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Cn(St),this.Os=new Iu(a=>X_(a),Z_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function lL(r,e,t,n){return new oL(r,e,t,n)}async function MA(r,e){const t=_t(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let h=Nt();for(const d of i){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of a){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function uL(r,e){const t=_t(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,g){const _=d.batch,w=_.keys();let S=Re.resolve();return w.forEach(T=>{S=S.next(()=>g.getEntry(h,T)).next(M=>{const k=d.docVersions.get(T);Jt(k!==null,48541),M.version.compareTo(k)<0&&(_.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),g.addEntry(M)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=Nt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function IA(r){const e=_t(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function cL(r,e){const t=_t(r),n=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;c.push(t.Ti.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(a,g.addedDocuments,_)));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Mr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,n)),i=i.insert(_,S),function(M,k,L){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=aL?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(w,S,g)&&c.push(t.Ti.updateTargetData(a,S))});let h=ho(),d=Nt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(hL(a,l,e.documentUpdates).next(g=>{h=g.qs,d=g.Qs})),!n.isEqual(vt.min())){const g=t.Ti.getLastRemoteSnapshotVersion(a).next(_=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(g)}return Re.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(t.xs=i,a))}function hL(r,e,t){let n=Nt(),i=Nt();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=ho();return t.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(vt.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Ke(a0,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function fL(r,e){const t=_t(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=G_),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function dL(r,e){const t=_t(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ti.getTargetData(n,e).next(a=>a?(i=a,Re.resolve(i)):t.Ti.allocateTargetId(n).next(l=>(i=new cl(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function h_(r,e,t){const n=_t(r),i=n.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Jc(l))throw l;Ke(a0,`Failed to update sequence numbers for target ${e}: ${l}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function yS(r,e,t){const n=_t(r);let i=vt.min(),a=Nt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const _=_t(h),w=_.Os.get(g);return w!==void 0?Re.resolve(_.xs.get(w)):_.Ti.getTargetData(d,g)}(n,l,fa(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(l,e,t?i:vt.min(),t?a:Nt())).next(c=>(pL(n,eN(e),c),{documents:c,$s:a})))}function pL(r,e,t){let n=r.Ns.get(e)||vt.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Ns.set(e,n)}class vS{constructor(){this.activeTargetIds=aN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mL{constructor(){this.xo=new vS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="ConnectivityMonitor";class bS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ke(_S,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ke(_S,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp=null;function f_(){return lp===null?lp=function(){return 268435456+Math.round(2147483648*Math.random())}():lp++,"0x"+lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="RestConnection",yL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===om?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,t,n,i,a){const l=f_(),c=this.jo(e,t.toUriEncodedString());Ke(Ev,`Sending RPC '${e}' ${l}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,a);const{host:d}=new URL(c),g=Qc(d);return this.Jo(e,c,h,n,g).then(_=>(Ke(Ev,`Received RPC '${e}' ${l}: `,_),_),_=>{throw kc(Ev,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",n),_})}Yo(e,t,n,i,a,l){return this.zo(e,t,n,i,a)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const n=yL[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class bL extends vL{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const l=f_();return new Promise((c,h)=>{const d=new PD;d.setWithCredentials(!0),d.listenOnce(ND.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lp.NO_ERROR:const _=d.getResponseJson();Ke(Ur,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Lp.TIMEOUT:Ke(Ur,`RPC '${e}' ${l} timed out`),h(new it(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const w=d.getStatus();if(Ke(Ur,`RPC '${e}' ${l} failed with status:`,w,"response text:",d.getResponseText()),w>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S==null?void 0:S.error;if(T&&T.status&&T.message){const M=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(q)>=0?q:Oe.UNKNOWN}(T.status);h(new it(M,T.message))}else h(new it(Oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new it(Oe.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{h_:e,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ke(Ur,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);Ke(Ur,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",g,n,15)})}I_(e,t,n){const i=f_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BD(),c=VD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const g=a.join("");Ke(Ur,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);this.E_(_);let w=!1,S=!1;const T=new _L({Zo:k=>{S?Ke(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(Ke(Ur,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),Ke(Ur,`RPC '${e}' stream ${i} sending:`,k),_.send(k))},Xo:()=>_.close()}),M=(k,L,q)=>{k.listen(L,H=>{try{q(H)}catch(se){setTimeout(()=>{throw se},0)}})};return M(_,nf.EventType.OPEN,()=>{S||(Ke(Ur,`RPC '${e}' stream ${i} transport opened.`),T.__())}),M(_,nf.EventType.CLOSE,()=>{S||(S=!0,Ke(Ur,`RPC '${e}' stream ${i} transport closed`),T.u_(),this.d_(_))}),M(_,nf.EventType.ERROR,k=>{S||(S=!0,kc(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),T.u_(new it(Oe.UNAVAILABLE,"The operation could not be completed")))}),M(_,nf.EventType.MESSAGE,k=>{var L;if(!S){const q=k.data[0];Jt(!!q,16349);const H=q,se=(H==null?void 0:H.error)||((L=H[0])===null||L===void 0?void 0:L.error);if(se){Ke(Ur,`RPC '${e}' stream ${i} received error:`,se);const X=se.status;let de=function(N){const U=$n[N];if(U!==void 0)return _A(U)}(X),V=se.message;de===void 0&&(de=Oe.INTERNAL,V="Unknown error status: "+X+" with message "+se.message),S=!0,T.u_(new it(de,V)),_.close()}else Ke(Ur,`RPC '${e}' stream ${i} received:`,q),T.c_(q)}}),M(c,LD.STAT_EVENT,k=>{k.stat===e_.PROXY?Ke(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===e_.NOPROXY&&Ke(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r){return new SN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,n=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=n,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-n);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="PersistentStream";class PA{constructor(e,t,n,i,a,l,c,h){this.xi=e,this.S_=n,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new OA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(co(t.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.v_===t&&this.z_(n,i)},n=>{e(()=>{const i=new it(Oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(i)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.j_(i))}),this.stream.onMessage(i=>{n(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ke(wS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Ke(wS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wL extends PA{constructor(e,t,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=AN(this.serializer,e),n=function(a){if(!("targetChange"in a))return vt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?vt.min():l.readTime?pa(l.readTime):vt.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=c_(this.serializer),t.addTarget=function(a,l){let c;const h=l.target;if(c=s_(h)?{documents:RN(a,h)}:{query:MN(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=EA(a,l.resumeToken);const d=o_(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(vt.min())>0){c.readTime=dm(a,l.snapshotVersion.toTimestamp());const d=o_(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=ON(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=c_(this.serializer),t.removeTarget=e,this.Q_(t)}}class EL extends PA{constructor(e,t,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=kN(e.writeResults,e.commitTime),n=pa(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=c_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>CN(this.serializer,n))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{}class SL extends xL{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new it(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,l_(t,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Oe.UNKNOWN,a.toString())})}Yo(e,t,n,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,l_(t,n),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new it(Oe.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class TL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(co(t),this.ua=!1):Ke("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="RemoteStore";class DL{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{n.enqueueAndForget(async()=>{Pu(this)&&(Ke(Su,"Restarting streams for network reachability change."),await async function(h){const d=_t(h);d.da.add(4),await Qf(d),d.Va.set("Unknown"),d.da.delete(4),await sg(d)}(this))})}),this.Va=new TL(n,i)}}async function sg(r){if(Pu(r))for(const e of r.Aa)await e(!0)}async function Qf(r){for(const e of r.Aa)await e(!1)}function NA(r,e){const t=_t(r);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),c0(t)?u0(t):eh(t).N_()&&l0(t,e))}function o0(r,e){const t=_t(r),n=eh(t);t.Ea.delete(e),n.N_()&&LA(t,e),t.Ea.size===0&&(n.N_()?n.k_():Pu(t)&&t.Va.set("Unknown"))}function l0(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eh(r).Z_(e)}function LA(r,e){r.ma.Ke(e),eh(r).X_(e)}function u0(r){r.ma=new bN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),eh(r).start(),r.Va.ca()}function c0(r){return Pu(r)&&!eh(r).O_()&&r.Ea.size>0}function Pu(r){return _t(r).da.size===0}function VA(r){r.ma=void 0}async function AL(r){r.Va.set("Online")}async function CL(r){r.Ea.forEach((e,t)=>{l0(r,e)})}async function kL(r,e){VA(r),c0(r)?(r.Va.Pa(e),u0(r)):r.Va.set("Unknown")}async function RL(r,e,t){if(r.Va.set("Online"),e instanceof wA&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(r,e)}catch(n){Ke(Su,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await mm(r,n)}else if(e instanceof Fp?r.ma.Xe(e):e instanceof bA?r.ma.ot(e):r.ma.nt(e),!t.isEqual(vt.min()))try{const n=await IA(r.localStore);t.compareTo(n)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ea.get(d);g&&a.Ea.set(d,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const g=a.Ea.get(h);if(!g)return;a.Ea.set(h,g.withResumeToken(Mr.EMPTY_BYTE_STRING,g.snapshotVersion)),LA(a,h);const _=new cl(g.target,h,d,g.sequenceNumber);l0(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Ke(Su,"Failed to raise snapshot:",n),await mm(r,n)}}async function mm(r,e,t){if(!Jc(e))throw e;r.da.add(1),await Qf(r),r.Va.set("Offline"),t||(t=()=>IA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ke(Su,"Retrying IndexedDB access"),await t(),r.da.delete(1),await sg(r)})}function BA(r,e){return e().catch(t=>mm(r,t,e))}async function ag(r){const e=_t(r),t=Dl(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:G_;for(;ML(e);)try{const i=await fL(e.localStore,n);if(i===null){e.Ia.length===0&&t.k_();break}n=i.batchId,IL(e,i)}catch(i){await mm(e,i)}UA(e)&&FA(e)}function ML(r){return Pu(r)&&r.Ia.length<10}function IL(r,e){r.Ia.push(e);const t=Dl(r);t.N_()&&t.ea&&t.ta(e.mutations)}function UA(r){return Pu(r)&&!Dl(r).O_()&&r.Ia.length>0}function FA(r){Dl(r).start()}async function OL(r){Dl(r).ia()}async function PL(r){const e=Dl(r);for(const t of r.Ia)e.ta(t.mutations)}async function NL(r,e,t){const n=r.Ia.shift(),i=e0.from(n,e,t);await BA(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await ag(r)}async function LL(r,e){e&&Dl(r).ea&&await async function(n,i){if(function(l){return vN(l)&&l!==Oe.ABORTED}(i.code)){const a=n.Ia.shift();Dl(n).L_(),await BA(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ag(n)}}(r,e),UA(r)&&FA(r)}async function ES(r,e){const t=_t(r);t.asyncQueue.verifyOperationInProgress(),Ke(Su,"RemoteStore received new credentials");const n=Pu(t);t.da.add(3),await Qf(t),n&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await sg(t)}async function VL(r,e){const t=_t(r);e?(t.da.delete(2),await sg(t)):e||(t.da.add(2),await Qf(t),t.Va.set("Unknown"))}function eh(r){return r.fa||(r.fa=function(t,n,i){const a=_t(t);return a.oa(),new wL(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{e_:AL.bind(null,r),n_:CL.bind(null,r),i_:kL.bind(null,r),Y_:RL.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),c0(r)?u0(r):r.Va.set("Unknown")):(await r.fa.stop(),VA(r))})),r.fa}function Dl(r){return r.ga||(r.ga=function(t,n,i){const a=_t(t);return a.oa(),new EL(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:OL.bind(null,r),i_:LL.bind(null,r),na:PL.bind(null,r),ra:NL.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await ag(r)):(await r.ga.stop(),r.Ia.length>0&&(Ke(Su,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const l=Date.now()+n,c=new h0(e,t,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f0(r,e){if(co("AsyncQueue",`${e}: ${r}`),Jc(r))return new it(Oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static emptySet(e){return new wc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||at.comparator(t.key,n.key):(t,n)=>at.comparator(t.key,n.key),this.keyedMap=rf(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new wc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.pa=new Cn(at.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(t,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(t):e.type===1&&n.type===2?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ht(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Pc{constructor(e,t,n,i,a,l,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Pc(e,t,wc.emptySet(t),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class UL{constructor(){this.queries=SS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=_t(t),a=i.queries;i.queries=SS(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new it(Oe.ABORTED,"Firestore shutting down"))}}function SS(){return new Iu(r=>aA(r),Jm)}async function FL(r,e){const t=_t(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(n=2):(a=new BL,n=e.va()?0:1);try{switch(n){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=f0(l,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&d0(t)}async function jL(r,e){const t=_t(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function zL(r,e){const t=_t(r);let n=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Ma(i)&&(n=!0);l.ba=i}}n&&d0(t)}function HL(r,e,t){const n=_t(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function d0(r){r.Ca.forEach(e=>{e.next()})}var d_,TS;(TS=d_||(d_={})).xa="default",TS.Cache="cache";class YL{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Pc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const n=t!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class qL{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=oA(e),this.Xa=new wc(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new xS,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),S=eg(this.query,_)?_:null,T=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?T!==M&&(n.track({type:3,doc:S}),k=!0):this.ru(w,S)||(n.track({type:2,doc:S}),k=!0,(h&&this.Za(S,h)>0||d&&this.Za(S,d)<0)&&(c=!0)):!w&&S?(n.track({type:0,doc:S}),k=!0):w&&!S&&(n.track({type:1,doc:w}),k=!0,(h||d)&&(c=!0)),k&&(S?(l=l.add(S),a=M?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),n.track({type:1,doc:g})}return{Xa:l,nu:n,Cs:c,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((g,_)=>function(S,T){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:k})}};return M(S)-M(T)}(g.type,_.type)||this.Za(g.doc,_.doc)),this.iu(n),i=i!=null&&i;const c=t&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new Pc(this.query,e.Xa,a,l,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new xS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Nt(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const t=[];return e.forEach(n=>{this.Ya.has(n)||t.push(new zA(n))}),this.Ya.forEach(n=>{e.has(n)||t.push(new jA(n))}),t}au(e){this.Ha=e.$s,this.Ya=Nt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Pc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const p0="SyncEngine";class WL{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class KL{constructor(e){this.key=e,this.cu=!1}}class GL{constructor(e,t,n,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Iu(c=>aA(c),Jm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Cn(at.comparator),this.Eu=new Map,this.du=new r0,this.Au={},this.Ru=new Map,this.Vu=Oc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QL(r,e,t=!0){const n=GA(r);let i;const a=n.hu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await HA(n,e,t,!0),i}async function $L(r,e){const t=GA(r);await HA(t,e,!0,!1)}async function HA(r,e,t,n){const i=await dL(r.localStore,fa(e)),a=i.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await XL(r,e,a,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&NA(r.remoteStore,i),c}async function XL(r,e,t,n,i){r.fu=(_,w,S)=>async function(M,k,L,q){let H=k.view.tu(L);H.Cs&&(H=await yS(M.localStore,k.query,!1).then(({documents:V})=>k.view.tu(V,H)));const se=q&&q.targetChanges.get(k.targetId),X=q&&q.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(H,M.isPrimaryClient,se,X);return AS(M,k.targetId,de.ou),de.snapshot}(r,_,w,S);const a=await yS(r.localStore,e,!0),l=new qL(e,a.$s),c=l.tu(a.documents),h=Gf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=l.applyChanges(c,r.isPrimaryClient,h);AS(r,t,d.ou);const g=new WL(e,t,l);return r.hu.set(e,g),r.Pu.has(t)?r.Pu.get(t).push(e):r.Pu.set(t,[e]),d.snapshot}async function ZL(r,e,t){const n=_t(r),i=n.hu.get(e),a=n.Pu.get(i.targetId);if(a.length>1)return n.Pu.set(i.targetId,a.filter(l=>!Jm(l,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await h_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&o0(n.remoteStore,i.targetId),p_(n,i.targetId)}).catch(Zc)):(p_(n,i.targetId),await h_(n.localStore,i.targetId,!0))}async function JL(r,e){const t=_t(r),n=t.hu.get(e),i=t.Pu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),o0(t.remoteStore,n.targetId))}async function e4(r,e,t){const n=o4(r);try{const i=await function(l,c){const h=_t(l),d=rr.now(),g=c.reduce((S,T)=>S.add(T.key),Nt());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=ho(),M=Nt();return h.Bs.getEntries(S,g).next(k=>{T=k,T.forEach((L,q)=>{q.isValidDocument()||(M=M.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,T)).next(k=>{_=k;const L=[];for(const q of c){const H=dN(q,_.get(q.key).overlayedDocument);H!=null&&L.push(new Ou(q.key,H,ZD(H.value.mapValue),da.exists(!0)))}return h.mutationQueue.addMutationBatch(S,d,L,c)}).next(k=>{w=k;const L=k.applyToLocalDocumentSet(_,M);return h.documentOverlayCache.saveOverlays(S,k.batchId,L)})}).then(()=>({batchId:w.batchId,changes:uA(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let d=l.Au[l.currentUser.toKey()];d||(d=new Cn(St)),d=d.insert(c,h),l.Au[l.currentUser.toKey()]=d}(n,i.batchId,t),await $f(n,i.changes),await ag(n.remoteStore)}catch(i){const a=f0(i,"Failed to persist write");t.reject(a)}}async function YA(r,e){const t=_t(r);try{const n=await cL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(Jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Jt(l.cu,14607):i.removedDocuments.size>0&&(Jt(l.cu,42227),l.cu=!1))}),await $f(t,n,e)}catch(n){await Zc(n)}}function DS(r,e,t){const n=_t(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=_t(l);h.onlineState=c;let d=!1;h.queries.forEach((g,_)=>{for(const w of _.Sa)w.Fa(c)&&(d=!0)}),d&&d0(h)}(n.eventManager,e),i.length&&n.lu.Y_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function t4(r,e,t){const n=_t(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Eu.get(e),a=i&&i.key;if(a){let l=new Cn(at.comparator);l=l.insert(a,zr.newNoDocument(a,vt.min()));const c=Nt().add(a),h=new rg(vt.min(),new Map,new Cn(St),l,c);await YA(n,h),n.Iu=n.Iu.remove(a),n.Eu.delete(e),m0(n)}else await h_(n.localStore,e,!1).then(()=>p_(n,e,t)).catch(Zc)}async function n4(r,e){const t=_t(r),n=e.batch.batchId;try{const i=await uL(t.localStore,e);WA(t,n,null),qA(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await $f(t,i)}catch(i){await Zc(i)}}async function r4(r,e,t){const n=_t(r);try{const i=await function(l,c){const h=_t(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next(_=>(Jt(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(n.localStore,e);WA(n,e,t),qA(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await $f(n,i)}catch(i){await Zc(i)}}function qA(r,e){(r.Ru.get(e)||[]).forEach(t=>{t.resolve()}),r.Ru.delete(e)}function WA(r,e,t){const n=_t(r);let i=n.Au[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Au[n.currentUser.toKey()]=i}}function p_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Pu.get(e))r.hu.delete(n),t&&r.lu.gu(n,t);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(n=>{r.du.containsKey(n)||KA(r,n)})}function KA(r,e){r.Tu.delete(e.path.canonicalString());const t=r.Iu.get(e);t!==null&&(o0(r.remoteStore,t),r.Iu=r.Iu.remove(e),r.Eu.delete(t),m0(r))}function AS(r,e,t){for(const n of t)n instanceof jA?(r.du.addReference(n.key,e),i4(r,n)):n instanceof zA?(Ke(p0,"Document no longer in limbo: "+n.key),r.du.removeReference(n.key,e),r.du.containsKey(n.key)||KA(r,n.key)):ht(19791,{pu:n})}function i4(r,e){const t=e.key,n=t.path.canonicalString();r.Iu.get(t)||r.Tu.has(n)||(Ke(p0,"New document in limbo: "+t),r.Tu.add(n),m0(r))}function m0(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const t=new at(xn.fromString(e)),n=r.Vu.next();r.Eu.set(n,new KL(t)),r.Iu=r.Iu.insert(t,n),NA(r.remoteStore,new cl(fa(sA(t.path)),n,"TargetPurposeLimboResolution",Qm.le))}}async function $f(r,e,t){const n=_t(r),i=[],a=[],l=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{l.push(n.fu(h,e,t).then(d=>{var g;if((d||t)&&n.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){i.push(d);const _=s0.Rs(h.targetId,d);a.push(_)}}))}),await Promise.all(l),n.lu.Y_(i),await async function(h,d){const g=_t(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Re.forEach(d,w=>Re.forEach(w.ds,S=>g.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>Re.forEach(w.As,S=>g.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!Jc(_))throw _;Ke(a0,"Failed to update sequence numbers: "+_)}for(const _ of d){const w=_.targetId;if(!_.fromCache){const S=g.xs.get(w),T=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(T);g.xs=g.xs.insert(w,M)}}}(n.localStore,a))}async function s4(r,e){const t=_t(r);if(!t.currentUser.isEqual(e)){Ke(p0,"User change. New user:",e.toKey());const n=await MA(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new it(Oe.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await $f(t,n.ks)}}function a4(r,e){const t=_t(r),n=t.Eu.get(e);if(n&&n.cu)return Nt().add(n.key);{let i=Nt();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const c=t.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function GA(r){const e=_t(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t4.bind(null,e),e.lu.Y_=zL.bind(null,e.eventManager),e.lu.gu=HL.bind(null,e.eventManager),e}function o4(r){const e=_t(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ig(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return lL(this.persistence,new sL,e.initialUser,this.serializer)}Su(e){return new RA(i0.fi,this.serializer)}bu(e){return new mL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gm.provider={build:()=>new gm};class l4 extends gm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Jt(this.persistence.referenceDelegate instanceof pm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new YN(n,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new RA(n=>pm.fi(n,t),this.serializer)}}class m_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>DS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=s4.bind(null,this.syncEngine),await VL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UL}()}createDatastore(e){const t=ig(e.databaseInfo.databaseId),n=function(a){return new bL(a)}(e.databaseInfo);return function(a,l,c,h){return new SL(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,l,c){return new DL(n,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>DS(this.syncEngine,t,0),function(){return bS.C()?new bS:new gL}())}createSyncEngine(e,t){return function(i,a,l,c,h,d,g){const _=new GL(i,a,l,c,h,d);return g&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=_t(i);Ke(Su,"RemoteStore shutting down."),a.da.add(5),await Qf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}m_.provider={build:()=>new m_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="FirestoreClient";class c4{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=zD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{Ke(Al,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ke(Al,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=f0(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sv(r,e){r.asyncQueue.verifyOperationInProgress(),Ke(Al,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await MA(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function CS(r,e){r.asyncQueue.verifyOperationInProgress();const t=await h4(r);Ke(Al,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>ES(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>ES(e.remoteStore,i)),r._onlineComponents=e}async function h4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ke(Al,"Using user provided OfflineComponentProvider");try{await Sv(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Oe.FAILED_PRECONDITION||i.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;kc("Error using user provided cache. Falling back to memory cache: "+t),await Sv(r,new gm)}}else Ke(Al,"Using default OfflineComponentProvider"),await Sv(r,new l4(void 0));return r._offlineComponents}async function QA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ke(Al,"Using user provided OnlineComponentProvider"),await CS(r,r._uninitializedComponentsProvider._online)):(Ke(Al,"Using default OnlineComponentProvider"),await CS(r,new m_))),r._onlineComponents}function f4(r){return QA(r).then(e=>e.syncEngine)}async function d4(r){const e=await QA(r),t=e.eventManager;return t.onListen=QL.bind(null,e.syncEngine),t.onUnlisten=ZL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$L.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JL.bind(null,e.syncEngine),t}function p4(r,e,t={}){const n=new yl;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const g=new u4({next:w=>{g.xu(),l.enqueueAndForget(()=>jL(a,_)),w.fromCache&&h.source==="server"?d.reject(new it(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),_=new YL(c,g,{includeMetadataChanges:!0,Qa:!0});return FL(a,_)}(await d4(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r,e,t){if(!t)throw new it(Oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function m4(r,e,t,n){if(e===!0&&n===!0)throw new it(Oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function RS(r){if(!at.isDocumentKey(r))throw new it(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function MS(r){if(at.isDocumentKey(r))throw new it(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function g0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ht(12329,{type:typeof r})}function Nc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=g0(r);throw new it(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firestore.googleapis.com",IS=!0;class OS{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZA,this.ssl=IS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:IS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zN)throw new it(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new vP;switch(n.type){case"firstParty":return new EP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new it(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=kS.get(t);n&&(Ke("ComponentProvider","Removing Datastore"),kS.delete(t),n.terminate())}(this),Promise.resolve()}}function g4(r,e,t,n={}){var i;r=Nc(r,og);const a=Qc(e),l=r._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:r._getEmulatorOptions()}),h=`${e}:${t}`;a&&(TD(`https://${h}`),DD("Firestore",!0)),l.host!==ZA&&l.host!==h&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:n});if(!wu(d,c)&&(r._setSettings(d),n.mockUserToken)){let g,_;if(typeof n.mockUserToken=="string")g=n.mockUserToken,_=jr.MOCK_USER;else{g=HO(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const w=n.mockUserToken.sub||n.mockUserToken.user_id;if(!w)throw new it(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new jr(w)}r._authCredentials=new _P(new FD(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new lg(this.firestore,e,this._query)}}class hs{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}}class vl extends lg{constructor(e,t,n){super(e,t,sA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new at(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function y0(r,e,...t){if(r=Ni(r),XA("collection","path",e),r instanceof og){const n=xn.fromString(e,...t);return MS(n),new vl(r,null,n)}{if(!(r instanceof hs||r instanceof vl))throw new it(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(xn.fromString(e,...t));return MS(n),new vl(r.firestore,null,n)}}function JA(r,e,...t){if(r=Ni(r),arguments.length===1&&(e=zD.newId()),XA("doc","path",e),r instanceof og){const n=xn.fromString(e,...t);return RS(n),new hs(r,null,new at(n))}{if(!(r instanceof hs||r instanceof vl))throw new it(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(xn.fromString(e,...t));return RS(n),new hs(r.firestore,r instanceof vl?r.converter:null,new at(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="AsyncQueue";class NS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new OA(this,"async_queue_retry"),this.rc=()=>{const n=xv();n&&Ke(PS,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const t=xv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=xv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new yl;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Jc(e))throw e;Ke(PS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,co("INTERNAL UNHANDLED ERROR: ",LS(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=h0.createAndSchedule(this,e,t,n,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&ht(47125,{cc:LS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function LS(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ug extends og{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new NS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NS(e),this._firestoreClient=void 0,await e}}}function y4(r,e){const t=typeof r=="object"?r:RD(),n=typeof r=="string"?r:om,i=W_(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=jO("firestore");a&&g4(i,...a)}return i}function eC(r){if(r._terminated)throw new it(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||v4(r),r._firestoreClient}function v4(r){var e,t,n;const i=r._freezeSettings(),a=function(c,h,d,g){return new VP(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$A(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new c4(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lc(Mr.fromBase64String(e))}catch(t){throw new it(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lc(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^__.*__$/;class b4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}function nC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ic:r})}}class w0{constructor(e,t,n,i,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Vc(e),i}mc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ym(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(nC(this.Ic)&&_4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class w4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ig(e)}bc(e,t,n,i=!1){return new w0({Ic:e,methodName:t,wc:n,path:kr.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rC(r){const e=r._freezeSettings(),t=ig(r._databaseId);return new w4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function iC(r,e,t,n,i,a={}){const l=r.bc(a.merge||a.mergeFields?2:0,e,t,i);lC("Data must be an object, but it was:",l,n);const c=aC(n,l);let h,d;if(a.merge)h=new Ps(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=E4(e,_,t);if(!l.contains(w))throw new it(Oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);S4(g,w)||g.push(w)}h=new Ps(g),d=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=l.fieldTransforms;return new b4(new ls(c),h,d)}function sC(r,e){if(oC(r=Ni(r)))return lC("Unsupported field value:",e,r),aC(r,e);if(r instanceof tC)return function(n,i){if(!nC(i.Ic))throw i.gc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const c of n){let h=sC(c,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=Ni(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oN(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=rr.fromDate(n);return{timestampValue:dm(i.serializer,a)}}if(n instanceof rr){const a=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dm(i.serializer,a)}}if(n instanceof _0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lc)return{bytesValue:EA(i.serializer,n._byteString)};if(n instanceof hs){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:n0(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof b0)return function(l,c){return{mapValue:{fields:{[$D]:{stringValue:XD},[lm]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return J_(c.serializer,d)})}}}}}}(n,i);throw i.gc(`Unsupported field value: ${g0(n)}`)}(r,e)}function aC(r,e){const t={};return YD(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mu(r,(n,i)=>{const a=sC(i,e.Ac(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function oC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rr||r instanceof _0||r instanceof Lc||r instanceof hs||r instanceof tC||r instanceof b0)}function lC(r,e,t){if(!oC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=g0(t);throw n==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+n)}}function E4(r,e,t){if((e=Ni(e))instanceof v0)return e._internalPath;if(typeof e=="string")return uC(r,e);throw ym("Field path arguments must be of type string or ",r,!1,void 0,t)}const x4=new RegExp("[~\\*/\\[\\]]");function uC(r,e,t){if(e.search(x4)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new v0(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ym(r,e,t,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${i}`),h+=")"),new it(Oe.INVALID_ARGUMENT,c+r+h)}function S4(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T4 extends cC{data(){return super.data()}}function hC(r,e){return typeof e=="string"?uC(r,e):e instanceof v0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A4{convertValue(e,t="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Mu(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[lm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Fn(l.doubleValue));return new b0(a)}convertGeoPoint(e){return new _0(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const t=xl(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=xn.fromString(e);Jt(CA(n),9688,{name:e});const i=new kf(n.get(1),n.get(3)),a=new at(n.popFirst(5));return i.isEqual(t)||co(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C4 extends cC{constructor(e,t,n,i,a,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(hC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jp extends C4{data(e={}){return super.data(e)}}class k4{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new up(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new jp(this._firestore,this._userDataWriter,n.key,n,new up(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new jp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new up(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new jp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new up(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:R4(c.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:r})}}class M4 extends A4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,t)}}function E0(r){r=Nc(r,lg);const e=Nc(r.firestore,ug),t=eC(e),n=new M4(e);return D4(r._query),p4(t,r._query).then(i=>new k4(e,n,r,i))}function I4(r,e,t){r=Nc(r,hs);const n=Nc(r.firestore,ug),i=fC(r.converter,e,t);return dC(n,[iC(rC(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,da.none())])}function x0(r,e){const t=Nc(r.firestore,ug),n=JA(r),i=fC(r.converter,e);return dC(t,[iC(rC(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,da.exists(!1))]).then(()=>n)}function dC(r,e){return function(n,i){const a=new yl;return n.asyncQueue.enqueueAndForget(async()=>e4(await f4(n),i,a)),a.promise}(eC(r),e)}(function(e,t=!0){(function(i){Xc=i})($c),Cc(new Eu("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new ug(new bP(n.getProvider("auth-internal")),new xP(l,n.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new it(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(d.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ml(jx,zx,e),ml(jx,zx,"esm2017")})();console.log("Firebase Environment Variables:",{apiKey:"AIzaSyCGd8HJq-kmJ-droAWLb8LTe3B234pB7Xo",authDomain:"project---workouttracker.firebaseapp.com",projectId:"project---workouttracker",storageBucket:"project---workouttracker.appspot.com",messagingSenderId:"660111544538",appId:"1:660111544538:web:f0fd512ec5b5ce520195e3",measurementId:"G-JJBGKND974"});const O4={apiKey:"AIzaSyCGd8HJq-kmJ-droAWLb8LTe3B234pB7Xo",authDomain:"project---workouttracker.firebaseapp.com",projectId:"project---workouttracker",storageBucket:"project---workouttracker.appspot.com",messagingSenderId:"660111544538",appId:"1:660111544538:web:f0fd512ec5b5ce520195e3",measurementId:"G-JJBGKND974"},pC=kD(O4),cg=y4(pC);function mC(r){return y0(cg,"users",r,"exercises")}async function P4(r,e){try{const t={name:e.name||"",category:e.category||"",updatedAt:new Date().toISOString()};return(await x0(mC(r),t)).id}catch(t){throw console.error("Error adding exercise:",t),t}}async function N4(r){return(await E0(mC(r))).docs.map(t=>({id:t.id,...t.data()}))}async function L4(r,e){try{const t=await N4(r),n=Array.isArray(t)?t:[];await vn.exercises.clear();for(const i of n)await vn.exercises.add(i);e(n)}catch(t){console.error("Error syncing exercises from cloud:",t),e([])}}function gC(r){return y0(cg,"users",r,"templates")}async function V4(r,e){try{const t={name:e.name||"",date:e.date||new Date().toISOString().slice(0,10),exercises:Array.isArray(e.exercises)?e.exercises.map(i=>({exerciseId:i.exerciseId||0,plannedSets:i.plannedSets||0})):[],updatedAt:new Date().toISOString()};return(await x0(gC(r),t)).id}catch(t){throw console.error("Error adding template:",t),t}}async function B4(r){return(await E0(gC(r))).docs.map(t=>({id:t.id,...t.data()}))}async function U4(r,e){try{const t=await B4(r),n=Array.isArray(t)?t:[];await vn.workoutTemplates.clear();for(const i of n)await vn.workoutTemplates.add(i);e(n)}catch(t){console.error("Error syncing templates from cloud:",t),e([])}}function yC(r){return y0(cg,"users",r,"workouts")}async function VS(r,e){try{const t={templateId:e.templateId||0,date:e.date||new Date().toISOString().slice(0,10),startTime:e.startTime||Date.now(),endTime:e.endTime||null,exercises:Array.isArray(e.exercises)?e.exercises.map(i=>({exerciseId:i.exerciseId||0,plannedSets:i.plannedSets||0,loggedSets:Array.isArray(i.loggedSets)?i.loggedSets.map(a=>({id:a.id||Date.now(),reps:a.reps||0,weight:a.weight||0,notes:a.notes||"",parentSetId:a.parentSetId||null,timestamp:a.timestamp||Date.now()})):[]})):[],updatedAt:new Date().toISOString()};return(await x0(yC(r),t)).id}catch(t){throw console.error("Error adding workout:",t),t}}async function F4(r){return(await E0(yC(r))).docs.map(t=>({id:t.id,...t.data()}))}async function BS(r,e,t){try{console.log("updateWorkout called with:",{uid:r,id:e,data:t}),console.log("data.exercises:",t.exercises),console.log("Array.isArray(data.exercises):",Array.isArray(t.exercises));const n=JA(cg,"users",r,"workouts",String(e)),i={templateId:t.templateId||0,date:t.date||new Date().toISOString().slice(0,10),startTime:t.startTime||Date.now(),endTime:t.endTime||null,exercises:Array.isArray(t.exercises)?t.exercises.map(a=>(console.log("Processing exercise:",a),console.log("ex.loggedSets:",a.loggedSets),console.log("Array.isArray(ex.loggedSets):",Array.isArray(a.loggedSets)),{exerciseId:a.exerciseId||0,plannedSets:a.plannedSets||0,loggedSets:Array.isArray(a.loggedSets)?a.loggedSets.map(l=>({id:l.id||Date.now(),reps:l.reps||0,weight:l.weight||0,notes:l.notes||"",parentSetId:l.parentSetId||null,timestamp:l.timestamp||Date.now()})):[]})):[],updatedAt:new Date().toISOString()};console.log("sanitizedData:",i),await I4(n,i,{merge:!0})}catch(n){throw console.error("Error updating workout:",n),n}}async function vC(r,e){try{const t=await F4(r),n=Array.isArray(t)?t:[];await vn.workoutSessions.clear();for(const i of n)await vn.workoutSessions.add(i);e(n)}catch(t){console.error("Error syncing workouts from cloud:",t),e([])}}const US=60,Pt=wO((r,e)=>({workoutTemplates:[],exercises:[],workoutHistory:[],currentWorkoutSession:null,restTimerSecondsLeft:0,isRestTimerActive:!1,restTimerIntervalId:null,sessionTimerStartTime:null,sessionTimerIntervalId:null,settings:{defaultRestTime:US},addExercise:async(t,n)=>{await CO(t),n&&await P4(n,t);const i=await Tx();r({exercises:Array.isArray(i)?i:[]})},initExercises:async()=>{const t=await Tx();r({exercises:Array.isArray(t)?t:[]})},removeExercise:async t=>{await kO(t),r(n=>({exercises:Array.isArray(n.exercises)?n.exercises.filter(i=>i.id!==t):[]}))},listExercises:()=>e().exercises||[],listExercisesByCategory:t=>{const n=e().exercises;return Array.isArray(n)?n.filter(i=>i.category===t):[]},addWorkoutTemplate:async(t,n)=>{await TO(t),n&&await V4(n,t);const i=await Sx();r({workoutTemplates:Array.isArray(i)?i:[]})},initWorkoutTemplates:async()=>{const t=await Sx();r({workoutTemplates:Array.isArray(t)?t:[]})},removeWorkoutTemplate:async t=>{await DO(t),await AO(t),r(n=>{var i;return{workoutTemplates:Array.isArray(n.workoutTemplates)?n.workoutTemplates.filter(a=>a.id!==t):[],currentWorkoutSession:((i=n.currentWorkoutSession)==null?void 0:i.templateId)===t?null:n.currentWorkoutSession,workoutHistory:Array.isArray(n.workoutHistory)?n.workoutHistory.filter(a=>a.templateId!==t):[]}})},getMostRecentWorkoutSession:async t=>{const n=e().workoutHistory||[],i=Array.isArray(n)?n.filter(a=>String(a.templateId)!==String(t)||!a.endTime?!1:Array.isArray(a.exercises)&&a.exercises.some(l=>Array.isArray(l.loggedSets)&&l.loggedSets.some(c=>!c.parentSetId))):[];return i.length===0?null:i.sort((a,l)=>l.endTime-a.endTime)[0]},startWorkoutSession:async(t,n=null)=>{const i=Array.isArray(e().workoutTemplates)?e().workoutTemplates.find(d=>d.id===t):null;if(!i){console.error("Template not found:",t);return}e().resetRestTimer(),e().stopSessionTimer();const a=await e().getMostRecentWorkoutSession(t),l={templateId:t,date:new Date().toISOString().slice(0,10),startTime:Date.now(),endTime:null,exercises:Array.isArray(i.exercises)?i.exercises.map(d=>({exerciseId:d.exerciseId,loggedSets:[],plannedSets:d.plannedSets})):[]},c=await Dx(l),h={...l,id:c};if(n)try{await VS(n.uid,h)}catch(d){console.error("Error syncing workout session to Firebase:",d)}return r({currentWorkoutSession:h}),e().startSessionTimer(),a},logSet:async(t,n,i,a,l=null,c=null,h=!1)=>{const d=e().currentWorkoutSession;if(!d){console.error("No active workout session to log set to.");return}const g={id:Date.now()+Math.random(),reps:Number(n),weight:Number(i),notes:a,parentSetId:l,timestamp:Date.now(),isPersonalBest:!!h},_=Array.isArray(d.exercises)?d.exercises:[],w=_.map(k=>{const L=Array.isArray(k.loggedSets)?k.loggedSets:[];return k.exerciseId===t?{...k,loggedSets:[...L,g]}:k}),S={...d,exercises:w};if(await Ax(d.id,{exercises:w}),c)try{await BS(c.uid,d.id,S)}catch(k){console.error("Error syncing set to Firebase:",k)}r({currentWorkoutSession:S}),l===null&&e().startRestTimer();const T=_.reduce((k,L)=>k+(L.plannedSets||0),0);w.reduce((k,L)=>{const q=Array.isArray(L.loggedSets)?L.loggedSets:[];return k+q.filter(H=>!H.parentSetId).length},0)>=T&&e().resetRestTimer()},endWorkoutSession:async(t=null)=>{const n=e().currentWorkoutSession;if(!n)return;const i={...n,endTime:Date.now()};if(await Ax(n.id,{endTime:i.endTime}),t){try{await BS(t.uid,n.id,i)}catch(a){console.error("Error syncing workout end to Firebase:",a)}try{await vC(t.uid,a=>{r({workoutHistory:Array.isArray(a)?a:[]})})}catch(a){console.error("Error syncing workouts from Firebase after ending session:",a)}}else{const a=await Cx();r(l=>({currentWorkoutSession:null,workoutHistory:Array.isArray(a)?a:[]}))}r({currentWorkoutSession:null}),e().resetRestTimer(),e().stopSessionTimer()},initWorkoutHistory:async()=>{const t=await Cx();r({workoutHistory:Array.isArray(t)?t:[]})},startRestTimer:()=>{e().resetRestTimer();const t=e().settings.defaultRestTime||US,n=setInterval(()=>{r(i=>i.restTimerSecondsLeft<=1?(clearInterval(i.restTimerIntervalId),{restTimerSecondsLeft:0,isRestTimerActive:!1,restTimerIntervalId:null}):{restTimerSecondsLeft:i.restTimerSecondsLeft-1})},1e3);r({restTimerSecondsLeft:t,isRestTimerActive:!0,restTimerIntervalId:n})},resetRestTimer:()=>{const t=e().restTimerIntervalId;t&&clearInterval(t),r({restTimerSecondsLeft:0,isRestTimerActive:!1,restTimerIntervalId:null})},startSessionTimer:()=>{if(!e().sessionTimerStartTime){r({sessionTimerStartTime:Date.now()});const t=setInterval(()=>{},1e3);r({sessionTimerIntervalId:t})}},stopSessionTimer:()=>{const t=e().sessionTimerIntervalId;t&&clearInterval(t),r({sessionTimerStartTime:null,sessionTimerIntervalId:null})},setSetting:async(t,n)=>{r(i=>{const a={...i.settings,[t]:n};return RO(a),{settings:a}})},initSettings:async()=>{const t=await MO();t&&r(n=>({settings:{...n.settings,...t}}))},clearAll:()=>r({workoutTemplates:[],exercises:[],workoutHistory:[],currentWorkoutSession:null}),setWorkoutHistory:t=>r({workoutHistory:Array.isArray(t)?t:[]}),setExercises:t=>r({exercises:Array.isArray(t)?t:[]}),setWorkoutTemplates:t=>r({workoutTemplates:Array.isArray(t)?t:[]}),addWorkoutSession:async(t,n)=>{await Dx(t),n&&await VS(n,t)}}));function _C({user:r}){console.log("ExerciseManager user:",r);const[e,t]=K.useState(""),[n,i]=K.useState(wx[0]),a=Pt(_=>_.exercises),l=Pt(_=>_.addExercise),c=Pt(_=>_.initExercises),h=Pt(_=>_.removeExercise);K.useEffect(()=>{c()},[c]);const d=async _=>{_.preventDefault(),e&&(await l({id:Date.now(),name:e,category:n},r==null?void 0:r.uid),t(""))},g=async(_,w)=>{window.confirm(`Are you sure you want to delete the exercise "${w}"?`)&&await h(_)};return J.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-md border border-gray-700 mt-6",children:[J.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Add New Exercise"}),J.jsxs("form",{onSubmit:d,className:"mb-6 flex flex-wrap items-center gap-3",children:[J.jsx("input",{className:"input flex-grow min-w-[150px]",value:e,onChange:_=>t(_.target.value),placeholder:"Exercise name","aria-label":"Exercise name"}),J.jsx("select",{className:"input min-w-[120px]",value:n,onChange:_=>i(_.target.value),"aria-label":"Exercise category",children:wx.map(_=>J.jsx("option",{value:_,children:_},_))}),J.jsxs("button",{className:"btn btn-primary flex-shrink-0",type:"submit",children:[J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:J.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Exercise"]})]}),J.jsx("h3",{className:"font-bold text-white mb-3",children:"Your Existing Exercises"}),a.length===0?J.jsx("p",{className:"text-gray-400",children:"No exercises added yet."}):J.jsx("ul",{className:"space-y-3",children:a.map(_=>J.jsxs("li",{className:"bg-gray-700 p-3 rounded-lg shadow-sm flex justify-between items-center border border-gray-600",children:[J.jsxs("span",{className:"text-gray-100 font-medium",children:[_.name," ",J.jsxs("span",{className:"text-gray-400 text-sm",children:["(",_.category,")"]})]}),J.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:ring-offset-2 focus:ring-offset-gray-800",onClick:()=>g(_.id,_.name),"aria-label":`Delete ${_.name}`,children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:J.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1zm6 3a1 1 0 100 2h-2a1 1 0 100 2h2a1 1 0 100 2H8a1 1 0 01-1-1v-4a1 1 0 011-1h5z",clipRule:"evenodd"})})})]},_.id))})]})}function j4({user:r}){const[e,t]=K.useState(""),[n,i]=K.useState([]),[a,l]=K.useState(!1),c=Pt(M=>M.exercises),h=Pt(M=>M.addWorkoutTemplate),d=M=>{if(n.some(k=>k.exerciseId===M.id)){alert("Exercise already added to this workout!");return}i([...n,{exerciseId:M.id,name:M.name,plannedSets:3}])},g=(M,k)=>{i(L=>L.map(q=>q.exerciseId===M?{...q,plannedSets:Number(k)}:q))},_=M=>{i(k=>k.filter(L=>L.exerciseId!==M))},w=()=>{l(!0)},S=()=>l(!1),T=async()=>{if(!e||n.length===0){alert("Please enter a workout name and add exercises.");return}const M={id:Date.now(),name:e,date:new Date().toISOString().slice(0,10),exercises:n.map(k=>({exerciseId:k.exerciseId,plannedSets:k.plannedSets}))};await h(M,r==null?void 0:r.uid),t(""),i([]),alert("Workout saved!")};return J.jsxs("div",{className:"p-4 border rounded mb-4 bg-gray-50",children:[J.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-800",children:"Build New Workout"}),J.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3 items-center",children:[J.jsx("input",{className:"border p-2 rounded w-full sm:w-1/2",value:e,onChange:M=>t(M.target.value),placeholder:"Workout Name",required:!0}),J.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full sm:w-auto",onClick:T,type:"button",children:"Save Workout"})]}),J.jsxs("div",{className:"mb-6 border-t pt-4",children:[J.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:"Available Exercises"}),J.jsxs("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto border p-2 rounded bg-white",children:[c.length===0&&J.jsx("p",{className:"text-gray-500",children:"No exercises found. Add some in the Exercise Manager below!"}),c.map(M=>J.jsxs("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-full text-sm",onClick:()=>d(M),type:"button",children:["Add ",M.name," (",M.category,")"]},M.id))]})]}),J.jsx("div",{className:"mb-4",children:J.jsx("button",{className:"btn btn-info w-full sm:w-auto",onClick:w,children:"Manage Exercises"})}),J.jsxs("div",{children:[J.jsxs("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:["Exercises in this workout (",n.length,")"]}),n.length===0&&J.jsx("p",{className:"text-gray-500",children:"No exercises added to the workout yet."}),J.jsx("ul",{className:"space-y-4",children:n.map(M=>J.jsxs("li",{className:"flex flex-col sm:flex-row items-start sm:items-center bg-white p-3 rounded-lg shadow-sm gap-3",children:[J.jsx("span",{className:"font-medium text-lg text-gray-900 flex-grow",children:M.name}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("label",{className:"text-gray-600 text-sm",htmlFor:`sets-${M.exerciseId}`,children:"Planned Sets:"}),J.jsx("input",{id:`sets-${M.exerciseId}`,className:"border p-1 rounded w-16 text-center",type:"number",min:"1",value:M.plannedSets,onChange:k=>g(M.exerciseId,k.target.value)}),J.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",onClick:()=>_(M.exerciseId),type:"button",children:"Remove"})]})]},M.exerciseId))})]}),a&&J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:J.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl border border-gray-700/50",children:[J.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-200 text-2xl transition-colors",onClick:S,children:"×"}),J.jsx(_C,{user:r})]})})]})}const FS=r=>{const e=Math.floor(r/3600),t=Math.floor(r%3600/60),n=r%60,i=a=>String(a).padStart(2,"0");return e>0?`${i(e)}:${i(t)}:${i(n)}`:`${i(t)}:${i(n)}`};function z4({exerciseId:r}){const e=Pt(l=>l.exercises),t=Pt(l=>l.workoutHistory),n=String(r),i=e.find(l=>String(l.id)===n);if(!i)return J.jsxs("div",{className:"text-center text-gray-400",children:[J.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Exercise History"}),J.jsx("p",{children:"Exercise not found."})]});const a=t.filter(l=>l.exercises.some(c=>String(c.exerciseId)===n)).sort((l,c)=>{const h=new Date(c.date)-new Date(l.date);return h!==0?h:c.id-l.id});return J.jsxs("div",{className:"text-white",children:[J.jsxs("h2",{className:"text-2xl font-bold mb-4 text-indigo-400",children:["Exercise History: ",i.name]}),J.jsx("div",{className:"mb-4 text-gray-300",children:J.jsxs("p",{children:[J.jsx("strong",{children:"Category:"})," ",i.category]})}),J.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[J.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-200",children:"Historical Performance"}),a.length===0?J.jsxs("div",{className:"text-gray-400 text-center py-8",children:[J.jsx("p",{className:"text-lg mb-2",children:"📊 No workout history found for this exercise"}),J.jsx("p",{className:"text-sm",children:"Complete some workouts with this exercise to see your progress!"})]}):J.jsxs("div",{className:"space-y-4",children:[J.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:["Found ",a.length," workout session(s) with this exercise"]}),a.map((l,c)=>{const h=l.exercises.find(d=>String(d.exerciseId)===n);return!h||h.loggedSets.length===0?null:J.jsxs("div",{className:"bg-gray-800 p-3 rounded border border-gray-600",children:[J.jsxs("h4",{className:"font-semibold text-gray-200 mb-2",children:["Session ",c+1," - ",new Date(l.date).toLocaleDateString()]}),J.jsx("div",{className:"space-y-1",children:h.loggedSets.filter(d=>!d.parentSetId).map((d,g)=>J.jsxs("div",{className:"text-sm text-gray-400",children:["Set ",g+1,": ",d.reps," reps @ ",d.weight," kg",d.notes&&` (${d.notes})`]},d.id))})]},l.id)})]})]}),J.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Exercise ID: ",r]})]})}function H4({templateId:r,onClose:e,user:t}){const n=Pt(Ee=>Ee.currentWorkoutSession),i=Pt(Ee=>Ee.workoutTemplates),a=Pt(Ee=>Ee.exercises),l=Pt(Ee=>Ee.startWorkoutSession),c=Pt(Ee=>Ee.logSet),h=Pt(Ee=>Ee.endWorkoutSession),d=Pt(Ee=>Ee.restTimerSecondsLeft),g=Pt(Ee=>Ee.isRestTimerActive),_=Pt(Ee=>Ee.sessionTimerStartTime),[w,S]=K.useState(0),[T,M]=K.useState({}),[k,L]=K.useState(null),[q,H]=K.useState(""),[se,X]=K.useState(""),[de,V]=K.useState(""),[I,N]=K.useState(!1),[U,z]=K.useState(null),[Y,j]=K.useState(null),Xe=K.useCallback(Ee=>{z(Ee),N(!0)},[]),He=K.useCallback(()=>{N(!1),z(null)},[]),ie=K.useCallback(Ee=>{if(!Ee||!Ee.exercises)return;const rt={};Ee.exercises.forEach(ft=>{const st=(Array.isArray(ft.loggedSets)?ft.loggedSets:[]).filter(At=>!At.parentSetId).sort((At,et)=>At.timestamp-et.timestamp);st.length>0&&(rt[ft.exerciseId]={},st.forEach((At,et)=>{rt[ft.exerciseId][et]={reps:At.reps.toString(),weight:At.weight.toString(),notes:At.notes||""}}))}),M(rt)},[]);K.useEffect(()=>{(!n||n.templateId!==r)&&(async()=>{const rt=await l(r,t);rt&&ie(rt)})()},[r,n,l,ie,t]),K.useEffect(()=>{let Ee;return _?Ee=setInterval(()=>{S(Math.floor((Date.now()-_)/1e3))},1e3):S(0),()=>clearInterval(Ee)},[_]),K.useEffect(()=>{d===0&&!g&&n&&console.log("Rest timer ended! (from UI effect)")},[d,g,n]),K.useEffect(()=>{(async()=>{const rt=await Pt.getState().getMostRecentWorkoutSession(r);j(rt)})()},[r]);const we=K.useCallback((Ee,rt,ft,Pe)=>{if(!Y||!Y.exercises)return!1;const st=Y.exercises.find(jt=>String(jt.exerciseId)===String(Ee));if(!st||!Array.isArray(st.loggedSets))return!1;const et=st.loggedSets.filter(jt=>!jt.parentSetId).sort((jt,vr)=>jt.timestamp-vr.timestamp)[rt];return et?Number(ft)>Number(et.reps)||Number(Pe)>Number(et.weight):!0},[Y]),Ce=K.useCallback((Ee,rt,ft,Pe)=>{M(st=>{var At;return{...st,[Ee]:{...st[Ee]||{},[rt]:{...((At=st[Ee])==null?void 0:At[rt])||{reps:"",weight:"",notes:""},[ft]:Pe}}}})},[]),Qe=K.useCallback(async(Ee,rt)=>{var jt;const ft=((jt=T[Ee])==null?void 0:jt[rt])||{reps:"",weight:"",notes:""},Pe=ft.reps,st=ft.weight,At=ft.notes;if(!Pe||!st){alert("Please enter reps and weight before completing a set.");return}const et=we(Ee,rt,Pe,st);await c(Ee,Pe,st,At,null,t,et),M(vr=>{const Lt={...vr[Ee]||{}};return delete Lt[rt],{...vr,[Ee]:Lt}})},[T,c,t,we]),G=K.useCallback((Ee,rt)=>{L({exerciseId:Ee,parentSetId:rt}),H(""),X(""),V("")},[]),xe=K.useCallback(Ee=>{Xe(Ee)},[Xe]),Ue=K.useCallback(async()=>{if(!k)return;const{exerciseId:Ee,parentSetId:rt}=k,ft=q,Pe=se,st=de;if(!ft||!Pe){alert("Reps and Weight are required for sub-set!");return}await c(Ee,ft,Pe,st,rt,t),L(null),H(""),X(""),V("")},[k,q,se,de,c,t]),Ie=K.useCallback(Ee=>Ee.loggedSets.filter(Pe=>!Pe.parentSetId).sort((Pe,st)=>Pe.timestamp-st.timestamp).map((Pe,st)=>{const At=Ee.loggedSets.filter(et=>et.parentSetId===Pe.id).sort((et,jt)=>et.timestamp-jt.timestamp).map((et,jt)=>({...et,label:`${st+1}.${String.fromCharCode(97+jt)}`}));return{...Pe,label:`Set ${st+1}`,subSets:At}}),[]),Ge=i.find(Ee=>Ee.id===r);if(!Ge)return J.jsx("div",{className:"p-4 text-red-500",children:"Error: Workout template not found."});if(!n||n.templateId!==r)return J.jsx("div",{className:"p-4 text-gray-400",children:"Starting workout session..."});const ot=n.exercises.map(Ee=>{const rt=a.find(ft=>ft.id===Ee.exerciseId);return{...Ee,name:rt?rt.name:"Unknown Exercise",category:rt?rt.category:""}});return J.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl max-w-4xl mx-auto my-8 border border-gray-700",children:[J.jsxs("div",{className:"flex justify-between items-center mb-6",children:[J.jsx("h2",{className:"text-3xl font-bold text-white",children:Ge.name}),J.jsx("button",{className:"btn btn-secondary bg-red-600 hover:bg-red-700 shadow-red-500/20 border-red-500/20",onClick:()=>{h(t),e()},children:"End Workout"})]}),J.jsxs("div",{className:"mb-6 bg-gray-700 p-3 rounded-lg text-center text-lg font-semibold text-gray-100 border border-gray-600",children:["Workout Time: ",FS(w)]}),J.jsx("div",{className:"space-y-8",children:ot.map(Ee=>{const rt=Ie(Ee);return J.jsxs("div",{className:"bg-gray-700 rounded-lg p-5 border border-gray-600 shadow-md",children:[J.jsxs("div",{className:"flex justify-between items-start mb-3",children:[J.jsxs("div",{className:"mb-1",children:[J.jsxs("h3",{className:"text-2xl font-semibold text-indigo-400",children:[Ee.name," ",J.jsxs("span",{className:"text-base text-gray-400",children:["(",Ee.category,")"]})]}),g&&J.jsxs("div",{className:"mt-1 inline-block bg-yellow-600 text-white text-sm px-3 py-1 rounded-full whitespace-nowrap",children:["Rest: ",FS(d)]})]}),J.jsx("button",{className:"flex-shrink-0 p-2 hover:bg-gray-600 rounded transition-colors duration-200",onClick:()=>xe(Ee.exerciseId),title:"View exercise history",children:J.jsx("svg",{className:"w-5 h-5 opacity-70 hover:opacity-100 transition-opacity duration-200 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),J.jsxs("h4",{className:"text-lg font-medium text-gray-100 mb-3",children:["Planned Sets: ",Ee.plannedSets]}),J.jsx("ul",{className:"space-y-3 mb-6",children:Array.from({length:Ee.plannedSets}).map((ft,Pe)=>{var vr;const st=rt[Pe],At=!!st,et=Pe===rt.length,jt=((vr=T[Ee.exerciseId])==null?void 0:vr[Pe])||{reps:"",weight:"",notes:""};return J.jsx(Se.Fragment,{children:J.jsxs("li",{className:"bg-gray-800 p-4 rounded-md shadow-sm border border-gray-700",children:[J.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[At?st!=null&&st.isPersonalBest?J.jsx("span",{className:"text-yellow-400 font-bold text-lg flex-shrink-0 w-5",title:"Personal Best!",children:"⭐"}):J.jsx("span",{className:"text-green-500 font-bold text-lg flex-shrink-0 w-5",children:"✓"}):J.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-indigo-500 flex-shrink-0 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500",checked:!1,onChange:()=>Qe(Ee.exerciseId,Pe),disabled:!et}),J.jsxs("span",{className:"font-semibold text-white text-sm min-w-0 flex-shrink-0",children:["Set ",Pe+1]}),J.jsx("input",{type:"number",placeholder:"Reps",className:`input w-16 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2 ${jt.reps?"border-blue-400 bg-blue-600/20":""}`,value:jt.reps,onChange:Lt=>Ce(Ee.exerciseId,Pe,"reps",Lt.target.value),disabled:At||!et}),J.jsx("input",{type:"number",placeholder:"Weight",className:`input w-20 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2 ${jt.weight?"border-blue-400 bg-blue-600/20":""}`,value:jt.weight,onChange:Lt=>Ce(Ee.exerciseId,Pe,"weight",Lt.target.value),disabled:At||!et}),J.jsx("input",{type:"text",placeholder:"Notes",className:`input w-20 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2 ${jt.notes?"border-blue-400 bg-blue-600/20":""}`,value:jt.notes,onChange:Lt=>Ce(Ee.exerciseId,Pe,"notes",Lt.target.value),disabled:At||!et})]}),At&&J.jsxs("div",{className:"text-gray-400 text-sm italic mt-2 pl-6",children:["Logged: ",st.reps," reps @ ",st.weight," kg",st.notes&&` (${st.notes})`]}),st&&st.subSets&&st.subSets.length>0&&J.jsxs("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-700",children:[J.jsx("p",{className:"font-semibold text-gray-300 mb-2",children:"Sub-Sets:"}),J.jsx("ul",{className:"space-y-2",children:st.subSets.map(Lt=>J.jsxs("li",{className:"text-sm text-gray-400",children:[J.jsxs("span",{className:"font-medium text-gray-300",children:[Lt.label,":"]})," ",Lt.reps," reps @ ",Lt.weight," kg",Lt.notes&&` (${Lt.notes})`]},Lt.id))})]}),At&&Pe===rt.length-1&&(!k||k.parentSetId!==st.id)&&J.jsx("button",{className:"btn btn-secondary mt-3 px-3 py-1.5 text-xs",onClick:()=>G(Ee.exerciseId,st.id),children:"+ Add Sub-Set"}),k&&k.parentSetId===(st==null?void 0:st.id)&&J.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-md border border-gray-600",children:[J.jsxs("h5",{className:"font-semibold text-white mb-2",children:["Add Sub-Set to ",st.label]}),J.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[J.jsx("input",{type:"number",placeholder:"Reps",className:"input w-16 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2",value:q,onChange:Lt=>H(Lt.target.value)}),J.jsx("input",{type:"number",placeholder:"Weight",className:"input w-20 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2",value:se,onChange:Lt=>X(Lt.target.value)}),J.jsx("input",{type:"text",placeholder:"Notes",className:"input w-20 h-8 text-sm bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400 focus:ring-blue-500/50 px-2",value:de,onChange:Lt=>V(Lt.target.value)})]}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("button",{className:"btn btn-primary px-4 py-2 text-sm",onClick:Ue,children:"Log Sub-Set"}),J.jsx("button",{className:"btn btn-secondary px-4 py-2 text-sm",onClick:()=>L(null),children:"Cancel"})]})]})]})},Pe)})})]},Ee.exerciseId)})}),I&&J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:J.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl border border-gray-700/50",children:[J.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-200 text-2xl transition-colors",onClick:He,children:"×"}),J.jsx(z4,{exerciseId:U})]})})]})}function bC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=bC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Rr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=bC(r))&&(n&&(n+=" "),n+=e);return n}const wC=6048e5,Y4=864e5,hg=6e4,fg=36e5,q4=1e3,jS=Symbol.for("constructDateFrom");function an(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&jS in r?r[jS](e):r instanceof Date?new r.constructor(e):new Date(e)}function Je(r,e){return an(e||r,r)}function Vs(r,e,t){const n=Je(r,t==null?void 0:t.in);return isNaN(e)?an((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Us(r,e,t){const n=Je(r,t==null?void 0:t.in);if(isNaN(e))return an(r,NaN);if(!e)return n;const i=n.getDate(),a=an(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function EC(r,e,t){return an(r,+Je(r)+e)}function W4(r,e,t){return EC(r,e*fg)}let K4={};function Nu(){return K4}function fo(r,e){var c,h,d,g;const t=Nu(),n=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((g=(d=t.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??0,i=Je(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Vc(r,e){return fo(r,{...e,weekStartsOn:1})}function xC(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=an(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Vc(i),l=an(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Vc(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function vm(r){const e=Je(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function yo(r,...e){const t=an.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Tu(r,e){const t=Je(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Bc(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e),a=Tu(n),l=Tu(i),c=+a-vm(a),h=+l-vm(l);return Math.round((c-h)/Y4)}function G4(r,e){const t=xC(r,e),n=an(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vc(n)}function g_(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*hg),n}function S0(r,e,t){return Us(r,e*3,t)}function Q4(r,e,t){return EC(r,e*1e3)}function _m(r,e,t){return Vs(r,e*7,t)}function ro(r,e,t){return Us(r,e*12,t)}function zS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=an.bind(null,i));const a=Je(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),an(n,t||NaN)}function HS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=an.bind(null,i));const a=Je(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),an(n,t||NaN)}function $4(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e);return+Tu(n)==+Tu(i)}function io(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function bm(r){return!(!io(r)&&typeof r!="number"||isNaN(+Je(r)))}function wm(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return a*12+l}function gu(r,e){const t=Je(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Em(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e),a=n.getFullYear()-i.getFullYear(),l=gu(n)-gu(i);return a*4+l}function xm(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function X4(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e),a=YS(n,i),l=Math.abs(Bc(n,i));n.setDate(n.getDate()-a*l);const c=+(YS(n,i)===-a),h=a*(l-c);return h===0?0:h}function YS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function SC(r,e){const t=Je(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function TC(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function y_(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function DC(r,e){const t=Je(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function AC(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function dg(r,e){const t=Je(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Z4(r,e){var c,h;const t=Nu(),n=t.weekStartsOn??((h=(c=t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=Je(r,e==null?void 0:e.in),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const J4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eV=(r,e,t)=>{let n;const i=J4[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Tv(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const tV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iV={date:Tv({formats:tV,defaultWidth:"full"}),time:Tv({formats:nV,defaultWidth:"full"}),dateTime:Tv({formats:rV,defaultWidth:"full"})},sV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aV=(r,e,t,n)=>sV[r];function Kh(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const oV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dV=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},pV={ordinalNumber:dV,era:Kh({values:oV,defaultWidth:"wide"}),quarter:Kh({values:lV,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kh({values:uV,defaultWidth:"wide"}),day:Kh({values:cV,defaultWidth:"wide"}),dayPeriod:Kh({values:hV,defaultWidth:"wide",formattingValues:fV,defaultFormattingWidth:"wide"})};function Gh(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(c)?gV(c,_=>_.test(l)):mV(c,_=>_.test(l));let d;d=r.valueCallback?r.valueCallback(h):h,d=t.valueCallback?t.valueCallback(d):d;const g=e.slice(l.length);return{value:d,rest:g}}}function mV(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function gV(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function yV(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const vV=/^(\d+)(th|st|nd|rd)?/i,_V=/\d+/i,bV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wV={any:[/^b/i,/^(a|c)/i]},EV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xV={any:[/1/i,/2/i,/3/i,/4/i]},SV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RV={ordinalNumber:yV({matchPattern:vV,parsePattern:_V,valueCallback:r=>parseInt(r,10)}),era:Gh({matchPatterns:bV,defaultMatchWidth:"wide",parsePatterns:wV,defaultParseWidth:"any"}),quarter:Gh({matchPatterns:EV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Gh({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:TV,defaultParseWidth:"any"}),day:Gh({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:AV,defaultParseWidth:"any"}),dayPeriod:Gh({matchPatterns:CV,defaultMatchWidth:"any",parsePatterns:kV,defaultParseWidth:"any"})},CC={code:"en-US",formatDistance:eV,formatLong:iV,formatRelative:aV,localize:pV,match:RV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MV(r,e){const t=Je(r,e==null?void 0:e.in);return Bc(t,dg(t))+1}function T0(r,e){const t=Je(r,e==null?void 0:e.in),n=+Vc(t)-+G4(t);return Math.round(n/wC)+1}function D0(r,e){var g,_,w,S;const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=Nu(),a=(e==null?void 0:e.firstWeekContainsDate)??((_=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(w=i.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=an((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=fo(l,e),h=an((e==null?void 0:e.in)||r,0);h.setFullYear(n,0,a),h.setHours(0,0,0,0);const d=fo(h,e);return+t>=+c?n+1:+t>=+d?n:n-1}function IV(r,e){var c,h,d,g;const t=Nu(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(d=t.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??1,i=D0(r,e),a=an((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),fo(a,e)}function kC(r,e){const t=Je(r,e==null?void 0:e.in),n=+fo(t,e)-+IV(t,e);return Math.round(n/wC)+1}function rn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const rl={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return rn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):rn(t+1,2)},d(r,e){return rn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return rn(r.getHours()%12||12,e.length)},H(r,e){return rn(r.getHours(),e.length)},m(r,e){return rn(r.getMinutes(),e.length)},s(r,e){return rn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return rn(i,e.length)}},pc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return rl.y(r,e)},Y:function(r,e,t,n){const i=D0(r,n),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return rn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):rn(a,e.length)},R:function(r,e){const t=xC(r);return rn(t,e.length)},u:function(r,e){const t=r.getFullYear();return rn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return rn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return rn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return rl.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return rn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=kC(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):rn(i,e.length)},I:function(r,e,t){const n=T0(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):rn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):rl.d(r,e)},D:function(r,e,t){const n=MV(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):rn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return rn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return rn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return rn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=pc.noon:n===0?i=pc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=pc.evening:n>=12?i=pc.afternoon:n>=4?i=pc.morning:i=pc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return rl.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):rl.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):rn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):rn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):rl.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):rl.s(r,e)},S:function(r,e){return rl.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return KS(n);case"XXXX":case"XX":return ou(n);case"XXXXX":case"XXX":default:return ou(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return KS(n);case"xxxx":case"xx":return ou(n);case"xxxxx":case"xxx":default:return ou(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WS(n,":");case"OOOO":default:return"GMT"+ou(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WS(n,":");case"zzzz":default:return"GMT"+ou(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return rn(n,e.length)},T:function(r,e,t){return rn(+r,e.length)}};function WS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+rn(a,2)}function KS(r,e){return r%60===0?(r>0?"-":"+")+rn(Math.abs(r)/60,2):ou(r,e)}function ou(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=rn(Math.trunc(n/60),2),a=rn(n%60,2);return t+i+e+a}const GS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RC=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},OV=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return GS(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",GS(n,e)).replace("{{time}}",RC(i,e))},v_={p:RC,P:OV},PV=/^D+$/,NV=/^Y+$/,LV=["D","DD","YY","YYYY"];function VV(r){return PV.test(r)}function BV(r){return NV.test(r)}function UV(r,e,t){const n=FV(r,e,t);if(console.warn(n),LV.includes(r))throw new RangeError(n)}function FV(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HV=/^'([^]*?)'?$/,YV=/''/g,qV=/[a-zA-Z]/;function QS(r,e,t){var g,_,w,S,T,M,k,L;const n=Nu(),i=(t==null?void 0:t.locale)??n.locale??CC,a=(t==null?void 0:t.firstWeekContainsDate)??((_=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(w=n.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((M=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:M.weekStartsOn)??n.weekStartsOn??((L=(k=n.locale)==null?void 0:k.options)==null?void 0:L.weekStartsOn)??0,c=Je(r,t==null?void 0:t.in);if(!bm(c))throw new RangeError("Invalid time value");let h=e.match(zV).map(q=>{const H=q[0];if(H==="p"||H==="P"){const se=v_[H];return se(q,i.formatLong)}return q}).join("").match(jV).map(q=>{if(q==="''")return{isToken:!1,value:"'"};const H=q[0];if(H==="'")return{isToken:!1,value:WV(q)};if(qS[H])return{isToken:!0,value:q};if(H.match(qV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:q}});i.localize.preprocessor&&(h=i.localize.preprocessor(c,h));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return h.map(q=>{if(!q.isToken)return q.value;const H=q.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&BV(H)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&VV(H))&&UV(H,e,String(r));const se=qS[H[0]];return se(c,H,i.localize,d)}).join("")}function WV(r){const e=r.match(HV);return e?e[1].replace(YV,"'"):r}function $S(r,e){return Je(r,e==null?void 0:e.in).getDate()}function KV(r,e){return Je(r,e==null?void 0:e.in).getDay()}function GV(r,e){const t=Je(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),a=an(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function QV(){return Object.assign({},Nu())}function so(r,e){return Je(r,e==null?void 0:e.in).getHours()}function $V(r,e){const t=Je(r,e==null?void 0:e.in).getDay();return t===0?7:t}function ao(r,e){return Je(r,e==null?void 0:e.in).getMinutes()}function Hr(r,e){return Je(r,e==null?void 0:e.in).getMonth()}function _l(r){return Je(r).getSeconds()}function __(r){return+Je(r)}function Tt(r,e){return Je(r,e==null?void 0:e.in).getFullYear()}function Cl(r,e){return+Je(r)>+Je(e)}function Du(r,e){return+Je(r)<+Je(e)}function XV(r,e){return+Je(r)==+Je(e)}function ZV(r,e){const t=JV(e)?new e(0):an(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function JV(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const e3=10;class MC{constructor(){Me(this,"subPriority",0)}validate(e,t){return!0}}class t3 extends MC{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class n3 extends MC{constructor(t,n){super();Me(this,"priority",e3);Me(this,"subPriority",-1);this.context=t||(i=>an(n,i))}set(t,n){return n.timestampIsSet?t:an(t,ZV(t,this.context))}}class Qt{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new t3(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class r3 extends Qt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ua={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zn(r,e){return r&&{value:e(r.value),rest:r.rest}}function An(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ca(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*fg+a*hg+l*q4),rest:e.slice(t[0].length)}}function IC(r){return An(jn.anyDigitsSigned,r)}function On(r,e){switch(r){case 1:return An(jn.singleDigit,e);case 2:return An(jn.twoDigits,e);case 3:return An(jn.threeDigits,e);case 4:return An(jn.fourDigits,e);default:return An(new RegExp("^\\d{1,"+r+"}"),e)}}function Sm(r,e){switch(r){case 1:return An(jn.singleDigitSigned,e);case 2:return An(jn.twoDigitsSigned,e);case 3:return An(jn.threeDigitsSigned,e);case 4:return An(jn.fourDigitsSigned,e);default:return An(new RegExp("^-?\\d{1,"+r+"}"),e)}}function A0(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OC(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,l=Math.trunc(a/100)*100,c=r>=a%100;i=r+l-(c?100:0)}return t?i:1-i}function PC(r){return r%400===0||r%4===0&&r%100!==0}class i3 extends Qt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return zn(On(4,t),a);case"yo":return zn(i.ordinalNumber(t,{unit:"year"}),a);default:return zn(On(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const a=t.getFullYear();if(i.isTwoDigitYear){const c=OC(i.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class s3 extends Qt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const a=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return zn(On(4,t),a);case"Yo":return zn(i.ordinalNumber(t,{unit:"year"}),a);default:return zn(On(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,a){const l=D0(t,a);if(i.isTwoDigitYear){const h=OC(i.year,l);return t.setFullYear(h,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),fo(t,a)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),fo(t,a)}}class a3 extends Qt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Sm(n==="R"?4:n.length,t)}set(t,n,i){const a=an(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Vc(a)}}class o3 extends Qt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Sm(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class l3 extends Qt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return On(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class u3 extends Qt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return On(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class c3 extends Qt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(t,n,i){const a=l=>l-1;switch(n){case"M":return zn(An(jn.month,t),a);case"MM":return zn(On(2,t),a);case"Mo":return zn(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class h3 extends Qt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const a=l=>l-1;switch(n){case"L":return zn(An(jn.month,t),a);case"LL":return zn(On(2,t),a);case"Lo":return zn(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function f3(r,e,t){const n=Je(r,t==null?void 0:t.in),i=kC(n,t)-e;return n.setDate(n.getDate()-i*7),Je(n,t==null?void 0:t.in)}class d3 extends Qt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return An(jn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return On(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,a){return fo(f3(t,i,a),a)}}function p3(r,e,t){const n=Je(r,t==null?void 0:t.in),i=T0(n,t)-e;return n.setDate(n.getDate()-i*7),n}class m3 extends Qt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return An(jn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return On(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Vc(p3(t,i))}}const g3=[31,28,31,30,31,30,31,31,30,31,30,31],y3=[31,29,31,30,31,30,31,31,30,31,30,31];class v3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return An(jn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return On(n.length,t)}}validate(t,n){const i=t.getFullYear(),a=PC(i),l=t.getMonth();return a?n>=1&&n<=y3[l]:n>=1&&n<=g3[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class _3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return An(jn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return On(n.length,t)}}validate(t,n){const i=t.getFullYear();return PC(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function C0(r,e,t){var _,w,S,T;const n=Nu(),i=(t==null?void 0:t.weekStartsOn)??((w=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((T=(S=n.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,a=Je(r,t==null?void 0:t.in),l=a.getDay(),h=(e%7+7)%7,d=7-i,g=e<0||e>6?e-(l+d)%7:(h+d)%7-(l+d)%7;return Vs(a,g,t)}class b3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=C0(t,i,a),t.setHours(0,0,0,0),t}}class w3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,a){const l=c=>{const h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return zn(On(n.length,t),l);case"eo":return zn(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=C0(t,i,a),t.setHours(0,0,0,0),t}}class E3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,a){const l=c=>{const h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return zn(On(n.length,t),l);case"co":return zn(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,a){return t=C0(t,i,a),t.setHours(0,0,0,0),t}}function x3(r,e,t){const n=Je(r,t==null?void 0:t.in),i=$V(n,t),a=e-i;return Vs(n,a,t)}class S3 extends Qt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const a=l=>l===0?7:l;switch(n){case"i":case"ii":return On(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return zn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return zn(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return zn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return zn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=x3(t,i),t.setHours(0,0,0,0),t}}class T3 extends Qt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(A0(i),0,0,0),t}}class D3 extends Qt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(A0(i),0,0,0),t}}class A3 extends Qt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(A0(i),0,0,0),t}}class C3 extends Qt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return An(jn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return On(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class k3 extends Qt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return An(jn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return On(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class R3 extends Qt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return An(jn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return On(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class M3 extends Qt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return An(jn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return On(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class I3 extends Qt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return An(jn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return On(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class O3 extends Qt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return An(jn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return On(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class P3 extends Qt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=a=>Math.trunc(a*Math.pow(10,-n.length+3));return zn(On(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class N3 extends Qt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return ca(ua.basicOptionalMinutes,t);case"XX":return ca(ua.basic,t);case"XXXX":return ca(ua.basicOptionalSeconds,t);case"XXXXX":return ca(ua.extendedOptionalSeconds,t);case"XXX":default:return ca(ua.extended,t)}}set(t,n,i){return n.timestampIsSet?t:an(t,t.getTime()-vm(t)-i)}}class L3 extends Qt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return ca(ua.basicOptionalMinutes,t);case"xx":return ca(ua.basic,t);case"xxxx":return ca(ua.basicOptionalSeconds,t);case"xxxxx":return ca(ua.extendedOptionalSeconds,t);case"xxx":default:return ca(ua.extended,t)}}set(t,n,i){return n.timestampIsSet?t:an(t,t.getTime()-vm(t)-i)}}class V3 extends Qt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(t){return IC(t)}set(t,n,i){return[an(t,i*1e3),{timestampIsSet:!0}]}}class B3 extends Qt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(t){return IC(t)}set(t,n,i){return[an(t,i),{timestampIsSet:!0}]}}const U3={G:new r3,y:new i3,Y:new s3,R:new a3,u:new o3,Q:new l3,q:new u3,M:new c3,L:new h3,w:new d3,I:new m3,d:new v3,D:new _3,E:new b3,e:new w3,c:new E3,i:new S3,a:new T3,b:new D3,B:new A3,h:new C3,H:new k3,K:new R3,k:new M3,m:new I3,s:new O3,S:new P3,X:new N3,x:new L3,t:new V3,T:new B3},F3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z3=/^'([^]*?)'?$/,H3=/''/g,Y3=/\S/,q3=/[a-zA-Z]/;function W3(r,e,t,n){var k,L,q,H,se,X,de,V;const i=()=>an((n==null?void 0:n.in)||t,NaN),a=QV(),l=(n==null?void 0:n.locale)??a.locale??CC,c=(n==null?void 0:n.firstWeekContainsDate)??((L=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:L.firstWeekContainsDate)??a.firstWeekContainsDate??((H=(q=a.locale)==null?void 0:q.options)==null?void 0:H.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((X=(se=n==null?void 0:n.locale)==null?void 0:se.options)==null?void 0:X.weekStartsOn)??a.weekStartsOn??((V=(de=a.locale)==null?void 0:de.options)==null?void 0:V.weekStartsOn)??0;if(!e)return r?i():Je(t,n==null?void 0:n.in);const d={firstWeekContainsDate:c,weekStartsOn:h,locale:l},g=[new n3(n==null?void 0:n.in,t)],_=e.match(j3).map(I=>{const N=I[0];if(N in v_){const U=v_[N];return U(I,l.formatLong)}return I}).join("").match(F3),w=[];for(let I of _){const N=I[0],U=U3[N];if(U){const{incompatibleTokens:z}=U;if(Array.isArray(z)){const j=w.find(Xe=>z.includes(Xe.token)||Xe.token===N);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${I}\` at the same time`)}else if(U.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);w.push({token:N,fullToken:I});const Y=U.run(r,I,l.match,d);if(!Y)return i();g.push(Y.setter),r=Y.rest}else{if(N.match(q3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(I==="''"?I="'":N==="'"&&(I=K3(I)),r.indexOf(I)===0)r=r.slice(I.length);else return i()}}if(r.length>0&&Y3.test(r))return i();const S=g.map(I=>I.priority).sort((I,N)=>N-I).filter((I,N,U)=>U.indexOf(I)===N).map(I=>g.filter(N=>N.priority===I).sort((N,U)=>U.subPriority-N.subPriority)).map(I=>I[0]);let T=Je(t,n==null?void 0:n.in);if(isNaN(+T))return i();const M={};for(const I of S){if(!I.validate(T,d))return i();const N=I.set(T,M,d);Array.isArray(N)?(T=N[0],Object.assign(M,N[1])):T=N}return T}function K3(r){return r.match(z3)[1].replace(H3,"'")}function G3(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Q3(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e);return+y_(n)==+y_(i)}function $3(r,e,t){const[n,i]=yo(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function Of(r,e,t){const n=+Je(r,t==null?void 0:t.in),[i,a]=[+Je(e.start,t==null?void 0:t.in),+Je(e.end,t==null?void 0:t.in)].sort((l,c)=>l-c);return n>=i&&n<=a}function X3(r,e,t){return Vs(r,-1,t)}function Z3(r,e){const t=()=>an(e==null?void 0:e.in,NaN),i=n6(r);let a;if(i.date){const d=r6(i.date,2);a=i6(d.restDateString,d.year)}if(!a||isNaN(+a))return t();const l=+a;let c=0,h;if(i.time&&(c=s6(i.time),isNaN(c)))return t();if(i.timezone){if(h=a6(i.timezone),isNaN(h))return t()}else{const d=new Date(l+c),g=Je(0,e==null?void 0:e.in);return g.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),g.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),g}return Je(l+c+h,e==null?void 0:e.in)}const cp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},J3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,t6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function n6(r){const e={},t=r.split(cp.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],cp.timeZoneDelimiter.test(e.date)&&(e.date=r.split(cp.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=cp.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function r6(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function i6(r,e){if(e===null)return new Date(NaN);const t=r.match(J3);if(!t)return new Date(NaN);const n=!!t[4],i=Qh(t[1]),a=Qh(t[2])-1,l=Qh(t[3]),c=Qh(t[4]),h=Qh(t[5])-1;if(n)return h6(e,c,h)?o6(e,c,h):new Date(NaN);{const d=new Date(0);return!u6(e,a,l)||!c6(e,i)?new Date(NaN):(d.setUTCFullYear(e,a,Math.max(i,l)),d)}}function Qh(r){return r?parseInt(r):1}function s6(r){const e=r.match(e6);if(!e)return NaN;const t=Dv(e[1]),n=Dv(e[2]),i=Dv(e[3]);return f6(t,n,i)?t*fg+n*hg+i*1e3:NaN}function Dv(r){return r&&parseFloat(r.replace(",","."))||0}function a6(r){if(r==="Z")return 0;const e=r.match(t6);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return d6(n,i)?t*(n*fg+i*hg):NaN}function o6(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const l6=[31,null,31,30,31,30,31,31,30,31,30,31];function NC(r){return r%400===0||r%4===0&&r%100!==0}function u6(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(l6[e]||(NC(r)?29:28))}function c6(r,e){return e>=1&&e<=(NC(r)?366:365)}function h6(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function f6(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function d6(r,e){return e>=0&&e<=59}function as(r,e,t){const n=Je(r,t==null?void 0:t.in),i=n.getFullYear(),a=n.getDate(),l=an(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const c=GV(l);return n.setMonth(e,Math.min(a,c)),n}function zp(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setHours(e),n}function Hp(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setMinutes(e),n}function bc(r,e,t){const n=Je(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return as(n,n.getMonth()+a*3)}function Yp(r,e,t){const n=Je(r,t==null?void 0:t.in);return n.setSeconds(e),n}function oa(r,e,t){const n=Je(r,t==null?void 0:t.in);return isNaN(+n)?an(r,NaN):(n.setFullYear(e),n)}function yu(r,e,t){return Us(r,-e,t)}function LC(r,e,t){return S0(r,-1,t)}function XS(r,e,t){return _m(r,-1,t)}function Uc(r,e,t){return ro(r,-e,t)}function pg(){return typeof window<"u"}function th(r){return VC(r)?(r.nodeName||"").toLowerCase():"#document"}function Pi(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Sa(r){var e;return(e=(VC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function VC(r){return pg()?r instanceof Node||r instanceof Pi(r).Node:!1}function ti(r){return pg()?r instanceof Element||r instanceof Pi(r).Element:!1}function wa(r){return pg()?r instanceof HTMLElement||r instanceof Pi(r).HTMLElement:!1}function ZS(r){return!pg()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Pi(r).ShadowRoot}function Xf(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=fs(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function p6(r){return["table","td","th"].includes(th(r))}function mg(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function k0(r){const e=R0(),t=ti(r)?fs(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function m6(r){let e=kl(r);for(;wa(e)&&!Fc(e);){if(k0(e))return e;if(mg(e))return null;e=kl(e)}return null}function R0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fc(r){return["html","body","#document"].includes(th(r))}function fs(r){return Pi(r).getComputedStyle(r)}function gg(r){return ti(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function kl(r){if(th(r)==="html")return r;const e=r.assignedSlot||r.parentNode||ZS(r)&&r.host||Sa(r);return ZS(e)?e.host:e}function BC(r){const e=kl(r);return Fc(e)?r.ownerDocument?r.ownerDocument.body:r.body:wa(e)&&Xf(e)?e:BC(e)}function Pf(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=BC(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),l=Pi(i);if(a){const c=b_(l);return e.concat(l,l.visualViewport||[],Xf(i)?i:[],c&&t?Pf(c):[])}return e.concat(i,Pf(i,[],t))}function b_(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const jc=Math.min,vu=Math.max,Tm=Math.round,hp=Math.floor,ma=r=>({x:r,y:r}),g6={left:"right",right:"left",bottom:"top",top:"bottom"},y6={start:"end",end:"start"};function v6(r,e,t){return vu(r,jc(e,t))}function yg(r,e){return typeof r=="function"?r(e):r}function zc(r){return r.split("-")[0]}function Zf(r){return r.split("-")[1]}function _6(r){return r==="x"?"y":"x"}function M0(r){return r==="y"?"height":"width"}function hu(r){return["top","bottom"].includes(zc(r))?"y":"x"}function I0(r){return _6(hu(r))}function b6(r,e,t){t===void 0&&(t=!1);const n=Zf(r),i=I0(r),a=M0(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Dm(l)),[l,Dm(l)]}function w6(r){const e=Dm(r);return[w_(r),e,w_(e)]}function w_(r){return r.replace(/start|end/g,e=>y6[e])}function E6(r,e,t){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?a:l;default:return[]}}function x6(r,e,t,n){const i=Zf(r);let a=E6(zc(r),t==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(w_)))),a}function Dm(r){return r.replace(/left|right|bottom|top/g,e=>g6[e])}function S6(r){return{top:0,right:0,bottom:0,left:0,...r}}function UC(r){return typeof r!="number"?S6(r):{top:r,right:r,bottom:r,left:r}}function Am(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var T6=typeof document<"u",D6=function(){},Cm=T6?K.useLayoutEffect:D6;const A6={...J1},C6=A6.useInsertionEffect,k6=C6||(r=>r());function R6(r){const e=K.useRef(()=>{});return k6(()=>{e.current=r}),K.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function JS(r,e,t){let{reference:n,floating:i}=r;const a=hu(e),l=I0(e),c=M0(l),h=zc(e),d=a==="y",g=n.x+n.width/2-i.width/2,_=n.y+n.height/2-i.height/2,w=n[c]/2-i[c]/2;let S;switch(h){case"top":S={x:g,y:n.y-i.height};break;case"bottom":S={x:g,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:_};break;case"left":S={x:n.x-i.width,y:_};break;default:S={x:n.x,y:n.y}}switch(Zf(e)){case"start":S[l]-=w*(t&&d?-1:1);break;case"end":S[l]+=w*(t&&d?-1:1);break}return S}const M6=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:g,y:_}=JS(d,n,h),w=n,S={},T=0;for(let M=0;M<c.length;M++){const{name:k,fn:L}=c[M],{x:q,y:H,data:se,reset:X}=await L({x:g,y:_,initialPlacement:n,placement:w,strategy:i,middlewareData:S,rects:d,platform:l,elements:{reference:r,floating:e}});g=q??g,_=H??_,S={...S,[k]:{...S[k],...se}},X&&T<=50&&(T++,typeof X=="object"&&(X.placement&&(w=X.placement),X.rects&&(d=X.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):X.rects),{x:g,y:_}=JS(d,w,h)),M=-1)}return{x:g,y:_,placement:w,strategy:i,middlewareData:S}};async function I6(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:c,strategy:h}=r,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:w=!1,padding:S=0}=yg(e,r),T=UC(S),k=c[w?_==="floating"?"reference":"floating":_],L=Am(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:g,strategy:h})),q=_==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),se=await(a.isElement==null?void 0:a.isElement(H))?await(a.getScale==null?void 0:a.getScale(H))||{x:1,y:1}:{x:1,y:1},X=Am(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:q,offsetParent:H,strategy:h}):q);return{top:(L.top-X.top+T.top)/se.y,bottom:(X.bottom-L.bottom+T.bottom)/se.y,left:(L.left-X.left+T.left)/se.x,right:(X.right-L.right+T.right)/se.x}}const O6=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:l,elements:c,middlewareData:h}=e,{element:d,padding:g=0}=yg(r,e)||{};if(d==null)return{};const _=UC(g),w={x:t,y:n},S=I0(i),T=M0(S),M=await l.getDimensions(d),k=S==="y",L=k?"top":"left",q=k?"bottom":"right",H=k?"clientHeight":"clientWidth",se=a.reference[T]+a.reference[S]-w[S]-a.floating[T],X=w[S]-a.reference[S],de=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let V=de?de[H]:0;(!V||!await(l.isElement==null?void 0:l.isElement(de)))&&(V=c.floating[H]||a.floating[T]);const I=se/2-X/2,N=V/2-M[T]/2-1,U=jc(_[L],N),z=jc(_[q],N),Y=U,j=V-M[T]-z,Xe=V/2-M[T]/2+I,He=v6(Y,Xe,j),ie=!h.arrow&&Zf(i)!=null&&Xe!==He&&a.reference[T]/2-(Xe<Y?U:z)-M[T]/2<0,we=ie?Xe<Y?Xe-Y:Xe-j:0;return{[S]:w[S]+we,data:{[S]:He,centerOffset:Xe-He-we,...ie&&{alignmentOffset:we}},reset:ie}}}),P6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:M=!0,...k}=yg(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=zc(i),q=hu(c),H=zc(c)===c,se=await(h.isRTL==null?void 0:h.isRTL(d.floating)),X=w||(H||!M?[Dm(c)]:w6(c)),de=T!=="none";!w&&de&&X.push(...x6(c,M,T,se));const V=[c,...X],I=await I6(e,k),N=[];let U=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&N.push(I[L]),_){const Xe=b6(i,l,se);N.push(I[Xe[0]],I[Xe[1]])}if(U=[...U,{placement:i,overflows:N}],!N.every(Xe=>Xe<=0)){var z,Y;const Xe=(((z=a.flip)==null?void 0:z.index)||0)+1,He=V[Xe];if(He&&(!(_==="alignment"?q!==hu(He):!1)||U.every(Ce=>Ce.overflows[0]>0&&hu(Ce.placement)===q)))return{data:{index:Xe,overflows:U},reset:{placement:He}};let ie=(Y=U.filter(we=>we.overflows[0]<=0).sort((we,Ce)=>we.overflows[1]-Ce.overflows[1])[0])==null?void 0:Y.placement;if(!ie)switch(S){case"bestFit":{var j;const we=(j=U.filter(Ce=>{if(de){const Qe=hu(Ce.placement);return Qe===q||Qe==="y"}return!0}).map(Ce=>[Ce.placement,Ce.overflows.filter(Qe=>Qe>0).reduce((Qe,G)=>Qe+G,0)]).sort((Ce,Qe)=>Ce[1]-Qe[1])[0])==null?void 0:j[0];we&&(ie=we);break}case"initialPlacement":ie=c;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};async function N6(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=zc(t),c=Zf(t),h=hu(t)==="y",d=["left","top"].includes(l)?-1:1,g=a&&h?-1:1,_=yg(e,r);let{mainAxis:w,crossAxis:S,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof T=="number"&&(S=c==="end"?T*-1:T),h?{x:S*g,y:w*d}:{x:w*d,y:S*g}}const L6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:l,middlewareData:c}=e,h=await N6(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}};function FC(r){const e=fs(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=wa(r),a=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=Tm(t)!==a||Tm(n)!==l;return c&&(t=a,n=l),{width:t,height:n,$:c}}function O0(r){return ti(r)?r:r.contextElement}function Ec(r){const e=O0(r);if(!wa(e))return ma(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=FC(e);let l=(a?Tm(t.width):t.width)/n,c=(a?Tm(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const V6=ma(0);function jC(r){const e=Pi(r);return!R0()||!e.visualViewport?V6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function B6(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pi(r)?!1:e}function Au(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=O0(r);let l=ma(1);e&&(n?ti(n)&&(l=Ec(n)):l=Ec(r));const c=B6(a,t,n)?jC(a):ma(0);let h=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,g=i.width/l.x,_=i.height/l.y;if(a){const w=Pi(a),S=n&&ti(n)?Pi(n):n;let T=w,M=b_(T);for(;M&&n&&S!==T;){const k=Ec(M),L=M.getBoundingClientRect(),q=fs(M),H=L.left+(M.clientLeft+parseFloat(q.paddingLeft))*k.x,se=L.top+(M.clientTop+parseFloat(q.paddingTop))*k.y;h*=k.x,d*=k.y,g*=k.x,_*=k.y,h+=H,d+=se,T=Pi(M),M=b_(T)}}return Am({width:g,height:_,x:h,y:d})}function P0(r,e){const t=gg(r).scrollLeft;return e?e.left+t:Au(Sa(r)).left+t}function zC(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:P0(r,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function U6(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",l=Sa(n),c=e?mg(e.floating):!1;if(n===l||c&&a)return t;let h={scrollLeft:0,scrollTop:0},d=ma(1);const g=ma(0),_=wa(n);if((_||!_&&!a)&&((th(n)!=="body"||Xf(l))&&(h=gg(n)),wa(n))){const S=Au(n);d=Ec(n),g.x=S.x+n.clientLeft,g.y=S.y+n.clientTop}const w=l&&!_&&!a?zC(l,h,!0):ma(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-h.scrollLeft*d.x+g.x+w.x,y:t.y*d.y-h.scrollTop*d.y+g.y+w.y}}function F6(r){return Array.from(r.getClientRects())}function j6(r){const e=Sa(r),t=gg(r),n=r.ownerDocument.body,i=vu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=vu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+P0(r);const c=-t.scrollTop;return fs(n).direction==="rtl"&&(l+=vu(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:c}}function z6(r,e){const t=Pi(r),n=Sa(r),i=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,h=0;if(i){a=i.width,l=i.height;const d=R0();(!d||d&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:c,y:h}}function H6(r,e){const t=Au(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=wa(r)?Ec(r):ma(1),l=r.clientWidth*a.x,c=r.clientHeight*a.y,h=i*a.x,d=n*a.y;return{width:l,height:c,x:h,y:d}}function eT(r,e,t){let n;if(e==="viewport")n=z6(r,t);else if(e==="document")n=j6(Sa(r));else if(ti(e))n=H6(e,t);else{const i=jC(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Am(n)}function HC(r,e){const t=kl(r);return t===e||!ti(t)||Fc(t)?!1:fs(t).position==="fixed"||HC(t,e)}function Y6(r,e){const t=e.get(r);if(t)return t;let n=Pf(r,[],!1).filter(c=>ti(c)&&th(c)!=="body"),i=null;const a=fs(r).position==="fixed";let l=a?kl(r):r;for(;ti(l)&&!Fc(l);){const c=fs(l),h=k0(l);!h&&c.position==="fixed"&&(i=null),(a?!h&&!i:!h&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xf(l)&&!h&&HC(r,l))?n=n.filter(g=>g!==l):i=c,l=kl(l)}return e.set(r,n),n}function q6(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?mg(e)?[]:Y6(e,this._c):[].concat(t),n],c=l[0],h=l.reduce((d,g)=>{const _=eT(e,g,i);return d.top=vu(_.top,d.top),d.right=jc(_.right,d.right),d.bottom=jc(_.bottom,d.bottom),d.left=vu(_.left,d.left),d},eT(e,c,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function W6(r){const{width:e,height:t}=FC(r);return{width:e,height:t}}function K6(r,e,t){const n=wa(e),i=Sa(e),a=t==="fixed",l=Au(r,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=ma(0);function d(){h.x=P0(i)}if(n||!n&&!a)if((th(e)!=="body"||Xf(i))&&(c=gg(e)),n){const S=Au(e,!0,a,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else i&&d();a&&!n&&i&&d();const g=i&&!n&&!a?zC(i,c):ma(0),_=l.left+c.scrollLeft-h.x-g.x,w=l.top+c.scrollTop-h.y-g.y;return{x:_,y:w,width:l.width,height:l.height}}function Av(r){return fs(r).position==="static"}function tT(r,e){if(!wa(r)||fs(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Sa(r)===t&&(t=t.ownerDocument.body),t}function YC(r,e){const t=Pi(r);if(mg(r))return t;if(!wa(r)){let i=kl(r);for(;i&&!Fc(i);){if(ti(i)&&!Av(i))return i;i=kl(i)}return t}let n=tT(r,e);for(;n&&p6(n)&&Av(n);)n=tT(n,e);return n&&Fc(n)&&Av(n)&&!k0(n)?t:n||m6(r)||t}const G6=async function(r){const e=this.getOffsetParent||YC,t=this.getDimensions,n=await t(r.floating);return{reference:K6(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Q6(r){return fs(r).direction==="rtl"}const $6={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:Sa,getClippingRect:q6,getOffsetParent:YC,getElementRects:G6,getClientRects:F6,getDimensions:W6,getScale:Ec,isElement:ti,isRTL:Q6};function qC(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function X6(r,e){let t=null,n;const i=Sa(r);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=r.getBoundingClientRect(),{left:g,top:_,width:w,height:S}=d;if(c||e(),!w||!S)return;const T=hp(_),M=hp(i.clientWidth-(g+w)),k=hp(i.clientHeight-(_+S)),L=hp(g),H={rootMargin:-T+"px "+-M+"px "+-k+"px "+-L+"px",threshold:vu(0,jc(1,h))||1};let se=!0;function X(de){const V=de[0].intersectionRatio;if(V!==h){if(!se)return l();V?l(!1,V):n=setTimeout(()=>{l(!1,1e-7)},1e3)}V===1&&!qC(d,r.getBoundingClientRect())&&l(),se=!1}try{t=new IntersectionObserver(X,{...H,root:i.ownerDocument})}catch{t=new IntersectionObserver(X,H)}t.observe(r)}return l(!0),a}function Z6(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,d=O0(r),g=i||a?[...d?Pf(d):[],...Pf(e)]:[];g.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const _=d&&c?X6(d,t):null;let w=-1,S=null;l&&(S=new ResizeObserver(L=>{let[q]=L;q&&q.target===d&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var H;(H=S)==null||H.observe(e)})),t()}),d&&!h&&S.observe(d),S.observe(e));let T,M=h?Au(r):null;h&&k();function k(){const L=Au(r);M&&!qC(M,L)&&t(),M=L,T=requestAnimationFrame(k)}return t(),()=>{var L;g.forEach(q=>{i&&q.removeEventListener("scroll",t),a&&q.removeEventListener("resize",t)}),_==null||_(),(L=S)==null||L.disconnect(),S=null,h&&cancelAnimationFrame(T)}}const J6=L6,eB=P6,nT=O6,tB=(r,e,t)=>{const n=new Map,i={platform:$6,...t},a={...i.platform,_c:n};return M6(r,e,{...i,platform:a})};var nB=typeof document<"u",rB=function(){},qp=nB?K.useLayoutEffect:rB;function km(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!km(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!km(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function WC(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function rT(r,e){const t=WC(r);return Math.round(e*t)/t}function Cv(r){const e=K.useRef(r);return qp(()=>{e.current=r}),e}function iB(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:d}=r,[g,_]=K.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=K.useState(n);km(w,n)||S(n);const[T,M]=K.useState(null),[k,L]=K.useState(null),q=K.useCallback(Ce=>{Ce!==de.current&&(de.current=Ce,M(Ce))},[]),H=K.useCallback(Ce=>{Ce!==V.current&&(V.current=Ce,L(Ce))},[]),se=a||T,X=l||k,de=K.useRef(null),V=K.useRef(null),I=K.useRef(g),N=h!=null,U=Cv(h),z=Cv(i),Y=Cv(d),j=K.useCallback(()=>{if(!de.current||!V.current)return;const Ce={placement:e,strategy:t,middleware:w};z.current&&(Ce.platform=z.current),tB(de.current,V.current,Ce).then(Qe=>{const G={...Qe,isPositioned:Y.current!==!1};Xe.current&&!km(I.current,G)&&(I.current=G,yD.flushSync(()=>{_(G)}))})},[w,e,t,z,Y]);qp(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,_(Ce=>({...Ce,isPositioned:!1})))},[d]);const Xe=K.useRef(!1);qp(()=>(Xe.current=!0,()=>{Xe.current=!1}),[]),qp(()=>{if(se&&(de.current=se),X&&(V.current=X),se&&X){if(U.current)return U.current(se,X,j);j()}},[se,X,j,U,N]);const He=K.useMemo(()=>({reference:de,floating:V,setReference:q,setFloating:H}),[q,H]),ie=K.useMemo(()=>({reference:se,floating:X}),[se,X]),we=K.useMemo(()=>{const Ce={position:t,left:0,top:0};if(!ie.floating)return Ce;const Qe=rT(ie.floating,g.x),G=rT(ie.floating,g.y);return c?{...Ce,transform:"translate("+Qe+"px, "+G+"px)",...WC(ie.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Qe,top:G}},[t,c,ie.floating,g.x,g.y]);return K.useMemo(()=>({...g,update:j,refs:He,elements:ie,floatingStyles:we}),[g,j,He,ie,we])}const sB=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?nT({element:n.current,padding:i}).fn(t):{}:n?nT({element:n,padding:i}).fn(t):{}}}},aB=(r,e)=>({...J6(r),options:[r,e]}),oB=(r,e)=>({...eB(r),options:[r,e]}),lB=(r,e)=>({...sB(r),options:[r,e]}),uB={...J1};let iT=!1,cB=0;const sT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+cB++;function hB(){const[r,e]=K.useState(()=>iT?sT():void 0);return Cm(()=>{r==null&&e(sT())},[]),K.useEffect(()=>{iT=!0},[]),r}const fB=uB.useId,KC=fB||hB,dB=K.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:l}},width:c=14,height:h=7,tipRadius:d=0,strokeWidth:g=0,staticOffset:_,stroke:w,d:S,style:{transform:T,...M}={},...k}=e,L=KC(),[q,H]=K.useState(!1);if(Cm(()=>{if(!i)return;fs(i).direction==="rtl"&&H(!0)},[i]),!i)return null;const[se,X]=n.split("-"),de=se==="top"||se==="bottom";let V=_;(de&&l!=null&&l.x||!de&&l!=null&&l.y)&&(V=null);const I=g*2,N=I/2,U=c/2*(d/-8+1),z=h/2*d/4,Y=!!S,j=V&&X==="end"?"bottom":"top";let Xe=V&&X==="end"?"right":"left";V&&q&&(Xe=X==="end"?"left":"right");const He=(a==null?void 0:a.x)!=null?V||a.x:"",ie=(a==null?void 0:a.y)!=null?V||a.y:"",we=S||"M0,0"+(" H"+c)+(" L"+(c-U)+","+(h-z))+(" Q"+c/2+","+h+" "+U+","+(h-z))+" Z",Ce={top:Y?"rotate(180deg)":"",left:Y?"rotate(90deg)":"rotate(-90deg)",bottom:Y?"":"rotate(180deg)",right:Y?"rotate(-90deg)":"rotate(90deg)"}[se];return J.jsxs("svg",{...k,"aria-hidden":!0,ref:t,width:Y?c:c+I,height:c,viewBox:"0 0 "+c+" "+(h>c?h:c),style:{position:"absolute",pointerEvents:"none",[Xe]:He,[j]:ie,[se]:de||Y?"100%":"calc(100% - "+I/2+"px)",transform:[Ce,T].filter(Qe=>!!Qe).join(" "),...M},children:[I>0&&J.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:w,strokeWidth:I+(S?0:1),d:we}),J.jsx("path",{stroke:I&&!S?k.fill:"none",d:we}),J.jsx("clipPath",{id:L,children:J.jsx("rect",{x:-N,y:N*(Y?-1:1),width:c+I,height:c})})]})});function pB(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const mB=K.createContext(null),gB=K.createContext(null),yB=()=>{var r;return((r=K.useContext(mB))==null?void 0:r.id)||null},vB=()=>K.useContext(gB);function _B(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=KC(),a=K.useRef({}),[l]=K.useState(()=>pB()),c=yB()!=null,[h,d]=K.useState(n.reference),g=R6((S,T,M)=>{a.current.openEvent=S?T:void 0,l.emit("openchange",{open:S,event:T,reason:M,nested:c}),t==null||t(S,T,M)}),_=K.useMemo(()=>({setPositionReference:d}),[]),w=K.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return K.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:w,events:l,floatingId:i,refs:_}),[e,g,w,l,i,_])}function bB(r){r===void 0&&(r={});const{nodeId:e}=r,t=_B({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,l]=K.useState(null),[c,h]=K.useState(null),g=(i==null?void 0:i.domReference)||a,_=K.useRef(null),w=vB();Cm(()=>{g&&(_.current=g)},[g]);const S=iB({...r,elements:{...i,...c&&{reference:c}}}),T=K.useCallback(H=>{const se=ti(H)?{getBoundingClientRect:()=>H.getBoundingClientRect(),getClientRects:()=>H.getClientRects(),contextElement:H}:H;h(se),S.refs.setReference(se)},[S.refs]),M=K.useCallback(H=>{(ti(H)||H===null)&&(_.current=H,l(H)),(ti(S.refs.reference.current)||S.refs.reference.current===null||H!==null&&!ti(H))&&S.refs.setReference(H)},[S.refs]),k=K.useMemo(()=>({...S.refs,setReference:M,setPositionReference:T,domReference:_}),[S.refs,M,T]),L=K.useMemo(()=>({...S.elements,domReference:g}),[S.elements,g]),q=K.useMemo(()=>({...S,...n,refs:k,elements:L,nodeId:e}),[S,k,L,e,n]);return Cm(()=>{n.dataRef.current.floatingContext=q;const H=w==null?void 0:w.nodesRef.current.find(se=>se.id===e);H&&(H.context=q)}),K.useMemo(()=>({...S,context:q,refs:k,elements:L}),[S,k,L,q])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var E_=function(e,t){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},E_(e,t)};function yr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E_(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ht=function(){return Ht=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Ht.apply(this,arguments)};function ha(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var wB=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Se.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},l)},EB=function(r,e){var t=K.useRef(null),n=K.useRef(r);n.current=r;var i=K.useCallback(function(a){var l,c=a.composed&&a.composedPath&&a.composedPath().find(function(h){return h instanceof Node})||a.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,a))},[e]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},vg=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,l=r.ignoreClass,c=EB(t,l);return Se.createElement("div",{className:n,style:a,ref:function(h){c.current=h,i&&(i.current=h)}},e)},qe;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(qe||(qe={}));function GC(){var r=typeof window<"u"?window:globalThis;return r}var Jf=12;function Zt(r){if(r==null)return new Date;var e=typeof r=="string"?Z3(r):Je(r);return _g(e)?e:new Date}function kv(r,e,t,n,i){i===void 0&&(i=Zt());for(var a=Hc(t)||Hc(N0()),l=Array.isArray(e)?e:[e],c=0,h=l;c<h.length;c++){var d=h[c],g=W3(r,d,i,{locale:a});if(_g(g)&&(!n||r===Sn(g,d,t)))return g}return null}function _g(r,e){return bm(r)&&!Du(r,new Date("1/1/1800"))}function Sn(r,e,t){if(t==="en")return QS(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Hc(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Hc(N0()),QS(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ss(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Sn(r,i,n)||""}var QC=" - ";function xB(r,e,t){if(!r)return"";var n=ss(r,t),i=e?ss(e,t):"";return"".concat(n).concat(QC).concat(i)}function SB(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?ss(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=ss(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function Rv(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return zp(Hp(Yp(r,c),a),n)}function TB(r){return T0(r)}function DB(r,e){return Sn(r,"ddd",e)}function Wp(r){return Tu(r)}function bl(r,e,t){var n=Hc(e||N0());return fo(r,{locale:n,weekStartsOn:t})}function oo(r){return DC(r)}function af(r){return dg(r)}function aT(r){return y_(r)}function oT(){return Tu(Zt())}function lT(r){return SC(r)}function AB(r){return Z4(r)}function CB(r){return TC(r)}function la(r,e){return r&&e?$3(r,e):!r&&!e}function ei(r,e){return r&&e?G3(r,e):!r&&!e}function Rm(r,e){return r&&e?Q3(r,e):!r&&!e}function zt(r,e){return r&&e?$4(r,e):!r&&!e}function fu(r,e){return r&&e?XV(r,e):!r&&!e}function of(r,e,t){var n,i=Tu(e),a=SC(t);try{n=Of(r,{start:i,end:a})}catch{n=!1}return n}function N0(){var r=GC();return r.__localeId__}function Hc(r){if(typeof r=="string"){var e=GC();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function kB(r,e,t){return e(Sn(r,"EEEE",t))}function RB(r,e){return Sn(r,"EEEEEE",e)}function MB(r,e){return Sn(r,"EEE",e)}function L0(r,e){return Sn(as(Zt(),r),"LLLL",e)}function $C(r,e){return Sn(as(Zt(),r),"LLL",e)}function IB(r,e){return Sn(bc(Zt(),r),"QQQ",e)}function os(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,h=t.includeDateIntervals,d=t.filterDate;return ed(r,{minDate:n,maxDate:i})||a&&a.some(function(g){return g instanceof Date?zt(r,g):zt(r,g.date)})||l&&l.some(function(g){var _=g.start,w=g.end;return Of(r,{start:_,end:w})})||c&&!c.some(function(g){return zt(r,g)})||h&&!h.some(function(g){var _=g.start,w=g.end;return Of(r,{start:_,end:w})})||d&&!d(Zt(r))||!1}function V0(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var l=a.start,c=a.end;return Of(r,{start:l,end:c})}):n&&n.some(function(a){var l;return a instanceof Date?zt(r,a):zt(r,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function XC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return ed(r,{minDate:n?DC(n):void 0,maxDate:i?TC(i):void 0})||(a==null?void 0:a.some(function(h){return ei(r,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return ei(r,h)})||c&&!c(Zt(r))||!1}function fp(r,e,t,n){var i=Tt(r),a=Hr(r),l=Tt(e),c=Hr(e),h=Tt(n);return i===l&&i===h?a<=t&&t<=c:i<l?h===i&&a<=t||h===l&&c>=t||h<l&&h>i:!1}function OB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates;return ed(r,{minDate:n,maxDate:i})||a&&a.some(function(c){return ei(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return ei(c,r)})||!1}function dp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate;return ed(r,{minDate:n,maxDate:i})||(a==null?void 0:a.some(function(h){return Rm(r,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Rm(r,h)})||c&&!c(Zt(r))||!1}function pp(r,e,t){if(!e||!t||!bm(e)||!bm(t))return!1;var n=Tt(e),i=Tt(t);return n<=r&&i>=r}function Kp(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate,h=new Date(r,0,1);return ed(h,{minDate:n?dg(n):void 0,maxDate:i?AC(i):void 0})||(a==null?void 0:a.some(function(d){return la(h,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return la(h,d)})||c&&!c(Zt(h))||!1}function mp(r,e,t,n){var i=Tt(r),a=gu(r),l=Tt(e),c=gu(e),h=Tt(n);return i===l&&i===h?a<=t&&t<=c:i<l?h===i&&a<=t||h===l&&c>=t||h<l&&h>i:!1}function ed(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&Bc(r,i)<0||a&&Bc(r,a)>0)!==null&&t!==void 0?t:!1}function uT(r,e){return e.some(function(t){return so(t)===so(r)&&ao(t)===ao(r)&&_l(t)===_l(r)})}function cT(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&uT(r,n)||i&&!uT(r,i)||a&&!a(r)||!1}function hT(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Zt();i=zp(i,so(r)),i=Hp(i,ao(r)),i=Yp(i,_l(r));var a=Zt();a=zp(a,so(t)),a=Hp(a,ao(t)),a=Yp(a,_l(t));var l=Zt();l=zp(l,so(n)),l=Hp(l,ao(n)),l=Yp(l,_l(n));var c;try{c=!Of(i,{start:a,end:l})}catch{c=!1}return c}function fT(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=yu(r,1);return n&&wm(n,a)>0||i&&i.every(function(l){return wm(l,a)>0})||!1}function dT(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Us(r,1);return n&&wm(a,n)>0||i&&i.every(function(l){return wm(a,l)>0})||!1}function PB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=dg(r),l=LC(a);return n&&Em(n,l)>0||i&&i.every(function(c){return Em(c,l)>0})||!1}function NB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=AC(r),l=S0(a,1);return n&&Em(l,n)>0||i&&i.every(function(c){return Em(l,c)>0})||!1}function pT(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Uc(r,1);return n&&xm(n,a)>0||i&&i.every(function(l){return xm(l,a)>0})||!1}function LB(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?Jf:i,l=af(Uc(r,a)),c=hl(l,a).endPeriod,h=n&&Tt(n);return h&&h>c||!1}function mT(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=ro(r,1);return n&&xm(a,n)>0||i&&i.every(function(l){return xm(a,l)>0})||!1}function VB(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?Jf:i,l=ro(r,a),c=hl(l,a).startPeriod,h=n&&Tt(n);return h&&h<c||!1}function ZC(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Bc(i,e)>=0});return HS(n)}else return t?HS(t):e}function JC(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Bc(i,e)<=0});return zS(n)}else return t?zS(t):e}function gT(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var l=r[i];if(io(l)){var c=Sn(l,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(e)||(h.push(e),n.set(c,h))}else if(typeof l=="object"){var d=Object.keys(l),g=(t=d[0])!==null&&t!==void 0?t:"",_=l[g];if(typeof g=="string"&&Array.isArray(_))for(var w=0,S=_.length;w<S;w++){var T=_[w];if(T){var c=Sn(T,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(g)||(h.push(g),n.set(c,h))}}}}return n}function BB(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function UB(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(io(i)){var l=Sn(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&BB(c.holidayNames,[a]))){c.className=e;var h=c.holidayNames;c.holidayNames=h?ha(ha([],h,!0),[a],!1):[a],t.set(l,c)}}}),t}function FB(r,e,t,n,i){for(var a=i.length,l=[],c=0;c<a;c++){var h=r,d=i[c];d&&(h=W4(h,so(d)),h=g_(h,ao(d)),h=Q4(h,_l(d)));var g=g_(r,(t+1)*n);Cl(h,e)&&Du(h,g)&&d!=null&&l.push(d)}return l}function yT(r){return r<10?"0".concat(r):"".concat(r)}function hl(r,e){e===void 0&&(e=Jf);var t=Math.ceil(Tt(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function jB(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function vT(r){var e=r.getSeconds(),t=r.getMilliseconds();return Je(r.getTime()-e*1e3-t)}function zB(r,e){return vT(r).getTime()===vT(e).getTime()}function _T(r){if(!io(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function bT(r,e){if(!io(r)||!io(e))throw new Error("Invalid date received");var t=_T(r),n=_T(e);return Du(t,n)}function ek(r){return r.key===qe.Space}var HB=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Se.createRef(),n.onTimeChange=function(i){var a,l;n.setState({time:i});var c=n.props.date,h=c instanceof Date&&!isNaN(+c),d=h?c:new Date;if(i!=null&&i.includes(":")){var g=i.split(":"),_=g[0],w=g[1];d.setHours(Number(_)),d.setMinutes(Number(w))}(l=(a=n.props).onChange)===null||l===void 0||l.call(a,d)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,l=a.date,c=a.timeString,h=a.customTimeInput;return h?K.cloneElement(h,{date:l,value:i,onChange:n.onTimeChange}):Se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Se.createElement("div",{className:"react-datepicker__input-time-container"},Se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Se.createElement("div",{className:"react-datepicker-time__input-container"},Se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(K.Component),YB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=K.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===qe.Space&&(n.preventDefault(),n.key=qe.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return zt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),os(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return V0(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return zt(t.props.day,bl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&zt(n,bl(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var l=Sn(i,"MM.dd.yyyy");return a.get(l)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,l=i.holidays;if(!l)return[void 0];var c=Sn(a,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:of(i,a,l)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,l=i.selectsStart,c=i.selectsEnd,h=i.selectsRange,d=i.selectsDisabledDaysInRange,g=i.startDate,_=i.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||h)||!w||!d&&t.isDisabled()?!1:l&&_&&(Du(w,_)||fu(w,_))?of(a,w,_):c&&g&&(Cl(w,g)||fu(w,g))||h&&g&&!_&&(Cl(w,g)||fu(w,g))?of(a,g,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.startDate,c=i.selectsStart,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?zt(a,h):zt(a,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.endDate,c=i.selectsEnd,h=i.selectsRange,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||h?zt(a,d):zt(a,l)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:zt(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:zt(l,i)},t.isWeekend=function(){var n=KV(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Hr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Hr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Zt())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Rr("react-datepicker__day",i,"react-datepicker__day--"+DB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,c=n.ariaLabelPrefixWhenDisabled,h=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?h:l;return"".concat(d," ").concat(Sn(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,l=a===void 0?new Map:a,c=n.excludeDates,h=Sn(i,"MM.dd.yyyy"),d=[];return l.has(h)&&d.push.apply(d,l.get(h).holidayNames),t.isExcluded()&&d.push(c==null?void 0:c.filter(function(g){return g instanceof Date?zt(g,i):zt(g==null?void 0:g.date,i)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&zt(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents($S(t.props.day),t.props.day):$S(t.props.day)},t.render=function(){return Se.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Se.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(K.Component),qB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=K.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===qe.Space&&(n.preventDefault(),n.key=qe.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!zt(t.props.date,t.props.selected)&&zt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||zt(t.props.date,t.props.selected)&&zt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&zt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,l=a===void 0?e.defaultProps.ariaLabelPrefix:a,c=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&zt(this.props.date,this.props.selected)};return Se.createElement("div",{ref:this.weekNumberEl,className:Rr(h),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(K.Component),WB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return os(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var l,c,h,d=new Date(n),g=0;g<7;g++){var _=new Date(n);_.setDate(_.getDate()+g);var w=!t.isDisabled(_);if(w){d=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((h=(c=t.props).setOpen)===null||h===void 0||h.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):TB(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Vs(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=Vs(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(Se.createElement(qB,Ht({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var h=Vs(n,c);return Se.createElement(YB,Ht({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return bl(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!zt(t.startOfWeek(),t.props.selected)&&zt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":zt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Se.createElement("div",{className:Rr(t)},this.renderDays())},e}(K.Component),$h,KB=6,xc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Mv=($h={},$h[xc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$h[xc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$h[xc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$h),gp=1;function wT(r,e){return r?xc.FOUR_COLUMNS:e?xc.TWO_COLUMNS:xc.THREE_COLUMNS}var GB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=ha([],Array(12),!0).map(function(){return K.createRef()}),t.QUARTER_REFS=ha([],Array(4),!0).map(function(){return K.createRef()}),t.isDisabled=function(n){return os(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return V0(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,l;(l=(a=t.props).onDayClick)===null||l===void 0||l.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:ei(as(a,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Rm(bc(a,n),l)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:ei(as(a,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Rm(bc(a,n),c)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,h=a.selectsEnd,d=a.selectsRange,g=a.startDate,_=a.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||h||d)||!w?!1:c&&_?fp(w,_,n,l):h&&g||d&&g&&!_?fp(g,w,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.startDate,h=a.selectsStart,d=as(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return h?ei(d,g):ei(d,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,c=a.endDate,h=a.selectsEnd,d=a.selectsRange,g=as(l,n),_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return h||d?ei(g,_):ei(g,c)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,l=a.day,c=a.selectsStart,h=a.selectsEnd,d=a.selectsRange,g=a.startDate,_=a.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||h||d)||!w?!1:c&&_?mp(w,_,n,l):h&&g||d&&g&&!_?mp(g,w,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=Vs(n,6);return ei(n,i)||ei(a,i)},t.isCurrentMonth=function(n,i){return Tt(n)===Tt(Zt())&&i===Hr(Zt())},t.isCurrentQuarter=function(n,i){return Tt(n)===Tt(Zt())&&i===gu(Zt())},t.isSelectedMonth=function(n,i,a){return Hr(a)===i&&Tt(n)===Tt(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,a){return gu(n)===i&&Tt(n)===Tt(a)},t.isMonthSelected=function(){var n=t.props,i=n.day,a=n.selected,l=n.selectedDates,c=n.selectsMultiple,h=Hr(i);return c?l==null?void 0:l.some(function(d){return t.isSelectedMonth(i,h,d)}):!!a&&t.isSelectedMonth(i,h,a)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,a=0,l=!1,c=bl(oo(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(T){return t.props.showWeekPicker?bl(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(T){return t.props.showWeekPicker?bl(T,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?d(t.props.selected):void 0,_=t.props.preSelection?h(t.props.preSelection):void 0;n.push(Se.createElement(WB,Ht({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:c,month:Hr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!l;){a++,c=_m(c,1);var w=i&&a>=KB,S=!i&&!t.isWeekInMonth(c);if(w||S)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),l=a.isDisabled,c=a.labelDate;l||t.handleDayClick(oo(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,l=i.labelDate;a||t.handleDayMouseEnter(oo(l))},t.handleMonthNavigation=function(n,i){var a,l,c,h;(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(h=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(n,i,a){var l,c=t.props,h=c.selected,d=c.preSelection,g=c.setPreSelection,_=c.minDate,w=c.maxDate,S=c.showFourColumnMonthYearPicker,T=c.showTwoColumnMonthYearPicker;if(d){var M=wT(S,T),k=t.getVerticalOffset(M),L=(l=Mv[M])===null||l===void 0?void 0:l.grid,q=function(V,I,N){var U,z,Y=I,j=N;switch(V){case qe.ArrowRight:Y=Us(I,gp),j=N===11?0:N+gp;break;case qe.ArrowLeft:Y=yu(I,gp),j=N===0?11:N-gp;break;case qe.ArrowUp:Y=yu(I,k),j=!((U=L==null?void 0:L[0])===null||U===void 0)&&U.includes(N)?N+12-k:N-k;break;case qe.ArrowDown:Y=Us(I,k),j=!((z=L==null?void 0:L[L.length-1])===null||z===void 0)&&z.includes(N)?N-12+k:N+k;break}return{newCalculatedDate:Y,newCalculatedMonth:j}},H=function(V,I,N){for(var U=40,z=V,Y=!1,j=0,Xe=q(z,I,N),He=Xe.newCalculatedDate,ie=Xe.newCalculatedMonth;!Y;){if(j>=U){He=I,ie=N;break}if(_&&He<_){z=qe.ArrowRight;var we=q(z,He,ie);He=we.newCalculatedDate,ie=we.newCalculatedMonth}if(w&&He>w){z=qe.ArrowLeft;var we=q(z,He,ie);He=we.newCalculatedDate,ie=we.newCalculatedMonth}if(OB(He,t.props)){var we=q(z,He,ie);He=we.newCalculatedDate,ie=we.newCalculatedMonth}else Y=!0;j++}return{newCalculatedDate:He,newCalculatedMonth:ie}};if(i===qe.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),g==null||g(h));return}var se=H(i,d,a),X=se.newCalculatedDate,de=se.newCalculatedMonth;switch(i){case qe.ArrowRight:case qe.ArrowLeft:case qe.ArrowUp:case qe.ArrowDown:t.handleMonthNavigation(de,X);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=Mv[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,l=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,h=n.key;h!==qe.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,h,i),c&&c(n)},t.onQuarterClick=function(n,i){var a=bc(t.props.day,i);dp(a,t.props)||t.handleDayClick(aT(a),n)},t.onQuarterMouseEnter=function(n){var i=bc(t.props.day,n);dp(i,t.props)||t.handleDayMouseEnter(aT(i))},t.handleQuarterNavigation=function(n,i){var a,l,c,h;t.isDisabled(i)||t.isExcluded(i)||((l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(h=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(n,i){var a,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case qe.Enter:t.onQuarterClick(n,i),(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,t.props.selected);break;case qe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,S0(t.props.preSelection,1));break;case qe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,LC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,l=a.day,c=a.minDate,h=a.maxDate,d=a.excludeDates,g=a.includeDates,_=as(l,n);return{isDisabled:(i=(c||h||d||g)&&XC(_,t.props))!==null&&i!==void 0?i:!1,labelDate:_}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,h=i.preSelection,d=i.monthClassName,g=d?d(as(a,n)):void 0,_=t.getSelection();return Rr("react-datepicker__month-text","react-datepicker__month-".concat(n),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(a,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(a,n,h)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?fp(l,c,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Hr(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=gu(t.props.preSelection),a=dp(t.props.day,t.props),l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,h=c===void 0?"Not available":c,d=i.day,g=i.locale,_=as(d,n),w=t.isDisabled(_)||t.isExcluded(_)?h:l;return"".concat(w," ").concat(Sn(_,"MMMM yyyy",g))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,c=i.endDate,h=i.selected,d=i.minDate,g=i.maxDate,_=i.excludeDates,w=i.includeDates,S=i.filterDate,T=i.preSelection,M=i.disabledKeyboardNavigation,k=(d||g||_||w||S)&&dp(bc(a,n),t.props);return Rr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":k,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(a,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&T&&t.isSelectedQuarter(a,n,T)&&!k,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?mp(l,c,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,h=i.day,d=$C(n,c),g=L0(n,c);return l?l(n,d,g,h):a?g:d},t.getQuarterContent=function(n){var i,a=t.props,l=a.renderQuarterContent,c=a.locale,h=IB(n,c);return(i=l==null?void 0:l(n,h))!==null&&i!==void 0?i:h},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,h=i.selected,d=(n=Mv[wT(l,a)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(g,_){return Se.createElement("div",{className:"react-datepicker__month-wrapper",key:_},g.map(function(w,S){return Se.createElement("div",{ref:t.MONTH_REFS[w],key:S,onClick:function(T){t.onMonthClick(T,w)},onKeyDown:function(T){ek(T)&&(T.preventDefault(),T.key=qe.Enter),t.onMonthKeyDown(T,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(c,w)?"date":void 0,"aria-selected":h?t.isSelectedMonth(c,w,h):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,l=[1,2,3,4];return Se.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,h){return Se.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":a?t.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,h=n.showQuarterYearPicker,d=n.showWeekPicker;return Rr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,h=c?c.trim()+" ":"";return Se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Sn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(K.Component),QB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return Se.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Se.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Se.createElement(vg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),$B=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return Se.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return Se.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return Se.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return Se.createElement(QB,Ht({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return $C(a,t.props.locale)}:function(a){return L0(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return Se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(K.Component);function XB(r,e){for(var t=[],n=oo(r),i=oo(e);!Cl(n,i);)t.push(Zt(n)),n=Us(n,1);return t}var ZB=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=__(i),l=la(n.props.date,i)&&ei(n.props.date,i);return Se.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":l?"true":void 0},l?Se.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Sn(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:XB(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Rr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Se.createElement(vg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),JB=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=oo(t.props.minDate),i=oo(t.props.maxDate),a=[];!Cl(n,i);){var l=__(n);a.push(Se.createElement("option",{key:l,value:l},Sn(n,t.props.dateFormat,t.props.locale))),n=Us(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Se.createElement("select",{value:__(oo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Sn(t.props.date,t.props.dateFormat,t.props.locale);return Se.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Se.createElement(ZB,Ht({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Zt(n);la(t.props.date,i)&&ei(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(K.Component),e5=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&hT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cT(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&zB(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&hT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&cT(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(so(n)*3600+ao(n)*60+_l(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,l;n.key===qe.Space&&(n.preventDefault(),n.key=qe.Enter),(n.key===qe.ArrowUp||n.key===qe.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===qe.ArrowDown||n.key===qe.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===qe.Enter&&t.handleClick(i),(l=(a=t.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||Zt(),h=Wp(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(k,L){return k.getTime()-L.getTime()}),g=60*jB(c),_=g/l,w=0;w<_;w++){var S=g_(h,w*l);if(i.push(S),d){var T=FB(h,S,w,l,d);i=i.concat(T)}}var M=i.reduce(function(k,L){return L.getTime()<=c.getTime()?L:k},i[0]);return i.map(function(k){return Se.createElement("li",{key:k.valueOf(),onClick:t.handleClick.bind(t,k),className:t.liClasses(k),ref:function(L){k===M&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,k)},tabIndex:k===M?0:-1,role:"option","aria-selected":t.isSelectedTime(k)?"true":void 0,"aria-disabled":t.isDisabledTime(k)?"true":void 0},Sn(k,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Se.createElement(Se.Fragment,null):Se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Se.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return Se.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Se.createElement("div",{className:"react-datepicker__time"},Se.createElement("div",{className:"react-datepicker__time-box"},Se.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(K.Component),ET=3,t5=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=ha([],Array(n.props.yearItemNumber),!0).map(function(){return K.createRef()}),n.isDisabled=function(i){return os(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return V0(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var l,c,h,d,g=n.props,_=g.date,w=g.yearItemNumber;if(!(_===void 0||w===void 0)){var S=hl(_,w).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,a),i-S<0?n.updateFocusOnPaginate(w-(S-i)):i-S>=w?n.updateFocusOnPaginate(Math.abs(w-(i-S))):(d=(h=n.YEAR_REFS[i-S])===null||h===void 0?void 0:h.current)===null||d===void 0||d.focus())}},n.isSameDay=function(i,a){return zt(i,a)},n.isCurrentYear=function(i){return i===Tt(Zt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&la(oa(Zt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&la(oa(Zt(),i),n.props.endDate)},n.isInRange=function(i){return pp(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,l=a.selectsStart,c=a.selectsEnd,h=a.selectsRange,d=a.startDate,g=a.endDate;return!(l||c||h)||!n.selectingDate()?!1:l&&g?pp(i,n.selectingDate(),g):c&&d||h&&d&&!g?pp(i,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,h=l.selectsStart,d=oa(Zt(),i);return h?la(d,(a=n.selectingDate())!==null&&a!==void 0?a:null):la(d,c??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,h=l.selectsEnd,d=l.selectsRange,g=oa(Zt(),i);return h||d?la(g,(a=n.selectingDate())!==null&&a!==void 0?a:null):la(g,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var a=n.props,l=a.minDate,c=a.maxDate,h=a.excludeDates,d=a.includeDates,g=a.filterDate,_=af(oa(n.props.date,i)),w=(l||c||h||d||g)&&Kp(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!zt(_,af(n.props.selected))&&zt(_,af(n.props.preSelection))&&!w}},n.isSelectedYear=function(i){var a=n.props,l=a.selectsMultiple,c=a.selected,h=a.selectedDates;return l?h==null?void 0:h.some(function(d){return i===Tt(d)}):!!c&&i===Tt(c)},n.onYearClick=function(i,a){var l=n.props.date;l!==void 0&&n.handleYearClick(af(oa(l,a)),i)},n.onYearKeyDown=function(i,a){var l,c,h=i.key,d=n.props,g=d.date,_=d.yearItemNumber,w=d.handleOnKeyDown;if(h!==qe.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case qe.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case qe.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,ro(n.props.preSelection,1));break;case qe.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,Uc(n.props.preSelection,1));break;case qe.ArrowUp:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var S=hl(g,_).startPeriod,T=ET,M=a-T;if(M<S){var k=_%T;a>=S&&a<S+k?T=k:T+=k,M=a-T}n.handleYearNavigation(M,Uc(n.props.preSelection,T));break}case qe.ArrowDown:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var L=hl(g,_).endPeriod,T=ET,M=a+T;if(M>L){var k=_%T;a<=L&&a>L-k?T=k:T+=k,M=a+T}n.handleYearNavigation(M,ro(n.props.preSelection,T));break}}w&&w(i)},n.getYearClassNames=function(i){var a=n.props,l=a.date,c=a.minDate,h=a.maxDate,d=a.excludeDates,g=a.includeDates,_=a.filterDate,w=a.yearClassName;return Rr("react-datepicker__year-text","react-datepicker__year-".concat(i),l?w==null?void 0:w(oa(l,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(c||h||d||g||_)&&Kp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Tt(n.props.preSelection),l=Kp(i,n.props);return i===a&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,h=i.onYearMouseLeave;if(a===void 0)return null;for(var d=hl(a,l),g=d.startPeriod,_=d.endPeriod,w=function(M){n.push(Se.createElement("div",{ref:S.YEAR_REFS[M-g],onClick:function(k){t.onYearClick(k,M)},onKeyDown:function(k){ek(k)&&(k.preventDefault(),k.key=qe.Enter),t.onYearKeyDown(k,M)},tabIndex:Number(S.getYearTabIndex(M)),className:S.getYearClassNames(M),onMouseEnter:S.props.usePointerEvent?void 0:function(k){return c(k,M)},onPointerEnter:S.props.usePointerEvent?function(k){return c(k,M)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(k){return h(k,M)},onPointerLeave:S.props.usePointerEvent?function(k){return h(k,M)}:void 0,key:M,"aria-current":S.isCurrentYear(M)?"date":void 0},S.getYearContent(M)))},S=this,T=g;T<=_;T++)w(T);return Se.createElement("div",{className:"react-datepicker__year"},Se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(K.Component);function n5(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var l=r+e-a,c=!0;t&&(c=Tt(t)<=l),n&&c&&(c=Tt(n)>=l),c&&i.push(l)}return i}var r5=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,h=n.state.yearsList.map(function(_){return Se.createElement("div",{className:c===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":c===_?"true":void 0},c===_?Se.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",_)}),d=n.props.minDate?Tt(n.props.minDate):null,g=n.props.maxDate?Tt(n.props.maxDate):null;return(!g||!n.state.yearsList.find(function(_){return _===g}))&&h.unshift(Se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(_){return _===d}))&&h.push(Se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var h=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=i||(a?10:5);return n.state={yearsList:n5(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=K.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Rr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Se.createElement(vg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(K.Component),i5=function(r){yr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Tt(t.props.minDate):1900,i=t.props.maxDate?Tt(t.props.maxDate):2100,a=[],l=n;l<=i;l++)a.push(Se.createElement("option",{key:l,value:l},l));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Se.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Se.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},Se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Se.createElement(r5,Ht({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,l;(l=(a=t.props).onSelect)===null||l===void 0||l.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(K.Component),s5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],a5=function(r){var e=(r.className||"").split(/\s+/);return s5.some(function(t){return e.indexOf(t)>=0})},o5=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,l;a5(i.target)&&((l=(a=n.props).onDropdownFocus)===null||l===void 0||l.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,l=i.selected,c=i.openToDate,h=ZC(n.props),d=JC(n.props),g=Zt(),_=c||l||a;return _||(h&&Du(g,h)?h:d&&Cl(g,d)?d:g)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:Us(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:yu(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,l){n.props.onSelect(i,a,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:oa(Zt(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,l,c,h;(l=(a=n.props).onYearChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(h=(c=n.props).setOpen)===null||h===void 0||h.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!os(i,n.props))return i;for(var a=oo(i),l=CB(i),c=X4(l,a),h=null,d=0;d<=c;d++){var g=Vs(a,d);if(!os(g,n.props)){h=g;break}}return h},n.handleMonthChange=function(i){var a,l,c,h=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(i){var a,l;(l=(a=n.props).onMonthChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var l=a.date;return{date:oa(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var l=a.date;return{date:as(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var l=a.date;return{date:oa(as(l,Hr(i)),Tt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var a=bl(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(Se.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var h=Vs(a,c),d=n.formatWeekday(h,n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return Se.createElement("div",{key:c,"aria-label":Sn(h,"EEEE",n.props.locale),className:Rr("react-datepicker__day-name",g)},d)}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?kB(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?MB(i,a):RB(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:Uc(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:h,g=yu(n.state.date,d),_;switch(!0){case n.props.showMonthYearPicker:_=pT(n.state.date,n.props);break;case n.props.showYearPicker:_=LB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=PB(n.state.date,n.props);break;default:_=fT(g,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(T=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),T=void 0);var M=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,k=n.props,L=k.previousMonthButtonLabel,q=L===void 0?e.defaultProps.previousMonthButtonLabel:L,H=k.previousYearButtonLabel,se=H===void 0?e.defaultProps.previousYearButtonLabel:H,X=n.props,de=X.previousMonthAriaLabel,V=de===void 0?typeof q=="string"?q:"Previous Month":de,I=X.previousYearAriaLabel,N=I===void 0?typeof se=="string"?se:"Previous Year":I;return Se.createElement("button",{type:"button",className:S.join(" "),onClick:T,onKeyDown:n.props.handleOnKeyDown,"aria-label":M?N:V},Se.createElement("span",{className:w.join(" ")},M?se:q))}}},n.increaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:ro(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=mT(n.state.date,n.props);break;case n.props.showYearPicker:a=VB(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=NB(n.state.date,n.props);break;default:a=dT(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),h=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,_=g.nextMonthButtonLabel,w=_===void 0?e.defaultProps.nextMonthButtonLabel:_,S=g.nextYearButtonLabel,T=S===void 0?e.defaultProps.nextYearButtonLabel:S,M=n.props,k=M.nextMonthAriaLabel,L=k===void 0?typeof w=="string"?w:"Next Month":k,q=M.nextYearAriaLabel,H=q===void 0?typeof T=="string"?T:"Next Year":q;return Se.createElement("button",{type:"button",className:l.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?H:L},Se.createElement("span",{className:c.join(" ")},d?T:w))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),Se.createElement("h2",{className:a.join(" ")},Sn(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return Se.createElement(i5,Ht({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Tt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return Se.createElement($B,Ht({},e.defaultProps,n.props,{month:Hr(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return Se.createElement(JB,Ht({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(oT(),i),n.props.setPreSelection&&n.props.setPreSelection(oT())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Se.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var a=i.monthDate,l=i.i;return Se.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),Se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),Se.createElement("div",{className:"react-datepicker__day-names"},n.header(a)))},n.renderCustomHeader=function(i){var a,l,c=i.monthDate,h=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=fT(n.state.date,n.props),g=dT(n.state.date,n.props),_=pT(n.state.date,n.props),w=mT(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return Se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(a=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,Ht(Ht({},n.state),{customHeaderCount:h,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:g,prevYearButtonDisabled:_,nextYearButtonDisabled:w})),S&&Se.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var a=i.monthDate,l=n.props,c=l.showYearPicker,h=l.yearItemNumber,d=h===void 0?e.defaultProps.yearItemNumber:h,g=hl(a,d),_=g.startPeriod,w=g.endPeriod;return Se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(_," - ").concat(w):Tt(a))},n.renderHeader=function(i){var a=i.monthDate,l=i.i,c=l===void 0?0:l,h={monthDate:a,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ro(n.state.date,h):yu(n.state.date,h),g=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:h,_=0;_<c;++_){var w=_-g+h,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ro(d,w):Us(d,w),T="month-".concat(_),M=_<c-1,k=_>0;l.push(Se.createElement("div",{key:T,ref:function(L){n.monthContainer=L??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:_}),Se.createElement(GB,Ht({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:M,monthShowsDuplicateDaysStart:k}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Se.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Se.createElement(t5,Ht({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Se.createElement(e5,Ht({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&_g(i)&&!!n.props.selected,l=a?"".concat(yT(i.getHours()),":").concat(yT(i.getMinutes())):"";if(n.props.showTimeInput)return Se.createElement(HB,Ht({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,a=hl(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=a.startPeriod,c=a.endPeriod,h;return n.props.showYearPicker?h="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=Tt(n.state.date):h="".concat(L0(Hr(n.state.date),n.props.locale)," ").concat(Tt(n.state.date)),Se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return Se.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=K.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Jf}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!zt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!ei(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!zt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||wB;return Se.createElement(vg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Se.createElement("div",{style:{display:"contents"},ref:this.containerRef},Se.createElement(t,{className:Rr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(K.Component),l5=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return Se.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(Se.isValidElement(e)){var l=e;return Se.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(n),onClick:function(c){typeof l.props.onClick=="function"&&l.props.onClick(c),typeof i=="function"&&i(c)}})}return Se.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tk=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return yO.createPortal(this.props.children,this.el)},e}(K.Component),u5="[tabindex], a, button, input, select, textarea",c5=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},nk=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(u5),1,-1).filter(c5)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=K.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(K.Component);function h5(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=K.useRef(null),l=bB(Ht({open:!i,whileElementsMounted:Z6,placement:t.popperPlacement,middleware:ha([oB({padding:15}),aB(10),lB({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Ht(Ht({},t),{hidePopper:i,popperProps:Ht(Ht({},l),{arrowRef:a})});return Se.createElement(r,Ht({},c))};return e}var f5=function(r){yr(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,a=t.hidePopper,l=a===void 0?e.defaultProps.hidePopper:a,c=t.popperComponent,h=t.targetComponent,d=t.enableTabLoop,g=t.popperOnKeyDown,_=t.portalId,w=t.portalHost,S=t.popperProps,T=t.showArrow,M=void 0;if(!l){var k=Rr("react-datepicker-popper",n);M=Se.createElement(nk,{enableTabLoop:d},Se.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:k,"data-placement":S.placement,onKeyDown:g},c,T&&Se.createElement(dB,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(M=K.createElement(this.props.popperContainer,{},M)),_&&!l&&(M=Se.createElement(tk,{portalId:_,portalHost:w},M));var L=Rr("react-datepicker-wrapper",i);return Se.createElement(Se.Fragment,null,Se.createElement("div",{ref:S.refs.setReference,className:L},h),M)},e}(K.Component),d5=h5(f5),xT="react-datepicker-ignore-onclickoutside";function p5(r,e){return r&&e?Hr(r)!==Hr(e)||Tt(r)!==Tt(e):r!==e}var Iv="Date input not valid.",ST=function(r){yr(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Zt()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,l){var c=new Date(l.date);return _g(c)?ha(ha([],a,!0),[Ht(Ht({},l),{date:c})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),l=ZC(n.props),c=JC(n.props),h=l&&Du(a,Wp(l))?l:c&&Cl(a,lT(c))?c:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:h,highlightDates:gT(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ht(Ht({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ht(Ht({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Ov},function(){i||n.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return io(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,l,c=n.state.wasHidden,h=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((l=(a=n.props).onFocus)===null||l===void 0||l.call(a,i),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var a,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(a=n.props).onBlur)===null||l===void 0||l.call(a,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,l;n.props.inline||n.setOpen(!1),(l=(a=n.props).onClickOutside)===null||l===void 0||l.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,l,c,h,d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];var _=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:m5});var w=n.props,S=w.selectsRange,T=w.startDate,M=w.endDate,k=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,L=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,q=(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:"";if(S){var H=q.split(k.includes("-")?QC:"-",2).map(function(z){return z.trim()}),se=H[0],X=H[1],de=kv(se??"",k,n.props.locale,L),V=kv(X??"",k,n.props.locale,L),I=(T==null?void 0:T.getTime())!==(de==null?void 0:de.getTime()),N=(M==null?void 0:M.getTime())!==(V==null?void 0:V.getTime());if(!I&&!N||de&&os(de,n.props)||V&&os(V,n.props))return;(c=(l=n.props).onChange)===null||c===void 0||c.call(l,[de,V],_)}else{var U=kv(q,k,n.props.locale,L,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(U||!q)&&n.setSelected(U,_,!0)}}},n.handleSelect=function(i,a,l){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(a),n.setSelected(i,a,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,h=c.startDate,d=c.endDate;h&&!d&&(n.props.swapRange||!bT(i,h))&&n.setOpen(!1)}}},n.setSelected=function(i,a,l,c){var h,d,g=i;if(n.props.showYearPicker){if(g!==null&&Kp(Tt(g),n.props))return}else if(n.props.showMonthYearPicker){if(g!==null&&XC(g,n.props))return}else if(g!==null&&os(g,n.props))return;var _=n.props,w=_.onChange,S=_.selectsRange,T=_.startDate,M=_.endDate,k=_.selectsMultiple,L=_.selectedDates,q=_.minTime,H=_.swapRange;if(!fu(n.props.selected,g)||n.props.allowSameDay||S||k)if(g!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(g=Rv(g,{hour:so(n.props.selected),minute:ao(n.props.selected),second:_l(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&q&&(g=Rv(g,{hour:q.getHours(),minute:q.getMinutes(),second:q.getSeconds()})),n.props.inline||n.setState({preSelection:g}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),S){var se=!T&&!M,X=T&&!M,de=T&&M;se?w==null||w([g,null],a):X&&(g===null?w==null||w([null,null],a):bT(g,T)?H?w==null||w([g,T],a):w==null||w([g,null],a):w==null||w([T,g],a)),de&&(w==null||w([g,null],a))}else if(k){if(g!==null)if(!(L!=null&&L.length))w==null||w([g],a);else{var V=L.some(function(N){return zt(N,g)});if(V){var I=L.filter(function(N){return!zt(N,g)});w==null||w(I,a)}else w==null||w(ha(ha([],L,!0),[g],!1),a)}}else w==null||w(g,a);l||((d=(h=n.props).onSelect)===null||d===void 0||d.call(h,g,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var a=io(n.props.minDate),l=io(n.props.maxDate),c=!0;if(i){var h=Wp(i);if(a&&l)c=of(i,n.props.minDate,n.props.maxDate);else if(a){var d=Wp(n.props.minDate);c=Cl(i,d)||fu(h,d)}else if(l){var g=lT(n.props.maxDate);c=Du(i,g)||fu(h,g)}}c&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?i:Rv(c,{hour:so(i),minute:ao(i)});n.setState({preSelection:h}),(l=(a=n.props).onChange)===null||l===void 0||l.call(a,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,l,c,h,d,g;(l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i);var _=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===qe.ArrowDown||_===qe.ArrowUp||_===qe.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(_===qe.ArrowDown||_===qe.ArrowUp){i.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var T=Zt(n.state.preSelection);_===qe.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Ov?(n.handleSelect(T,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(T)):n.setOpen(!1)):_===qe.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===qe.Tab&&n.setOpen(!1),n.inputOk()||(g=(d=n.props).onInputError)===null||g===void 0||g.call(d,{code:1,msg:Iv})}},n.onPortalKeyDown=function(i){var a=i.key;a===qe.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,l,c,h,d,g,_=n.props,w=_.minDate,S=_.maxDate,T=_.disabledKeyboardNavigation,M=_.showWeekPicker,k=_.shouldCloseOnSelect,L=_.locale,q=_.calendarStartDay,H=_.adjustDateOnChange,se=_.inline;if((l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i),!T){var X=i.key,de=i.shiftKey,V=Zt(n.state.preSelection),I=function(He,ie){var we=ie;switch(He){case qe.ArrowRight:we=M?_m(ie,1):Vs(ie,1);break;case qe.ArrowLeft:we=M?XS(ie):X3(ie);break;case qe.ArrowUp:we=XS(ie);break;case qe.ArrowDown:we=_m(ie,1);break;case qe.PageUp:we=de?Uc(ie,1):yu(ie,1);break;case qe.PageDown:we=de?ro(ie,1):Us(ie,1);break;case qe.Home:we=bl(ie,L,q);break;case qe.End:we=AB(ie);break}return we},N=function(He,ie){for(var we=40,Ce=He,Qe=!1,G=0,xe=I(He,ie);!Qe;){if(G>=we){xe=ie;break}w&&xe<w&&(Ce=qe.ArrowRight,xe=os(w,n.props)?I(Ce,xe):w),S&&xe>S&&(Ce=qe.ArrowLeft,xe=os(S,n.props)?I(Ce,xe):S),os(xe,n.props)?((Ce===qe.PageUp||Ce===qe.Home)&&(Ce=qe.ArrowRight),(Ce===qe.PageDown||Ce===qe.End)&&(Ce=qe.ArrowLeft),xe=I(Ce,xe)):Qe=!0,G++}return xe};if(X===qe.Enter){i.preventDefault(),n.handleSelect(V,i),!k&&n.setPreSelection(V);return}else if(X===qe.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(c=n.props).onInputError)===null||h===void 0||h.call(c,{code:1,msg:Iv});return}var U=null;switch(X){case qe.ArrowLeft:case qe.ArrowRight:case qe.ArrowUp:case qe.ArrowDown:case qe.PageUp:case qe.PageDown:case qe.Home:case qe.End:U=N(X,V);break}if(!U){(g=(d=n.props).onInputError)===null||g===void 0||g.call(d,{code:1,msg:Iv});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Ov}),H&&n.setSelected(U),n.setPreSelection(U),se){var z=Hr(V),Y=Hr(U),j=Tt(V),Xe=Tt(U);z!==Y||j!==Xe?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===qe.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,l=a.selectsRange,c=a.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:Se.createElement(o5,Ht({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:UB(n.modifyHolidays()),outsideClickIgnoreClass:xT,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,a=i.dateFormat,l=a===void 0?e.defaultProps.dateFormat:a,c=i.locale,h=n.props.showTimeInput||n.props.showTimeSelect,d=h?"PPPPp":"PPPP",g;return n.props.selectsRange?g="Selected start date: ".concat(ss(n.props.startDate,{dateFormat:d,locale:c}),". ").concat(n.props.endDate?"End date: "+ss(n.props.endDate,{dateFormat:d,locale:c}):""):n.props.showTimeSelectOnly?g="Selected time: ".concat(ss(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?g="Selected year: ".concat(ss(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?g="Selected month: ".concat(ss(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?g="Selected quarter: ".concat(ss(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):g="Selected date: ".concat(ss(n.props.selected,{dateFormat:d,locale:c})),Se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},n.renderDateInput=function(){var i,a,l,c=Rr(n.props.className,(i={},i[xT]=n.state.open,i)),h=n.props.customInput||Se.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",g=n.props,_=g.dateFormat,w=_===void 0?e.defaultProps.dateFormat:_,S=g.locale,T=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?xB(n.props.startDate,n.props.endDate,{dateFormat:w,locale:S}):n.props.selectsMultiple?SB((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:w,locale:S}):ss(n.props.selected,{dateFormat:w,locale:S});return K.cloneElement(h,(a={},a[d]=function(M){n.input=M},a.value=T,a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Rr(h.props.className,c),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,l=i.disabled,c=i.selected,h=i.startDate,d=i.endDate,g=i.clearButtonTitle,_=i.clearButtonClassName,w=_===void 0?"":_,S=i.ariaLabelClose,T=S===void 0?"Close":S,M=i.selectedDates,k=i.readOnly;return a&&!k&&(c!=null||h!=null||d!=null||M!=null&&M.length)?Se.createElement("button",{type:"button",className:Rr("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:n.onClearClick,title:g,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Jf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,l,c;t.inline&&p5(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gT(this.props.highlightDates)}),!n.focused&&!fu(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,h=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Se.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Se.createElement(l5,Ht({icon:i,className:Rr(l,!l&&a,h&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Se.createElement(nk,{enableTabLoop:this.props.enableTabLoop},Se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Se.createElement(tk,Ht({portalId:this.props.portalId},this.props),n)),Se.createElement("div",null,this.renderInputContainer(),n)}return Se.createElement(d5,Ht({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(K.Component),m5="input",Ov="navigate";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function td(r){return r+.5|0}const fl=(r,e,t)=>Math.max(Math.min(r,t),e);function lf(r){return fl(td(r*2.55),0,255)}function wl(r){return fl(td(r*255),0,255)}function Za(r){return fl(td(r/2.55)/100,0,1)}function TT(r){return fl(td(r*100),0,100)}const is={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x_=[..."0123456789ABCDEF"],g5=r=>x_[r&15],y5=r=>x_[(r&240)>>4]+x_[r&15],yp=r=>(r&240)>>4===(r&15),v5=r=>yp(r.r)&&yp(r.g)&&yp(r.b)&&yp(r.a);function _5(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&is[r[1]]*17,g:255&is[r[2]]*17,b:255&is[r[3]]*17,a:e===5?is[r[4]]*17:255}:(e===7||e===9)&&(t={r:is[r[1]]<<4|is[r[2]],g:is[r[3]]<<4|is[r[4]],b:is[r[5]]<<4|is[r[6]],a:e===9?is[r[7]]<<4|is[r[8]]:255})),t}const b5=(r,e)=>r<255?e(r):"";function w5(r){var e=v5(r)?g5:y5;return r?"#"+e(r.r)+e(r.g)+e(r.b)+b5(r.a,e):void 0}const E5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rk(r,e,t){const n=e*Math.min(t,1-t),i=(a,l=(a+r/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function x5(r,e,t){const n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function S5(r,e,t){const n=rk(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function T5(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function B0(r){const t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),l=Math.min(t,n,i),c=(a+l)/2;let h,d,g;return a!==l&&(g=a-l,d=c>.5?g/(2-a-l):g/(a+l),h=T5(t,n,i,g,a),h=h*60+.5),[h|0,d||0,c]}function U0(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(wl)}function F0(r,e,t){return U0(rk,r,e,t)}function D5(r,e,t){return U0(S5,r,e,t)}function A5(r,e,t){return U0(x5,r,e,t)}function ik(r){return(r%360+360)%360}function C5(r){const e=E5.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?lf(+e[5]):wl(+e[5]));const i=ik(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=D5(i,a,l):e[1]==="hsv"?n=A5(i,a,l):n=F0(i,a,l),{r:n[0],g:n[1],b:n[2],a:t}}function k5(r,e){var t=B0(r);t[0]=ik(t[0]+e),t=F0(t),r.r=t[0],r.g=t[1],r.b=t[2]}function R5(r){if(!r)return;const e=B0(r),t=e[0],n=TT(e[1]),i=TT(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${Za(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const DT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M5(){const r={},e=Object.keys(AT),t=Object.keys(DT);let n,i,a,l,c;for(n=0;n<e.length;n++){for(l=c=e[n],i=0;i<t.length;i++)a=t[i],c=c.replace(a,DT[a]);a=parseInt(AT[l],16),r[c]=[a>>16&255,a>>8&255,a&255]}return r}let vp;function I5(r){vp||(vp=M5(),vp.transparent=[0,0,0,0]);const e=vp[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const O5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P5(r){const e=O5.exec(r);let t=255,n,i,a;if(e){if(e[7]!==n){const l=+e[7];t=e[8]?lf(l):fl(l*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?lf(n):fl(n,0,255)),i=255&(e[4]?lf(i):fl(i,0,255)),a=255&(e[6]?lf(a):fl(a,0,255)),{r:n,g:i,b:a,a:t}}}function N5(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Za(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Pv=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,mc=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function L5(r,e,t){const n=mc(Za(r.r)),i=mc(Za(r.g)),a=mc(Za(r.b));return{r:wl(Pv(n+t*(mc(Za(e.r))-n))),g:wl(Pv(i+t*(mc(Za(e.g))-i))),b:wl(Pv(a+t*(mc(Za(e.b))-a))),a:r.a+t*(e.a-r.a)}}function _p(r,e,t){if(r){let n=B0(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=F0(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function sk(r,e){return r&&Object.assign(e||{},r)}function CT(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=wl(r[3]))):(e=sk(r,{r:0,g:0,b:0,a:1}),e.a=wl(e.a)),e}function V5(r){return r.charAt(0)==="r"?P5(r):C5(r)}class Nf{constructor(e){if(e instanceof Nf)return e;const t=typeof e;let n;t==="object"?n=CT(e):t==="string"&&(n=_5(e)||I5(e)||V5(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=sk(this._rgb);return e&&(e.a=Za(e.a)),e}set rgb(e){this._rgb=CT(e)}rgbString(){return this._valid?N5(this._rgb):void 0}hexString(){return this._valid?w5(this._rgb):void 0}hslString(){return this._valid?R5(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,h=n.a-i.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=l*n.a+(1-l)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=L5(this._rgb,e._rgb,t)),this}clone(){return new Nf(this.rgb)}alpha(e){return this._rgb.a=wl(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=td(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _p(this._rgb,2,e),this}darken(e){return _p(this._rgb,2,-e),this}saturate(e){return _p(this._rgb,1,e),this}desaturate(e){return _p(this._rgb,1,-e),this}rotate(e){return k5(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qa(){}const B5=(()=>{let r=0;return()=>r++})();function mn(r){return r==null}function mr(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Gt(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function ds(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function ra(r,e){return ds(r)?r:e}function Ft(r,e){return typeof r>"u"?e:r}const U5=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function yn(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function sn(r,e,t,n){let i,a,l;if(mr(r))for(a=r.length,i=0;i<a;i++)e.call(t,r[i],i);else if(Gt(r))for(l=Object.keys(r),a=l.length,i=0;i<a;i++)e.call(t,r[l[i]],l[i])}function Mm(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Im(r){if(mr(r))return r.map(Im);if(Gt(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Im(r[t[i]]);return e}return r}function ak(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function F5(r,e,t,n){if(!ak(r))return;const i=e[r],a=t[r];Gt(i)&&Gt(a)?Lf(i,a,n):e[r]=Im(a)}function Lf(r,e,t){const n=mr(e)?e:[e],i=n.length;if(!Gt(r))return r;t=t||{};const a=t.merger||F5;let l;for(let c=0;c<i;++c){if(l=n[c],!Gt(l))continue;const h=Object.keys(l);for(let d=0,g=h.length;d<g;++d)a(h[d],r,l,t)}return r}function vf(r,e){return Lf(r,e,{merger:j5})}function j5(r,e,t){if(!ak(r))return;const n=e[r],i=t[r];Gt(n)&&Gt(i)?vf(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=Im(i))}const kT={"":r=>r,x:r=>r.x,y:r=>r.y};function z5(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function H5(r){const e=z5(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Om(r,e){return(kT[e]||(kT[e]=H5(e)))(r)}function j0(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Pm=r=>typeof r<"u",Rl=r=>typeof r=="function",RT=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function Y5(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const gr=Math.PI,ga=2*gr,q5=ga+gr,Nm=Number.POSITIVE_INFINITY,W5=gr/180,Ns=gr/2,ru=gr/4,MT=gr*2/3,ok=Math.log10,Yc=Math.sign;function _f(r,e,t){return Math.abs(r-e)<t}function IT(r){const e=Math.round(r);r=_f(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(ok(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function K5(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function G5(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function Vf(r){return!G5(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function Q5(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function $5(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function du(r){return r*(gr/180)}function X5(r){return r*(180/gr)}function OT(r){if(!ds(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function Z5(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let a=Math.atan2(n,t);return a<-.5*gr&&(a+=ga),{angle:a,distance:i}}function S_(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function J5(r,e){return(r-e+q5)%ga-gr}function al(r){return(r%ga+ga)%ga}function lk(r,e,t,n){const i=al(r),a=al(e),l=al(t),c=al(a-i),h=al(l-i),d=al(i-a),g=al(i-l);return i===a||i===l||n&&a===l||c>h&&d<g}function us(r,e,t){return Math.max(e,Math.min(t,r))}function eU(r){return us(r,-32768,32767)}function uf(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function z0(r,e,t){t=t||(l=>r[l]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}const pu=(r,e,t,n)=>z0(r,t,n?i=>{const a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),tU=(r,e,t)=>z0(r,t,n=>r[n][e]>=t);function nU(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const uk=["push","pop","shift","splice","unshift"];function rU(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uk.forEach(t=>{const n="_onData"+j0(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return r._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...a)}),l}})})}function PT(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(uk.forEach(a=>{delete r[a]}),delete r._chartjs)}function iU(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const ck=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function hk(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,ck.call(window,()=>{n=!1,r.apply(e,t)}))}}function sU(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const H0=r=>r==="start"?"left":r==="end"?"right":"center",Fr=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,aU=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function oU(r,e,t){const n=e.length;let i=0,a=n;if(r._sorted){const{iScale:l,vScale:c,_parsed:h}=r,d=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,g=l.axis,{min:_,max:w,minDefined:S,maxDefined:T}=l.getUserBounds();if(S){if(i=Math.min(pu(h,g,_).lo,t?n:pu(e,g,l.getPixelForValue(_)).lo),d){const M=h.slice(0,i+1).reverse().findIndex(k=>!mn(k[c.axis]));i-=Math.max(0,M)}i=us(i,0,n-1)}if(T){let M=Math.max(pu(h,l.axis,w,!0).hi+1,t?0:pu(e,g,l.getPixelForValue(w),!0).hi+1);if(d){const k=h.slice(M-1).findIndex(L=>!mn(L[c.axis]));M+=Math.max(0,k)}a=us(M,i,n)-i}else a=n-i}return{start:i,count:a}}function lU(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}const bp=r=>r===0||r===1,NT=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*ga/t)),LT=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*ga/t)+1,bf={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ns)+1,easeOutSine:r=>Math.sin(r*Ns),easeInOutSine:r=>-.5*(Math.cos(gr*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>bp(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>bp(r)?r:NT(r,.075,.3),easeOutElastic:r=>bp(r)?r:LT(r,.075,.3),easeInOutElastic(r){return bp(r)?r:r<.5?.5*NT(r*2,.1125,.45):.5+.5*LT(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-bf.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?bf.easeInBounce(r*2)*.5:bf.easeOutBounce(r*2-1)*.5+.5};function Y0(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VT(r){return Y0(r)?r:new Nf(r)}function Nv(r){return Y0(r)?r:new Nf(r).saturate(.5).darken(.1).hexString()}const uU=["x","y","borderWidth","radius","tension"],cU=["color","borderColor","backgroundColor"];function hU(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:cU},numbers:{type:"number",properties:uU}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fU(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const BT=new Map;function dU(r,e){e=e||{};const t=r+JSON.stringify(e);let n=BT.get(t);return n||(n=new Intl.NumberFormat(r,e),BT.set(t,n)),n}function fk(r,e,t){return dU(e,t).format(r)}const pU={values(r){return mr(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,a=r;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=mU(r,t)}const l=ok(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),fk(r,n,h)}};function mU(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var dk={formatters:pU};function gU(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Cu=Object.create(null),T_=Object.create(null);function wf(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function Lv(r,e,t){return typeof e=="string"?Lf(wf(r,e),t):Lf(wf(r,""),e)}class yU{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Nv(i.backgroundColor),this.hoverBorderColor=(n,i)=>Nv(i.borderColor),this.hoverColor=(n,i)=>Nv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Lv(this,e,t)}get(e){return wf(this,e)}describe(e,t){return Lv(T_,e,t)}override(e,t){return Lv(Cu,e,t)}route(e,t,n,i){const a=wf(this,e),l=wf(this,n),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=l[i];return Gt(h)?Object.assign({},d,h):Ft(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Hn=new yU({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hU,fU,gU]);function vU(r){return!r||mn(r.size)||mn(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function UT(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function iu(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function FT(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function D_(r,e,t,n){pk(r,e,t,n,null)}function pk(r,e,t,n,i){let a,l,c,h,d,g,_,w;const S=e.pointStyle,T=e.rotation,M=e.radius;let k=(T||0)*W5;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(k),r.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),r.restore();return}if(!(isNaN(M)||M<=0)){switch(r.beginPath(),S){default:i?r.ellipse(t,n,i/2,M,0,0,ga):r.arc(t,n,M,0,ga),r.closePath();break;case"triangle":g=i?i/2:M,r.moveTo(t+Math.sin(k)*g,n-Math.cos(k)*M),k+=MT,r.lineTo(t+Math.sin(k)*g,n-Math.cos(k)*M),k+=MT,r.lineTo(t+Math.sin(k)*g,n-Math.cos(k)*M),r.closePath();break;case"rectRounded":d=M*.516,h=M-d,l=Math.cos(k+ru)*h,_=Math.cos(k+ru)*(i?i/2-d:h),c=Math.sin(k+ru)*h,w=Math.sin(k+ru)*(i?i/2-d:h),r.arc(t-_,n-c,d,k-gr,k-Ns),r.arc(t+w,n-l,d,k-Ns,k),r.arc(t+_,n+c,d,k,k+Ns),r.arc(t-w,n+l,d,k+Ns,k+gr),r.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*M,g=i?i/2:h,r.rect(t-g,n-h,2*g,2*h);break}k+=ru;case"rectRot":_=Math.cos(k)*(i?i/2:M),l=Math.cos(k)*M,c=Math.sin(k)*M,w=Math.sin(k)*(i?i/2:M),r.moveTo(t-_,n-c),r.lineTo(t+w,n-l),r.lineTo(t+_,n+c),r.lineTo(t-w,n+l),r.closePath();break;case"crossRot":k+=ru;case"cross":_=Math.cos(k)*(i?i/2:M),l=Math.cos(k)*M,c=Math.sin(k)*M,w=Math.sin(k)*(i?i/2:M),r.moveTo(t-_,n-c),r.lineTo(t+_,n+c),r.moveTo(t+w,n-l),r.lineTo(t-w,n+l);break;case"star":_=Math.cos(k)*(i?i/2:M),l=Math.cos(k)*M,c=Math.sin(k)*M,w=Math.sin(k)*(i?i/2:M),r.moveTo(t-_,n-c),r.lineTo(t+_,n+c),r.moveTo(t+w,n-l),r.lineTo(t-w,n+l),k+=ru,_=Math.cos(k)*(i?i/2:M),l=Math.cos(k)*M,c=Math.sin(k)*M,w=Math.sin(k)*(i?i/2:M),r.moveTo(t-_,n-c),r.lineTo(t+_,n+c),r.moveTo(t+w,n-l),r.lineTo(t-w,n+l);break;case"line":l=i?i/2:Math.cos(k)*M,c=Math.sin(k)*M,r.moveTo(t-l,n-c),r.lineTo(t+l,n+c);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(k)*(i?i/2:M),n+Math.sin(k)*M);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function Bf(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function q0(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function W0(r){r.restore()}function _U(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function bU(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function wU(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),mn(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function EU(r,e,t,n,i){if(i.strikethrough||i.underline){const a=r.measureText(n),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,d=t+a.actualBoundingBoxDescent,g=i.strikethrough?(h+d)/2:d;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(l,g),r.lineTo(c,g),r.stroke()}}function xU(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Uf(r,e,t,n,i,a={}){const l=mr(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(r.save(),r.font=i.string,wU(r,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&xU(r,a.backdrop),c&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),mn(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(d,t,n,a.maxWidth)),r.fillText(d,t,n,a.maxWidth),EU(r,t,n,d,a),n+=Number(i.lineHeight);r.restore()}function A_(r,e){const{x:t,y:n,w:i,h:a,radius:l}=e;r.arc(t+l.topLeft,n+l.topLeft,l.topLeft,1.5*gr,gr,!0),r.lineTo(t,n+a-l.bottomLeft),r.arc(t+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,gr,Ns,!0),r.lineTo(t+i-l.bottomRight,n+a),r.arc(t+i-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Ns,0,!0),r.lineTo(t+i,n+l.topRight),r.arc(t+i-l.topRight,n+l.topRight,l.topRight,0,-Ns,!0),r.lineTo(t+l.topLeft,n)}const SU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DU(r,e){const t=(""+r).match(SU);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const AU=r=>+r||0;function mk(r,e){const t={},n=Gt(e),i=n?Object.keys(e):e,a=Gt(r)?n?l=>Ft(r[l],r[e[l]]):l=>r[l]:()=>r;for(const l of i)t[l]=AU(a(l));return t}function CU(r){return mk(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Ef(r){return mk(r,["topLeft","topRight","bottomLeft","bottomRight"])}function ps(r){const e=CU(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yr(r,e){r=r||{},e=e||Hn.font;let t=Ft(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Ft(r.style,e.style);n&&!(""+n).match(TU)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Ft(r.family,e.family),lineHeight:DU(Ft(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:Ft(r.weight,e.weight),string:""};return i.string=vU(i),i}function wp(r,e,t,n){let i,a,l;for(i=0,a=r.length;i<a;++i)if(l=r[i],l!==void 0&&l!==void 0)return l}function kU(r,e,t){const{min:n,max:i}=r,a=U5(e,(i-n)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(n,-Math.abs(a)),max:l(i,a)}}function Lu(r,e){return Object.assign(Object.create(r),e)}function K0(r,e=[""],t,n,i=()=>r[0]){const a=t||r;typeof n>"u"&&(n=_k("_fallback",r));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:n,_getTarget:i,override:c=>K0([c,...r],e,a,n)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete r[0][h],!0},get(c,h){return yk(c,h,()=>VU(h,e,r,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(c,h){return zT(c).includes(h)},ownKeys(c){return zT(c)},set(c,h,d){const g=c._storage||(c._storage=i());return c[h]=g[h]=d,delete c._keys,!0}})}function qc(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:gk(r,n),setContext:a=>qc(r,a,t,n),override:a=>qc(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete r[l],!0},get(a,l,c){return yk(a,l,()=>MU(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(r,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,l)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,l){return Reflect.has(r,l)},ownKeys(){return Reflect.ownKeys(r)},set(a,l,c){return r[l]=c,delete a[l],!0}})}function gk(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Rl(t)?t:()=>t,isIndexable:Rl(n)?n:()=>n}}const RU=(r,e)=>r?r+j0(e):e,G0=(r,e)=>Gt(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yk(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function MU(r,e,t){const{_proxy:n,_context:i,_subProxy:a,_descriptors:l}=r;let c=n[e];return Rl(c)&&l.isScriptable(e)&&(c=IU(e,c,r,t)),mr(c)&&c.length&&(c=OU(e,c,r,l.isIndexable)),G0(e,c)&&(c=qc(c,i,a&&a[e],l)),c}function IU(r,e,t,n){const{_proxy:i,_context:a,_subProxy:l,_stack:c}=t;if(c.has(r))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+r);c.add(r);let h=e(a,l||n);return c.delete(r),G0(r,h)&&(h=Q0(i._scopes,i,r,h)),h}function OU(r,e,t,n){const{_proxy:i,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&n(r))return e[a.index%e.length];if(Gt(e[0])){const h=e,d=i._scopes.filter(g=>g!==h);e=[];for(const g of h){const _=Q0(d,i,r,g);e.push(qc(_,a,l&&l[r],c))}}return e}function vk(r,e,t){return Rl(r)?r(e,t):r}const PU=(r,e)=>r===!0?e:typeof r=="string"?Om(e,r):void 0;function NU(r,e,t,n,i){for(const a of e){const l=PU(t,a);if(l){r.add(l);const c=vk(l._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==n)return c}else if(l===!1&&typeof n<"u"&&t!==n)return null}return!1}function Q0(r,e,t,n){const i=e._rootScopes,a=vk(e._fallback,t,n),l=[...r,...i],c=new Set;c.add(n);let h=jT(c,l,t,a||t,n);return h===null||typeof a<"u"&&a!==t&&(h=jT(c,l,a,h,n),h===null)?!1:K0(Array.from(c),[""],i,a,()=>LU(e,t,n))}function jT(r,e,t,n,i){for(;t;)t=NU(r,e,t,n,i);return t}function LU(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return mr(i)&&Gt(t)?t:i||{}}function VU(r,e,t,n){let i;for(const a of e)if(i=_k(RU(a,r),t),typeof i<"u")return G0(r,i)?Q0(t,n,r,i):i}function _k(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function zT(r){let e=r._keys;return e||(e=r._keys=BU(r._scopes)),e}function BU(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const UU=Number.EPSILON||1e-14,Wc=(r,e)=>e<r.length&&!r[e].skip&&r[e],bk=r=>r==="x"?"y":"x";function FU(r,e,t,n){const i=r.skip?e:r,a=e,l=t.skip?e:t,c=S_(a,i),h=S_(l,a);let d=c/(c+h),g=h/(c+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const _=n*d,w=n*g;return{previous:{x:a.x-_*(l.x-i.x),y:a.y-_*(l.y-i.y)},next:{x:a.x+w*(l.x-i.x),y:a.y+w*(l.y-i.y)}}}function jU(r,e,t){const n=r.length;let i,a,l,c,h,d=Wc(r,0);for(let g=0;g<n-1;++g)if(h=d,d=Wc(r,g+1),!(!h||!d)){if(_f(e[g],0,UU)){t[g]=t[g+1]=0;continue}i=t[g]/e[g],a=t[g+1]/e[g],c=Math.pow(i,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),t[g]=i*l*e[g],t[g+1]=a*l*e[g])}}function zU(r,e,t="x"){const n=bk(t),i=r.length;let a,l,c,h=Wc(r,0);for(let d=0;d<i;++d){if(l=c,c=h,h=Wc(r,d+1),!c)continue;const g=c[t],_=c[n];l&&(a=(g-l[t])/3,c[`cp1${t}`]=g-a,c[`cp1${n}`]=_-a*e[d]),h&&(a=(h[t]-g)/3,c[`cp2${t}`]=g+a,c[`cp2${n}`]=_+a*e[d])}}function HU(r,e="x"){const t=bk(e),n=r.length,i=Array(n).fill(0),a=Array(n);let l,c,h,d=Wc(r,0);for(l=0;l<n;++l)if(c=h,h=d,d=Wc(r,l+1),!!h){if(d){const g=d[e]-h[e];i[l]=g!==0?(d[t]-h[t])/g:0}a[l]=c?d?Yc(i[l-1])!==Yc(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}jU(r,i,a),zU(r,a,e)}function Ep(r,e,t){return Math.max(Math.min(r,t),e)}function YU(r,e){let t,n,i,a,l,c=Bf(r[0],e);for(t=0,n=r.length;t<n;++t)l=a,a=c,c=t<n-1&&Bf(r[t+1],e),a&&(i=r[t],l&&(i.cp1x=Ep(i.cp1x,e.left,e.right),i.cp1y=Ep(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=Ep(i.cp2x,e.left,e.right),i.cp2y=Ep(i.cp2y,e.top,e.bottom)))}function qU(r,e,t,n,i){let a,l,c,h;if(e.spanGaps&&(r=r.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")HU(r,i);else{let d=n?r[r.length-1]:r[0];for(a=0,l=r.length;a<l;++a)c=r[a],h=FU(d,c,r[Math.min(a+1,l-(n?0:1))%l],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&YU(r,t)}function $0(){return typeof window<"u"&&typeof document<"u"}function X0(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lm(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const bg=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function WU(r,e){return bg(r).getPropertyValue(e)}const KU=["top","right","bottom","left"];function _u(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=KU[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const GU=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function QU(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n;let l=!1,c,h;if(GU(i,a,r.target))c=i,h=a;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,h=n.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function lu(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=bg(t),a=i.boxSizing==="border-box",l=_u(i,"padding"),c=_u(i,"border","width"),{x:h,y:d,box:g}=QU(r,t),_=l.left+(g&&c.left),w=l.top+(g&&c.top);let{width:S,height:T}=e;return a&&(S-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-_)/S*t.width/n),y:Math.round((d-w)/T*t.height/n)}}function $U(r,e,t){let n,i;if(e===void 0||t===void 0){const a=r&&X0(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{const l=a.getBoundingClientRect(),c=bg(a),h=_u(c,"border","width"),d=_u(c,"padding");e=l.width-d.width-h.width,t=l.height-d.height-h.height,n=Lm(c.maxWidth,a,"clientWidth"),i=Lm(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||Nm,maxHeight:i||Nm}}const xp=r=>Math.round(r*10)/10;function XU(r,e,t,n){const i=bg(r),a=_u(i,"margin"),l=Lm(i.maxWidth,r,"clientWidth")||Nm,c=Lm(i.maxHeight,r,"clientHeight")||Nm,h=$U(r,e,t);let{width:d,height:g}=h;if(i.boxSizing==="content-box"){const w=_u(i,"border","width"),S=_u(i,"padding");d-=S.width+w.width,g-=S.height+w.height}return d=Math.max(0,d-a.width),g=Math.max(0,n?d/n:g-a.height),d=xp(Math.min(d,l,h.maxWidth)),g=xp(Math.min(g,c,h.maxHeight)),d&&!g&&(g=xp(d/2)),(e!==void 0||t!==void 0)&&n&&h.height&&g>h.height&&(g=h.height,d=xp(Math.floor(g*n))),{width:d,height:g}}function HT(r,e,t){const n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const l=r.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${r.height}px`,l.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||l.height!==i||l.width!==a?(r.currentDevicePixelRatio=n,l.height=i,l.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ZU=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};$0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function YT(r,e){const t=WU(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function uu(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function JU(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function e9(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},l=uu(r,i,t),c=uu(i,a,t),h=uu(a,e,t),d=uu(l,c,t),g=uu(c,h,t);return uu(d,g,t)}const t9=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},n9=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Sc(r,e,t){return r?t9(e,t):n9()}function wk(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function Ek(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function xk(r){return r==="angle"?{between:lk,compare:J5,normalize:al}:{between:uf,compare:(e,t)=>e-t,normalize:e=>e}}function qT({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function r9(r,e,t){const{property:n,start:i,end:a}=t,{between:l,normalize:c}=xk(n),h=e.length;let{start:d,end:g,loop:_}=r,w,S;if(_){for(d+=h,g+=h,w=0,S=h;w<S&&l(c(e[d%h][n]),i,a);++w)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:_,style:r.style}}function i9(r,e,t){if(!t)return[r];const{property:n,start:i,end:a}=t,l=e.length,{compare:c,between:h,normalize:d}=xk(n),{start:g,end:_,loop:w,style:S}=r9(r,e,t),T=[];let M=!1,k=null,L,q,H;const se=()=>h(i,H,L)&&c(i,H)!==0,X=()=>c(a,L)===0||h(a,H,L),de=()=>M||se(),V=()=>!M||X();for(let I=g,N=g;I<=_;++I)q=e[I%l],!q.skip&&(L=d(q[n]),L!==H&&(M=h(L,i,a),k===null&&de()&&(k=c(L,i)===0?I:N),k!==null&&V()&&(T.push(qT({start:k,end:I,loop:w,count:l,style:S})),k=null),N=I,H=L));return k!==null&&T.push(qT({start:k,end:_,loop:w,count:l,style:S})),T}function s9(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const a=i9(n[i],r.points,e);a.length&&t.push(...a)}return t}function a9(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function o9(r,e,t,n){const i=r.length,a=[];let l=e,c=r[e],h;for(h=e+1;h<=t;++h){const d=r[h%i];d.skip||d.stop?c.skip||(n=!1,a.push({start:e%i,end:(h-1)%i,loop:n}),e=l=d.stop?h:null):(l=h,c.skip&&(e=h)),c=d}return l!==null&&a.push({start:e%i,end:l%i,loop:n}),a}function l9(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const a=!!r._loop,{start:l,end:c}=a9(t,i,a,n);if(n===!0)return WT(r,[{start:l,end:c,loop:a}],t,e);const h=c<l?c+i:c,d=!!r._fullLoop&&l===0&&c===i-1;return WT(r,o9(t,l,h,d),t,e)}function WT(r,e,t,n){return!n||!n.setContext||!t?e:u9(r,e,t,n)}function u9(r,e,t,n){const i=r._chart.getContext(),a=KT(r.options),{_datasetIndex:l,options:{spanGaps:c}}=r,h=t.length,d=[];let g=a,_=e[0].start,w=_;function S(T,M,k,L){const q=c?-1:1;if(T!==M){for(T+=h;t[T%h].skip;)T-=q;for(;t[M%h].skip;)M+=q;T%h!==M%h&&(d.push({start:T%h,end:M%h,loop:k,style:L}),g=L,_=M%h)}}for(const T of e){_=c?_:T.start;let M=t[_%h],k;for(w=_+1;w<=T.end;w++){const L=t[w%h];k=KT(n.setContext(Lu(i,{type:"segment",p0:M,p1:L,p0DataIndex:(w-1)%h,p1DataIndex:w%h,datasetIndex:l}))),c9(k,g)&&S(_,w-1,T.loop,g),M=L,g=k}_<w-1&&S(_,w-1,T.loop,g)}return d}function KT(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function c9(r,e){if(!e)return!1;const t=[],n=function(i,a){return Y0(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function Sp(r,e,t){return r.options.clip?r[t]:e[t]}function h9(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:Sp(t,e,"left"),right:Sp(t,e,"right"),top:Sp(n,e,"top"),bottom:Sp(n,e,"bottom")}:e}function f9(r,e){const t=e._clip;if(t.disabled)return!1;const n=h9(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const a=t.listeners[i],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=ck.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $a=new d9;const GT="transparent",p9={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=VT(r||GT),i=n.valid&&VT(e||GT);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class m9{constructor(e,t,n,i){const a=t[n];i=wp([e.to,i,a,e.from]);const l=wp([e.from,a,i]);this._active=!0,this._fn=e.fn||p9[e.type||typeof l],this._easing=bf[e.easing]||bf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=wp([e.to,t,i,e.from]),this._from=wp([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||t<n),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=a;return}h=t/n%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(a,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Sk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Gt(e))return;const t=Object.keys(Hn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Gt(a))return;const l={};for(const c of t)l[c]=a[c];(mr(a.properties)&&a.properties||[i]).forEach(c=>{(c===i||!n.has(c))&&n.set(c,l)})})}_animateOptions(e,t){const n=t.options,i=y9(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&g9(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[d];let _=a[d];const w=n.get(d);if(_)if(w&&_.active()){_.update(w,g,c);continue}else _.cancel();if(!w||!w.duration){e[d]=g;continue}a[d]=_=new m9(w,e,d,g),i.push(_)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return $a.add(this._chart,n),!0}}function g9(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function y9(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function QT(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function v9(r,e,t){if(t===!1)return!1;const n=QT(r,t),i=QT(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function _9(r){let e,t,n,i;return Gt(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function Tk(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function $T(r,e,t,n={}){const i=r.keys,a=n.mode==="single";let l,c,h,d;if(e===null)return;let g=!1;for(l=0,c=i.length;l<c;++l){if(h=+i[l],h===t){if(g=!0,n.all)continue;break}d=r.values[h],ds(d)&&(a||e===0||Yc(e)===Yc(d))&&(e+=d)}return!g&&!n.all?0:e}function b9(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",l=Object.keys(r),c=new Array(l.length);let h,d,g;for(h=0,d=l.length;h<d;++h)g=l[h],c[h]={[i]:g,[a]:r[g]};return c}function Vv(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function w9(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function E9(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function x9(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function XT(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function ZT(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=n,h=a.axis,d=l.axis,g=w9(a,l,n),_=e.length;let w;for(let S=0;S<_;++S){const T=e[S],{[h]:M,[d]:k}=T,L=T._stacks||(T._stacks={});w=L[d]=x9(i,g,M),w[c]=k,w._top=XT(w,l,!0,n.type),w._bottom=XT(w,l,!1,n.type);const q=w._visualValues||(w._visualValues={});q[c]=k}}function Bv(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function S9(r,e){return Lu(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T9(r,e,t){return Lu(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Xh(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t],a[n]._visualValues!==void 0&&a[n]._visualValues[t]!==void 0&&delete a[n]._visualValues[t]}}}const Uv=r=>r==="reset"||r==="none",JT=(r,e)=>e?r:Object.assign({},r),D9=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:Tk(t,!0),values:null};class xf{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Vv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(_,w,S,T)=>_==="x"?w:_==="r"?T:S,a=t.xAxisID=Ft(n.xAxisID,Bv(e,"x")),l=t.yAxisID=Ft(n.yAxisID,Bv(e,"y")),c=t.rAxisID=Ft(n.rAxisID,Bv(e,"r")),h=t.indexAxis,d=t.iAxisID=i(h,a,l,c),g=t.vAxisID=i(h,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PT(this._data,this),e._stacked&&Xh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Gt(t)){const i=this._cachedMeta;this._data=b9(t,i)}else if(n!==t){if(n){PT(n,this);const i=this._cachedMeta;Xh(i),i._parsed=[]}t&&Object.isExtensible(t)&&rU(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=Vv(t.vScale,t),t.stack!==n.stack&&(i=!0,Xh(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&(ZT(this,t._parsed),t._stacked=Vv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:l}=n,c=a.axis;let h=e===0&&t===i.length?!0:n._sorted,d=e>0&&n._parsed[e-1],g,_,w;if(this._parsing===!1)n._parsed=i,n._sorted=!0,w=i;else{mr(i[e])?w=this.parseArrayData(n,i,e,t):Gt(i[e])?w=this.parseObjectData(n,i,e,t):w=this.parsePrimitiveData(n,i,e,t);const S=()=>_[c]===null||d&&_[c]<d[c];for(g=0;g<t;++g)n._parsed[g+e]=_=w[g],h&&(S()&&(h=!1),d=_);n._sorted=h}l&&ZT(this,w)}parsePrimitiveData(e,t,n,i){const{iScale:a,vScale:l}=e,c=a.axis,h=l.axis,d=a.getLabels(),g=a===l,_=new Array(i);let w,S,T;for(w=0,S=i;w<S;++w)T=w+n,_[w]={[c]:g||a.parse(d[T],T),[h]:l.parse(t[T],T)};return _}parseArrayData(e,t,n,i){const{xScale:a,yScale:l}=e,c=new Array(i);let h,d,g,_;for(h=0,d=i;h<d;++h)g=h+n,_=t[g],c[h]={x:a.parse(_[0],g),y:l.parse(_[1],g)};return c}parseObjectData(e,t,n,i){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(i);let g,_,w,S;for(g=0,_=i;g<_;++g)w=g+n,S=t[w],d[g]={x:a.parse(Om(S,c),w),y:l.parse(Om(S,h),w)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:Tk(i,!0),values:t._stacks[e.axis]._visualValues};return $T(c,l,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const a=n[t.axis];let l=a===null?NaN:a;const c=i&&n._stacks[t.axis];i&&c&&(i.values=c,l=$T(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,l=i.length,c=this._getOtherScale(e),h=D9(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=E9(c);let w,S;function T(){S=i[w];const M=S[c.axis];return!ds(S[e.axis])||g>M||_<M}for(w=0;w<l&&!(!T()&&(this.updateRangeFromParsed(d,e,S,h),a));++w);if(a){for(w=l-1;w>=0;--w)if(!T()){this.updateRangeFromParsed(d,e,S,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],ds(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=_9(Ft(this.options.clip,v9(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||i.length-c,d=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(e,a,c,h),g=c;g<c+h;++g){const _=i[g];_.hidden||(_.active&&d?l.push(_):_.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=T9(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=S9(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],h=this.enableOptionSharing&&Pm(n);if(c)return JT(c,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),_=i?[`${e}Hover`,"hover",e,""]:[e,""],w=d.getOptionScopes(this.getDataset(),g),S=Object.keys(Hn.elements[e]),T=()=>this.getContext(n,i,t),M=d.resolveNamedOptions(w,S,T,_);return M.$shared&&(M.$shared=h,a[l]=Object.freeze(JT(M,h))),M}_resolveAnimations(e,t,n){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let h;if(i.options.animation!==!1){const g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,t),w=g.getOptionScopes(this.getDataset(),_);h=g.createResolver(w,this.getContext(e,n,t))}const d=new Sk(i,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Uv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(n),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:l}}updateElement(e,t,n,i){Uv(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Uv(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const i=n.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){const i=this._cachedMeta,a=i.data,l=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=l;c--)d[c]=d[c-t]};for(h(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Xh(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Me(xf,"defaults",{}),Me(xf,"datasetElementType",null),Me(xf,"dataElementType",null);class Gp extends xf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:c,count:h}=oU(t,i,l);this._drawStart=c,this._drawCount=h,lU(t)&&(c=0,h=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:d},e),this.updateElements(i,c,h,e)}updateElements(e,t,n,i){const a=i==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(t,i),w=l.axis,S=c.axis,{spanGaps:T,segment:M}=this.options,k=Vf(T)?T:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||a||i==="none",q=t+n,H=e.length;let se=t>0&&this.getParsed(t-1);for(let X=0;X<H;++X){const de=e[X],V=L?de:{};if(X<t||X>=q){V.skip=!0;continue}const I=this.getParsed(X),N=mn(I[S]),U=V[w]=l.getPixelForValue(I[w],X),z=V[S]=a||N?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,I,h):I[S],X);V.skip=isNaN(U)||isNaN(z)||N,V.stop=X>0&&Math.abs(I[w]-se[w])>k,M&&(V.parsed=I,V.raw=d.data[X]),_&&(V.options=g||this.resolveDataElementOptions(X,de.active?"active":i)),L||this.updateElement(de,X,V,i),se=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Me(Gp,"id","line"),Me(Gp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Me(Gp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function su(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Z0{constructor(e){Me(this,"options");this.options=e||{}}static override(e){Object.assign(Z0.prototype,e)}init(){}formats(){return su()}parse(){return su()}format(){return su()}add(){return su()}diff(){return su()}startOf(){return su()}endOf(){return su()}}var A9={_date:Z0};function C9(r,e,t,n){const{controller:i,data:a,_sorted:l}=r,c=i._cachedMeta.iScale,h=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const d=c._reversePixels?tU:pu;if(n){if(i._sharedOptions){const g=a[0],_=typeof g.getRange=="function"&&g.getRange(e);if(_){const w=d(a,e,t-_),S=d(a,e,t+_);return{lo:w.lo,hi:S.hi}}}}else{const g=d(a,e,t);if(h){const{vScale:_}=i._cachedMeta,{_parsed:w}=r,S=w.slice(0,g.lo+1).reverse().findIndex(M=>!mn(M[_.axis]));g.lo-=Math.max(0,S);const T=w.slice(g.hi).findIndex(M=>!mn(M[_.axis]));g.hi+=Math.max(0,T)}return g}}return{lo:0,hi:a.length-1}}function wg(r,e,t,n,i){const a=r.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=a.length;c<h;++c){const{index:d,data:g}=a[c],{lo:_,hi:w}=C9(a[c],e,l,i);for(let S=_;S<=w;++S){const T=g[S];T.skip||n(T,d,S)}}}function k9(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,l=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Fv(r,e,t,n,i){const a=[];return!i&&!r.isPointInArea(e)||wg(r,t,e,function(c,h,d){!i&&!Bf(c,r.chartArea,0)||c.inRange(e.x,e.y,n)&&a.push({element:c,datasetIndex:h,index:d})},!0),a}function R9(r,e,t,n){let i=[];function a(l,c,h){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],n),{angle:_}=Z5(l,{x:e.x,y:e.y});lk(_,d,g)&&i.push({element:l,datasetIndex:c,index:h})}return wg(r,t,e,a),i}function M9(r,e,t,n,i,a){let l=[];const c=k9(t);let h=Number.POSITIVE_INFINITY;function d(g,_,w){const S=g.inRange(e.x,e.y,i);if(n&&!S)return;const T=g.getCenterPoint(i);if(!(!!a||r.isPointInArea(T))&&!S)return;const k=c(e,T);k<h?(l=[{element:g,datasetIndex:_,index:w}],h=k):k===h&&l.push({element:g,datasetIndex:_,index:w})}return wg(r,t,e,d),l}function jv(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?R9(r,e,t,i):M9(r,e,t,n,i,a)}function e1(r,e,t,n,i){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return wg(r,t,e,(h,d,g)=>{h[l]&&h[l](e[t],i)&&(a.push({element:h,datasetIndex:d,index:g}),c=c||h.inRange(e.x,e.y,i))}),n&&!c?[]:a}var I9={modes:{index(r,e,t,n){const i=lu(e,r),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Fv(r,i,a,n,l):jv(r,i,a,!1,n,l),h=[];return c.length?(r.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,_=d.data[g];_&&!_.skip&&h.push({element:_,datasetIndex:d.index,index:g})}),h):[]},dataset(r,e,t,n){const i=lu(e,r),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Fv(r,i,a,n,l):jv(r,i,a,!1,n,l);if(c.length>0){const h=c[0].datasetIndex,d=r.getDatasetMeta(h).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:h,index:g})}return c},point(r,e,t,n){const i=lu(e,r),a=t.axis||"xy",l=t.includeInvisible||!1;return Fv(r,i,a,n,l)},nearest(r,e,t,n){const i=lu(e,r),a=t.axis||"xy",l=t.includeInvisible||!1;return jv(r,i,a,t.intersect,n,l)},x(r,e,t,n){const i=lu(e,r);return e1(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=lu(e,r);return e1(r,i,"y",t.intersect,n)}}};const Dk=["left","top","right","bottom"];function Zh(r,e){return r.filter(t=>t.pos===e)}function t1(r,e){return r.filter(t=>Dk.indexOf(t.pos)===-1&&t.box.axis===e)}function Jh(r,e){return r.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function O9(r){const e=[];let t,n,i,a,l,c;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:l,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:c});return e}function P9(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:a}=t;if(!n||!Dk.includes(i))continue;const l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function N9(r,e){const t=P9(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,l,c;for(a=0,l=r.length;a<l;++a){c=r[a];const{fullSize:h}=c.box,d=t[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*n:h&&e.availableWidth,c.height=i):(c.width=n,c.height=g?g*i:h&&e.availableHeight)}return t}function L9(r){const e=O9(r),t=Jh(e.filter(d=>d.box.fullSize),!0),n=Jh(Zh(e,"left"),!0),i=Jh(Zh(e,"right")),a=Jh(Zh(e,"top"),!0),l=Jh(Zh(e,"bottom")),c=t1(e,"x"),h=t1(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(h).concat(l).concat(c),chartArea:Zh(e,"chartArea"),vertical:n.concat(i).concat(h),horizontal:a.concat(l).concat(c)}}function n1(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function Ak(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function V9(r,e,t,n){const{pos:i,box:a}=t,l=r.maxPadding;if(!Gt(i)){t.size&&(r[i]-=t.size);const _=n[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?a.height:a.width),t.size=_.size/_.count,r[i]+=t.size}a.getPadding&&Ak(l,a.getPadding());const c=Math.max(0,e.outerWidth-n1(l,r,"left","right")),h=Math.max(0,e.outerHeight-n1(l,r,"top","bottom")),d=c!==r.w,g=h!==r.h;return r.w=c,r.h=h,t.horizontal?{same:d,other:g}:{same:g,other:d}}function B9(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function U9(r,e){const t=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return n(r?["left","right"]:["top","bottom"])}function cf(r,e,t,n){const i=[];let a,l,c,h,d,g;for(a=0,l=r.length,d=0;a<l;++a){c=r[a],h=c.box,h.update(c.width||e.w,c.height||e.h,U9(c.horizontal,e));const{same:_,other:w}=V9(e,t,c,n);d|=_&&i.length,g=g||w,h.fullSize||i.push(c)}return d&&cf(i,e,t,n)||g}function Tp(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function r1(r,e,t,n){const i=t.padding;let{x:a,y:l}=e;for(const c of r){const h=c.box,d=n[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const _=e.w*g,w=d.size||h.height;Pm(d.start)&&(l=d.start),h.fullSize?Tp(h,i.left,l,t.outerWidth-i.right-i.left,w):Tp(h,e.left+d.placed,l,_,w),d.start=l,d.placed+=_,l=h.bottom}else{const _=e.h*g,w=d.size||h.width;Pm(d.start)&&(a=d.start),h.fullSize?Tp(h,a,i.top,w,t.outerHeight-i.bottom-i.top):Tp(h,a,e.top+d.placed,w,_),d.start=a,d.placed+=_,a=h.right}}e.x=a,e.y=l}var cs={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=ps(r.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),c=L9(r.boxes),h=c.vertical,d=c.horizontal;sn(r.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const g=h.reduce((M,k)=>k.box.options&&k.box.options.display===!1?M:M+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),w=Object.assign({},i);Ak(w,ps(n));const S=Object.assign({maxPadding:w,w:a,h:l,x:i.left,y:i.top},i),T=N9(h.concat(d),_);cf(c.fullSize,S,_,T),cf(h,S,_,T),cf(d,S,_,T)&&cf(h,S,_,T),B9(S),r1(c.leftAndTop,S,_,T),S.x+=S.w,S.y+=S.h,r1(c.rightAndBottom,S,_,T),r.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},sn(c.chartArea,M=>{const k=M.box;Object.assign(k,r.chartArea),k.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Ck{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class F9 extends Ck{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qp="$chartjs",j9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},i1=r=>r===null||r==="";function z9(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[Qp]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",i1(i)){const a=YT(r,"width");a!==void 0&&(r.width=a)}if(i1(n))if(r.style.height==="")r.height=r.width/(e||2);else{const a=YT(r,"height");a!==void 0&&(r.height=a)}return r}const kk=ZU?{passive:!0}:!1;function H9(r,e,t){r&&r.addEventListener(e,t,kk)}function Y9(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,kk)}function q9(r,e){const t=j9[r.type]||r.type,{x:n,y:i}=lu(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Vm(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function W9(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Vm(c.addedNodes,n),l=l&&!Vm(c.removedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function K9(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Vm(c.removedNodes,n),l=l&&!Vm(c.addedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ff=new Map;let s1=0;function Rk(){const r=window.devicePixelRatio;r!==s1&&(s1=r,Ff.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function G9(r,e){Ff.size||window.addEventListener("resize",Rk),Ff.set(r,e)}function Q9(r){Ff.delete(r),Ff.size||window.removeEventListener("resize",Rk)}function $9(r,e,t){const n=r.canvas,i=n&&X0(n);if(!i)return;const a=hk((c,h)=>{const d=i.clientWidth;t(c,h),d<i.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||a(d,g)});return l.observe(i),G9(r,a),l}function zv(r,e,t){t&&t.disconnect(),e==="resize"&&Q9(r)}function X9(r,e,t){const n=r.canvas,i=hk(a=>{r.ctx!==null&&t(q9(a,r))},r);return H9(n,e,i),i}class Z9 extends Ck{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(z9(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Qp])return!1;const n=t[Qp].initial;["height","width"].forEach(a=>{const l=n[a];mn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[Qp],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:W9,detach:K9,resize:$9}[t]||X9;i[t]=l(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:zv,detach:zv,resize:zv}[t]||Y9)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return XU(e,t,n,i)}isAttached(e){const t=e&&X0(e);return!!(t&&t.isConnected)}}function J9(r){return!$0()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?F9:Z9}var Ip;let Vu=(Ip=class{constructor(){Me(this,"x");Me(this,"y");Me(this,"active",!1);Me(this,"options");Me(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Vf(this.x)&&Vf(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},Me(Ip,"defaults",{}),Me(Ip,"defaultRoutes"),Ip);function eF(r,e){const t=r.options.ticks,n=tF(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?rF(e):[],l=a.length,c=a[0],h=a[l-1],d=[];if(l>i)return iF(e,d,a,l/i),d;const g=nF(a,e,i);if(l>0){let _,w;const S=l>1?Math.round((h-c)/(l-1)):null;for(Dp(e,d,g,mn(S)?0:c-S,c),_=0,w=l-1;_<w;_++)Dp(e,d,g,a[_],a[_+1]);return Dp(e,d,g,h,mn(S)?e.length:h+S),d}return Dp(e,d,g),d}function tF(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function nF(r,e,t){const n=sF(r),i=e.length/t;if(!n)return Math.max(i,1);const a=K5(n);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>i)return h}return Math.max(i,1)}function rF(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function iF(r,e,t,n){let i=0,a=t[0],l;for(n=Math.ceil(n),l=0;l<r.length;l++)l===a&&(e.push(r[l]),i++,a=t[i*n])}function Dp(r,e,t,n,i){const a=Ft(n,0),l=Math.min(Ft(i,r.length),r.length);let c=0,h,d,g;for(t=Math.ceil(t),i&&(h=i-n,t=h/Math.floor(h/t)),g=a;g<0;)c++,g=Math.round(a+c*t);for(d=Math.max(a,0);d<l;d++)d===g&&(e.push(r[d]),c++,g=Math.round(a+c*t))}function sF(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const aF=r=>r==="left"?"right":r==="right"?"left":r,a1=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,o1=(r,e)=>Math.min(e||r,r);function l1(r,e){const t=[],n=r.length/e,i=r.length;let a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function oF(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,l=r._endPixel,c=1e-6;let h=r.getPixelForTick(i),d;if(!(t&&(n===1?d=Math.max(h-a,l-h):e===0?d=(r.getPixelForTick(1)-h)/2:d=(h-r.getPixelForTick(i-1))/2,h+=i<e?d:-d,h<a-c||h>l+c)))return h}function lF(r,e){sn(r,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function ef(r){return r.drawTicks?r.tickLength:0}function u1(r,e){if(!r.display)return 0;const t=Yr(r.font,e),n=ps(r.padding);return(mr(r.text)?r.text.length:1)*t.lineHeight+n.height}function uF(r,e){return Lu(r,{scale:e,type:"scale"})}function cF(r,e,t){return Lu(r,{tick:t,index:e,type:"tick"})}function hF(r,e,t){let n=H0(r);return(t&&e!=="right"||!t&&e==="right")&&(n=aF(n)),n}function fF(r,e,t,n){const{top:i,left:a,bottom:l,right:c,chart:h}=r,{chartArea:d,scales:g}=h;let _=0,w,S,T;const M=l-i,k=c-a;if(r.isHorizontal()){if(S=Fr(n,a,c),Gt(t)){const L=Object.keys(t)[0],q=t[L];T=g[L].getPixelForValue(q)+M-e}else t==="center"?T=(d.bottom+d.top)/2+M-e:T=a1(r,t,e);w=c-a}else{if(Gt(t)){const L=Object.keys(t)[0],q=t[L];S=g[L].getPixelForValue(q)-k+e}else t==="center"?S=(d.left+d.right)/2-k+e:S=a1(r,t,e);T=Fr(n,l,i),_=t==="left"?-Ns:Ns}return{titleX:S,titleY:T,maxWidth:w,rotation:_}}class nh extends Vu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=ra(e,Number.POSITIVE_INFINITY),t=ra(t,Number.NEGATIVE_INFINITY),n=ra(n,Number.POSITIVE_INFINITY),i=ra(i,Number.NEGATIVE_INFINITY),{min:ra(e,n),max:ra(t,i),minDefined:ds(e),maxDefined:ds(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:n};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(n=Math.max(n,l.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:ra(t,ra(n,t)),max:ra(n,ra(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yn(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kU(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?l1(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=eF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yn(this.options.afterUpdate,[this])}beforeSetDimensions(){yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=yn(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=o1(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,c,h,d;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),_=g.widest.width,w=g.highest.height,S=us(this.chart.width-_,0,this.maxWidth);c=e.offset?this.maxWidth/n:S/(n-1),_+6>c&&(c=S/(n-(e.offset?.5:1)),h=this.maxHeight-ef(e.grid)-t.padding-u1(e.title,this.chart.options.font),d=Math.sqrt(_*_+w*w),l=X5(Math.min(Math.asin(us((g.highest.height+6)/c,-1,1)),Math.asin(us(h/d,-1,1))-Math.asin(us(w/d,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=u1(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=ef(a)+h):(e.height=this.maxHeight,e.width=ef(a)+h),n.display&&this.ticks.length){const{first:d,last:g,widest:_,highest:w}=this._getLabelSizes(),S=n.padding*2,T=du(this.labelRotation),M=Math.cos(T),k=Math.sin(T);if(c){const L=n.mirror?0:k*_.width+M*w.height;e.height=Math.min(this.maxHeight,e.height+L+S)}else{const L=n.mirror?0:M*_.width+k*w.height;e.width=Math.min(this.maxWidth,e.width+L+S)}this._calculatePadding(d,g,k,M)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,S=0;h?d?(w=i*e.width,S=n*t.height):(w=n*e.height,S=i*t.width):a==="start"?S=t.width:a==="end"?w=e.width:a!=="inner"&&(w=e.width/2,S=t.width/2),this.paddingLeft=Math.max((w-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-_+l)*this.width/(this.width-_),0)}else{let g=t.height/2,_=e.height/2;a==="start"?(g=0,_=e.height):a==="end"&&(g=t.height,_=0),this.paddingTop=g+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)mn(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=l1(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(t/o1(t,n));let d=0,g=0,_,w,S,T,M,k,L,q,H,se,X;for(_=0;_<t;_+=h){if(T=e[_].label,M=this._resolveTickFontOptions(_),i.font=k=M.string,L=a[k]=a[k]||{data:{},gc:[]},q=M.lineHeight,H=se=0,!mn(T)&&!mr(T))H=UT(i,L.data,L.gc,H,T),se=q;else if(mr(T))for(w=0,S=T.length;w<S;++w)X=T[w],!mn(X)&&!mr(X)&&(H=UT(i,L.data,L.gc,H,X),se+=q);l.push(H),c.push(se),d=Math.max(H,d),g=Math.max(se,g)}lF(a,t);const de=l.indexOf(d),V=c.indexOf(g),I=N=>({width:l[N]||0,height:c[N]||0});return{first:I(0),last:I(t-1),widest:I(de),highest:I(V),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return eU(this._alignToPixels?iu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=cF(this.getContext(),e,n))}return this.$context||(this.$context=uF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=du(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*n>c*i?c/n:h/i:h*i<c*n?h/n:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:l,border:c}=i,h=a.offset,d=this.isHorizontal(),_=this.ticks.length+(h?1:0),w=ef(a),S=[],T=c.setContext(this.getContext()),M=T.display?T.width:0,k=M/2,L=function(ie){return iu(n,ie,M)};let q,H,se,X,de,V,I,N,U,z,Y,j;if(l==="top")q=L(this.bottom),V=this.bottom-w,N=q-k,z=L(e.top)+k,j=e.bottom;else if(l==="bottom")q=L(this.top),z=e.top,j=L(e.bottom)-k,V=q+k,N=this.top+w;else if(l==="left")q=L(this.right),de=this.right-w,I=q-k,U=L(e.left)+k,Y=e.right;else if(l==="right")q=L(this.left),U=e.left,Y=L(e.right)-k,de=q+k,I=this.left+w;else if(t==="x"){if(l==="center")q=L((e.top+e.bottom)/2+.5);else if(Gt(l)){const ie=Object.keys(l)[0],we=l[ie];q=L(this.chart.scales[ie].getPixelForValue(we))}z=e.top,j=e.bottom,V=q+k,N=V+w}else if(t==="y"){if(l==="center")q=L((e.left+e.right)/2);else if(Gt(l)){const ie=Object.keys(l)[0],we=l[ie];q=L(this.chart.scales[ie].getPixelForValue(we))}de=q-k,I=de-w,U=e.left,Y=e.right}const Xe=Ft(i.ticks.maxTicksLimit,_),He=Math.max(1,Math.ceil(_/Xe));for(H=0;H<_;H+=He){const ie=this.getContext(H),we=a.setContext(ie),Ce=c.setContext(ie),Qe=we.lineWidth,G=we.color,xe=Ce.dash||[],Ue=Ce.dashOffset,Ie=we.tickWidth,Ge=we.tickColor,ot=we.tickBorderDash||[],Ee=we.tickBorderDashOffset;se=oF(this,H,h),se!==void 0&&(X=iu(n,se,Qe),d?de=I=U=Y=X:V=N=z=j=X,S.push({tx1:de,ty1:V,tx2:I,ty2:N,x1:U,y1:z,x2:Y,y2:j,width:Qe,color:G,borderDash:xe,borderDashOffset:Ue,tickWidth:Ie,tickColor:Ge,tickBorderDash:ot,tickBorderDashOffset:Ee}))}return this._ticksLength=_,this._borderValue=q,S}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:a}=n,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:g,mirror:_}=a,w=ef(n.grid),S=w+g,T=_?-g:S,M=-du(this.labelRotation),k=[];let L,q,H,se,X,de,V,I,N,U,z,Y,j="middle";if(i==="top")de=this.bottom-T,V=this._getXAxisLabelAlignment();else if(i==="bottom")de=this.top+T,V=this._getXAxisLabelAlignment();else if(i==="left"){const He=this._getYAxisLabelAlignment(w);V=He.textAlign,X=He.x}else if(i==="right"){const He=this._getYAxisLabelAlignment(w);V=He.textAlign,X=He.x}else if(t==="x"){if(i==="center")de=(e.top+e.bottom)/2+S;else if(Gt(i)){const He=Object.keys(i)[0],ie=i[He];de=this.chart.scales[He].getPixelForValue(ie)+S}V=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")X=(e.left+e.right)/2-S;else if(Gt(i)){const He=Object.keys(i)[0],ie=i[He];X=this.chart.scales[He].getPixelForValue(ie)}V=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(h==="start"?j="top":h==="end"&&(j="bottom"));const Xe=this._getLabelSizes();for(L=0,q=c.length;L<q;++L){H=c[L],se=H.label;const He=a.setContext(this.getContext(L));I=this.getPixelForTick(L)+a.labelOffset,N=this._resolveTickFontOptions(L),U=N.lineHeight,z=mr(se)?se.length:1;const ie=z/2,we=He.color,Ce=He.textStrokeColor,Qe=He.textStrokeWidth;let G=V;l?(X=I,V==="inner"&&(L===q-1?G=this.options.reverse?"left":"right":L===0?G=this.options.reverse?"right":"left":G="center"),i==="top"?d==="near"||M!==0?Y=-z*U+U/2:d==="center"?Y=-Xe.highest.height/2-ie*U+U:Y=-Xe.highest.height+U/2:d==="near"||M!==0?Y=U/2:d==="center"?Y=Xe.highest.height/2-ie*U:Y=Xe.highest.height-z*U,_&&(Y*=-1),M!==0&&!He.showLabelBackdrop&&(X+=U/2*Math.sin(M))):(de=I,Y=(1-z)*U/2);let xe;if(He.showLabelBackdrop){const Ue=ps(He.backdropPadding),Ie=Xe.heights[L],Ge=Xe.widths[L];let ot=Y-Ue.top,Ee=0-Ue.left;switch(j){case"middle":ot-=Ie/2;break;case"bottom":ot-=Ie;break}switch(V){case"center":Ee-=Ge/2;break;case"right":Ee-=Ge;break;case"inner":L===q-1?Ee-=Ge:L>0&&(Ee-=Ge/2);break}xe={left:Ee,top:ot,width:Ge+Ue.width,height:Ie+Ue.height,color:He.backdropColor}}k.push({label:se,font:N,textOffset:Y,options:{rotation:M,color:we,strokeColor:Ce,strokeWidth:Qe,textAlign:G,textBaseline:j,translation:[X,de],backdrop:xe}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-du(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,h=l.widest.width;let d,g;return t==="left"?i?(g=this.right+a,n==="near"?d="left":n==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-c,n==="near"?d="right":n==="center"?(d="center",g-=h/2):(d="left",g=this.left)):t==="right"?i?(g=this.left+a,n==="near"?d="right":n==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+c,n==="near"?d="left":n==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(h,d,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const h=i[a];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),l=n.display?a.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,_,w;this.isHorizontal()?(d=iu(e,this.left,l)-l/2,g=iu(e,this.right,c)+c/2,_=w=h):(_=iu(e,this.top,l)-l/2,w=iu(e,this.bottom,c)+c/2,d=g=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(d,_),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&q0(n,i);const a=this.getLabelItems(e);for(const l of a){const c=l.options,h=l.font,d=l.label,g=l.textOffset;Uf(n,d,0,g,h,c)}i&&W0(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const a=Yr(n.font),l=ps(n.padding),c=n.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Gt(t)?(h+=l.bottom,mr(n.text)&&(h+=a.lineHeight*(n.text.length-1))):h+=l.top;const{titleX:d,titleY:g,maxWidth:_,rotation:w}=fF(this,h,t,c);Uf(e,n.text,0,0,a,{color:n.color,maxWidth:_,rotation:w,textAlign:hF(c,t,i),textBaseline:"middle",translation:[d,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ft(e.grid&&e.grid.z,-1),i=Ft(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nh.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[n]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Yr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ap{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;mF(t)&&(n=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,dF(e,l,n),this.override&&Hn.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Hn[i]&&(delete Hn[i][n],this.override&&delete Cu[n])}}function dF(r,e,t){const n=Lf(Object.create(null),[t?Hn.get(t):{},Hn.get(e),r.defaults]);Hn.set(e,n),r.defaultRoutes&&pF(e,r.defaultRoutes),r.descriptors&&Hn.describe(e,r.descriptors)}function pF(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");Hn.route(a,i,h,c)})}function mF(r){return"id"in r&&"defaults"in r}class gF{constructor(){this.controllers=new Ap(xf,"datasets",!0),this.elements=new Ap(Vu,"elements"),this.plugins=new Ap(Object,"plugins"),this.scales=new Ap(nh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):sn(i,l=>{const c=n||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,n){const i=j0(e);yn(n["before"+i],[],n),t[e](n),yn(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var sa=new gF;class yF{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,n,i){i=i||{};for(const a of e){const l=a.plugin,c=l[n],h=[t,i,a.options];if(yn(c,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Ft(n.options&&n.options.plugins,{}),a=vF(n);return i===!1&&!t?[]:bF(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function vF(r){const e={},t=[],n=Object.keys(sa.plugins.items);for(let a=0;a<n.length;a++)t.push(sa.getPlugin(n[a]));const i=r.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function _F(r,e){return!e&&r===!1?null:r===!0?{}:r}function bF(r,{plugins:e,localIds:t},n,i){const a=[],l=r.getContext();for(const c of e){const h=c.id,d=_F(n[h],i);d!==null&&a.push({plugin:c,options:wF(r.config,{plugin:c,local:t[h]},d,l)})}return a}function wF(r,{plugin:e,local:t},n,i){const a=r.pluginScopeKeys(e),l=r.getOptionScopes(n,a);return t&&e.defaults&&l.push(e.defaults),r.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function C_(r,e){const t=Hn.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function EF(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function xF(r,e){return r===e?"_index_":"_value_"}function c1(r){if(r==="x"||r==="y"||r==="r")return r}function SF(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function k_(r,...e){if(c1(r))return r;for(const t of e){const n=t.axis||SF(t.position)||r.length>1&&c1(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function h1(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function TF(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return h1(r,"x",t[0])||h1(r,"y",t[0])}return{}}function DF(r,e){const t=Cu[r.type]||{scales:{}},n=e.scales||{},i=C_(r.type,e),a=Object.create(null);return Object.keys(n).forEach(l=>{const c=n[l];if(!Gt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=k_(l,c,TF(l,r),Hn.scales[c.type]),d=xF(h,i),g=t.scales||{};a[l]=vf(Object.create(null),[{axis:h},c,g[h],g[d]])}),r.data.datasets.forEach(l=>{const c=l.type||r.type,h=l.indexAxis||C_(c,e),g=(Cu[c]||{}).scales||{};Object.keys(g).forEach(_=>{const w=EF(_,h),S=l[w+"AxisID"]||w;a[S]=a[S]||Object.create(null),vf(a[S],[{axis:w},n[S],g[_]])})}),Object.keys(a).forEach(l=>{const c=a[l];vf(c,[Hn.scales[c.type],Hn.scale])}),a}function Mk(r){const e=r.options||(r.options={});e.plugins=Ft(e.plugins,{}),e.scales=DF(r,e)}function Ik(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function AF(r){return r=r||{},r.data=Ik(r.data),Mk(r),r}const f1=new Map,Ok=new Set;function Cp(r,e){let t=f1.get(r);return t||(t=e(),f1.set(r,t),Ok.add(t)),t}const tf=(r,e,t)=>{const n=Om(e,t);n!==void 0&&r.add(n)};class CF{constructor(e){this._config=AF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ik(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Mk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Cp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Cp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Cp(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:a}=this,l=this._cachedScopes(e,n),c=l.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(_=>tf(h,e,_))),g.forEach(_=>tf(h,i,_)),g.forEach(_=>tf(h,Cu[a]||{},_)),g.forEach(_=>tf(h,Hn,_)),g.forEach(_=>tf(h,T_,_))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),Ok.has(t)&&l.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Cu[t]||{},Hn.datasets[t]||{},{type:t},Hn,T_]}resolveNamedOptions(e,t,n,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=d1(this._resolverCache,e,i);let h=l;if(RF(l,t)){a.$shared=!1,n=Rl(n)?n():n;const d=this.createResolver(e,n,c);h=qc(l,n,d)}for(const d of t)a[d]=h[d];return a}createResolver(e,t,n=[""],i){const{resolver:a}=d1(this._resolverCache,e,n);return Gt(t)?qc(a,t,void 0,i):a}}function d1(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let a=n.get(i);return a||(a={resolver:K0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},n.set(i,a)),a}const kF=r=>Gt(r)&&Object.getOwnPropertyNames(r).some(e=>Rl(r[e]));function RF(r,e){const{isScriptable:t,isIndexable:n}=gk(r);for(const i of e){const a=t(i),l=n(i),c=(l||a)&&r[i];if(a&&(Rl(c)||kF(c))||l&&mr(c))return!0}return!1}var MF="4.5.0";const IF=["top","bottom","left","right","chartArea"];function p1(r,e){return r==="top"||r==="bottom"||IF.indexOf(r)===-1&&e==="x"}function m1(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function g1(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yn(t&&t.onComplete,[r],e)}function OF(r){const e=r.chart,t=e.options.animation;yn(t&&t.onProgress,[r],e)}function Pk(r){return $0()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const $p={},y1=r=>{const e=Pk(r);return Object.values($p).filter(t=>t.canvas===e).pop()};function PF(r,e,t){const n=Object.keys(r);for(const i of n){const a=+i;if(a>=e){const l=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=l)}}}function NF(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}var sl;let Eg=(sl=class{static register(...e){sa.add(...e),v1()}static unregister(...e){sa.remove(...e),v1()}constructor(e,t){const n=this.config=new CF(t),i=Pk(e),a=y1(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||J9(i)),this.platform.updateConfig(n);const c=this.platform.acquireContext(i,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,g=h&&h.width;if(this.id=B5(),this.ctx=c,this.canvas=h,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sU(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],$p[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}$a.listen(this,"complete",g1),$a.listen(this,"progress",OF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return mn(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():HT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FT(this.canvas,this.ctx),this}stop(){return $a.stop(this),this}resize(e,t){$a.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,HT(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),yn(n.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};sn(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],h=k_(l,c),d=h==="r",g=h==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),sn(a,l=>{const c=l.options,h=c.id,d=k_(h,c),g=Ft(c.type,l.dtype);(c.position===void 0||p1(c.position,d)!==p1(l.dposition))&&(c.position=l.dposition),i[h]=!0;let _=null;if(h in n&&n[h].type===g)_=n[h];else{const w=sa.getScale(g);_=new w({id:h,type:g,ctx:this.ctx,chart:this}),n[_.id]=_}_.init(c,e)}),sn(i,(l,c)=>{l||delete n[c]}),sn(n,l=>{cs.configure(this,l,l.options),cs.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(m1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const a=t[n];let l=this.getDatasetMeta(n);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=c,l.indexAxis=a.indexAxis||C_(c,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const h=sa.getController(c),{datasetElementType:d,dataElementType:g}=Hn.datasets[c];Object.assign(h,{dataElementType:sa.getElement(g),datasetElementType:d&&sa.getElement(d)}),l.controller=new h(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){sn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:_}=this.getDatasetMeta(d),w=!i&&a.indexOf(_)===-1;_.buildOrUpdateElements(w),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),i||sn(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(m1("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){sn(this.scales,e=>{cs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!RT(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of t){const l=n==="_removeElements"?-a:a;PF(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!RT(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cs.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],sn(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Rl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($a.has(this)?this.attached&&!$a.running(this)&&$a.start(this):(this.draw(),g1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=f9(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&q0(t,i),e.controller.draw(),i&&W0(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Bf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const a=I9.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Lu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);Pm(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(a,{visible:n}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$a.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),FT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete $p[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};sn(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},i=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){sn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},sn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let a,l,c,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Mm(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,a=(h,d)=>h.filter(g=>!d.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),l=a(t,e),c=n?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:a}=this,l=t,c=this._getActiveElements(e,i,n,l),h=Y5(e),d=NF(e,this._lastEvent,n,h);n&&(this._lastEvent=null,yn(a.onHover,[e,c,this],this),h&&yn(a.onClick,[e,c,this],this));const g=!Mm(c,i);return(g||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=d,g}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},Me(sl,"defaults",Hn),Me(sl,"instances",$p),Me(sl,"overrides",Cu),Me(sl,"registry",sa),Me(sl,"version",MF),Me(sl,"getChart",y1),sl);function v1(){return sn(Eg.instances,r=>r._plugins.invalidate())}function Nk(r,e,t=e){r.lineCap=Ft(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Ft(t.borderDash,e.borderDash)),r.lineDashOffset=Ft(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Ft(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Ft(t.borderWidth,e.borderWidth),r.strokeStyle=Ft(t.borderColor,e.borderColor)}function LF(r,e,t){r.lineTo(t.x,t.y)}function VF(r){return r.stepped?_U:r.tension||r.cubicInterpolationMode==="monotone"?bU:LF}function Lk(r,e,t={}){const n=r.length,{start:i=0,end:a=n-1}=t,{start:l,end:c}=e,h=Math.max(i,l),d=Math.min(a,c),g=i<l&&a<l||i>c&&a>c;return{count:n,start:h,loop:e.loop,ilen:d<h&&!g?n+d-h:d-h}}function BF(r,e,t,n){const{points:i,options:a}=e,{count:l,start:c,loop:h,ilen:d}=Lk(i,t,n),g=VF(a);let{move:_=!0,reverse:w}=n||{},S,T,M;for(S=0;S<=d;++S)T=i[(c+(w?d-S:S))%l],!T.skip&&(_?(r.moveTo(T.x,T.y),_=!1):g(r,M,T,w,a.stepped),M=T);return h&&(T=i[(c+(w?d:0))%l],g(r,M,T,w,a.stepped)),!!h}function UF(r,e,t,n){const i=e.points,{count:a,start:l,ilen:c}=Lk(i,t,n),{move:h=!0,reverse:d}=n||{};let g=0,_=0,w,S,T,M,k,L;const q=se=>(l+(d?c-se:se))%a,H=()=>{M!==k&&(r.lineTo(g,k),r.lineTo(g,M),r.lineTo(g,L))};for(h&&(S=i[q(0)],r.moveTo(S.x,S.y)),w=0;w<=c;++w){if(S=i[q(w)],S.skip)continue;const se=S.x,X=S.y,de=se|0;de===T?(X<M?M=X:X>k&&(k=X),g=(_*g+se)/++_):(H(),r.lineTo(se,X),T=de,_=0,M=k=X),L=X}H()}function R_(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?UF:BF}function FF(r){return r.stepped?JU:r.tension||r.cubicInterpolationMode==="monotone"?e9:uu}function jF(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),Nk(r,e.options),r.stroke(i)}function zF(r,e,t,n){const{segments:i,options:a}=e,l=R_(e);for(const c of i)Nk(r,a,c.style),r.beginPath(),l(r,e,c,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const HF=typeof Path2D=="function";function YF(r,e,t,n){HF&&!e.options.segment?jF(r,e,t,n):zF(r,e,t,n)}class hf extends Vu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;qU(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=l9(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],a=this.points,l=s9(this,{property:t,start:i,end:i});if(!l.length)return;const c=[],h=FF(n);let d,g;for(d=0,g=l.length;d<g;++d){const{start:_,end:w}=l[d],S=a[_],T=a[w];if(S===T){c.push(S);continue}const M=Math.abs((i-S[t])/(T[t]-S[t])),k=h(S,T,M,n.stepped);k[t]=e[t],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,t,n){return R_(this)(e,this,t,n)}path(e,t,n){const i=this.segments,a=R_(this);let l=this._loop;t=t||0,n=n||this.points.length-t;for(const c of i)l&=a(e,this,c,{start:t,end:t+n-1});return!!l}draw(e,t,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),YF(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Me(hf,"id","line"),Me(hf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Me(hf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Me(hf,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _1(r,e,t,n){const i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}class Xp extends Vu{constructor(t){super();Me(this,"parsed");Me(this,"skip");Me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(n-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,n){return _1(this,t,"x",n)}inYRange(t,n){return _1(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Bf(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,D_(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Me(Xp,"id","point"),Me(Xp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Me(Xp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const b1=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},qF=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class w1 extends Vu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Yr(n.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=b1(n,a);let d,g;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,a,c,h)+10):(g=this.maxHeight,d=this._fitCols(l,i,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],g=i+c;let _=e;a.textAlign="left",a.textBaseline="middle";let w=-1,S=-g;return this.legendItems.forEach((T,M)=>{const k=n+t/2+a.measureText(T.text).width;(M===0||d[d.length-1]+k+2*c>l)&&(_+=g,d[d.length-(M>0?0:1)]=0,S+=g,w++),h[M]={left:0,top:S,row:w,width:k,height:i},d[d.length-1]+=k+c}),_}_fitCols(e,t,n,i){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-e;let _=c,w=0,S=0,T=0,M=0;return this.legendItems.forEach((k,L)=>{const{itemWidth:q,itemHeight:H}=WF(n,t,a,k,i);L>0&&S+H+2*c>g&&(_+=w+c,d.push({width:w,height:S}),T+=w+c,M++,w=S=0),h[L]={left:T,top:S,col:M,width:q,height:H},w=Math.max(w,q),S+=H+c}),_+=w,d.push({width:w,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,l=Sc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Fr(n,this.left+i,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=Fr(n,this.left+i,this.right-this.lineWidths[c])),d.top+=this.top+e+i,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+i}else{let c=0,h=Fr(n,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=Fr(n,this.top+e+i,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;q0(e,this),this._draw(),W0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:l}=e,c=Hn.color,h=Sc(e.rtl,this.left,this.width),d=Yr(l.font),{padding:g}=l,_=d.size,w=_/2;let S;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:T,boxHeight:M,itemHeight:k}=b1(l,_),L=function(de,V,I){if(isNaN(T)||T<=0||isNaN(M)||M<0)return;i.save();const N=Ft(I.lineWidth,1);if(i.fillStyle=Ft(I.fillStyle,c),i.lineCap=Ft(I.lineCap,"butt"),i.lineDashOffset=Ft(I.lineDashOffset,0),i.lineJoin=Ft(I.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=Ft(I.strokeStyle,c),i.setLineDash(Ft(I.lineDash,[])),l.usePointStyle){const U={radius:M*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:N},z=h.xPlus(de,T/2),Y=V+w;pk(i,U,z,Y,l.pointStyleWidth&&T)}else{const U=V+Math.max((_-M)/2,0),z=h.leftForLtr(de,T),Y=Ef(I.borderRadius);i.beginPath(),Object.values(Y).some(j=>j!==0)?A_(i,{x:z,y:U,w:T,h:M,radius:Y}):i.rect(z,U,T,M),i.fill(),N!==0&&i.stroke()}i.restore()},q=function(de,V,I){Uf(i,I.text,de,V+k/2,d,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},H=this.isHorizontal(),se=this._computeTitleHeight();H?S={x:Fr(a,this.left+g,this.right-n[0]),y:this.top+g+se,line:0}:S={x:this.left+g,y:Fr(a,this.top+se+g,this.bottom-t[0].height),line:0},wk(this.ctx,e.textDirection);const X=k+g;this.legendItems.forEach((de,V)=>{i.strokeStyle=de.fontColor,i.fillStyle=de.fontColor;const I=i.measureText(de.text).width,N=h.textAlign(de.textAlign||(de.textAlign=l.textAlign)),U=T+w+I;let z=S.x,Y=S.y;h.setWidth(this.width),H?V>0&&z+U+g>this.right&&(Y=S.y+=X,S.line++,z=S.x=Fr(a,this.left+g,this.right-n[S.line])):V>0&&Y+X>this.bottom&&(z=S.x=z+t[S.line].width+g,S.line++,Y=S.y=Fr(a,this.top+se+g,this.bottom-t[S.line].height));const j=h.x(z);if(L(j,Y,de),z=aU(N,z+T+w,H?z+U:this.right,e.rtl),q(h.x(z),Y,de),H)S.x+=U+g;else if(typeof de.text!="string"){const Xe=d.lineHeight;S.y+=Vk(de,Xe)+g}else S.y+=X}),Ek(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Yr(t.font),i=ps(t.padding);if(!t.display)return;const a=Sc(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=n.size/2,d=i.top+h;let g,_=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+d,_=Fr(e.align,_,this.right-w);else{const T=this.columnSizes.reduce((M,k)=>Math.max(M,k.height),0);g=d+Fr(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const S=Fr(c,_,_+w);l.textAlign=a.textAlign(H0(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=n.string,Uf(l,t.text,S,g,n)}_computeTitleHeight(){const e=this.options.title,t=Yr(e.font),n=ps(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(uf(e,this.left,this.right)&&uf(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],uf(e,i.left,i.left+i.width)&&uf(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!QF(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=qF(i,n);i&&!a&&yn(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&yn(t.onHover,[e,n,this],this)}else n&&yn(t.onClick,[e,n,this],this)}}function WF(r,e,t,n,i){const a=KF(n,r,e,t),l=GF(i,n,e.lineHeight);return{itemWidth:a,itemHeight:l}}function KF(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+n.measureText(i).width}function GF(r,e,t){let n=r;return typeof e.text!="string"&&(n=Vk(e,t)),n}function Vk(r,e){const t=r.text?r.text.length:0;return e*t}function QF(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var $F={id:"legend",_element:w1,start(r,e,t){const n=r.legend=new w1({ctx:r.ctx,options:t,chart:r});cs.configure(r,n,t),cs.addBox(r,n)},stop(r){cs.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;cs.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:l,borderRadius:c}}=r.legend.options;return r._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),g=ps(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class Bk extends Vu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=mr(n.text)?n.text.length:1;this._padding=ps(n.padding);const a=i*Yr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:a,options:l}=this,c=l.align;let h=0,d,g,_;return this.isHorizontal()?(g=Fr(c,n,a),_=t+e,d=a-n):(l.position==="left"?(g=n+e,_=Fr(c,i,t),h=gr*-.5):(g=a-e,_=Fr(c,t,i),h=gr*.5),d=i-t),{titleX:g,titleY:_,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Yr(t.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(a);Uf(e,t.text,0,0,n,{color:t.color,maxWidth:h,rotation:d,textAlign:H0(t.align),textBaseline:"middle",translation:[l,c]})}}function XF(r,e){const t=new Bk({ctx:r.ctx,options:e,chart:r});cs.configure(r,t,e),cs.addBox(r,t),r.titleBlock=t}var ZF={id:"title",_element:Bk,start(r,e,t){XF(r,t)},stop(r){const e=r.titleBlock;cs.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;cs.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ff={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,a=0;for(e=0,t=r.length;e<t;++e){const c=r[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();n.add(h.x),i+=h.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((c,h)=>c+h)/n.size,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=r.length;a<l;++a){const h=r[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=S_(e,d);g<i&&(i=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,n=h.y}return{x:t,y:n}}};function ia(r,e){return e&&(mr(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Xa(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function JF(r,e){const{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:l,value:c}=a.getLabelAndValue(i);return{chart:r,label:l,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:c,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function E1(r,e){const t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:l,boxHeight:c}=e,h=Yr(e.bodyFont),d=Yr(e.titleFont),g=Yr(e.footerFont),_=a.length,w=i.length,S=n.length,T=ps(e.padding);let M=T.height,k=0,L=n.reduce((se,X)=>se+X.before.length+X.lines.length+X.after.length,0);if(L+=r.beforeBody.length+r.afterBody.length,_&&(M+=_*d.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),L){const se=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;M+=S*se+(L-S)*h.lineHeight+(L-1)*e.bodySpacing}w&&(M+=e.footerMarginTop+w*g.lineHeight+(w-1)*e.footerSpacing);let q=0;const H=function(se){k=Math.max(k,t.measureText(se).width+q)};return t.save(),t.font=d.string,sn(r.title,H),t.font=h.string,sn(r.beforeBody.concat(r.afterBody),H),q=e.displayColors?l+2+e.boxPadding:0,sn(n,se=>{sn(se.before,H),sn(se.lines,H),sn(se.after,H)}),q=0,t.font=g.string,sn(r.footer,H),t.restore(),k+=T.width,{width:k,height:M}}function ej(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function tj(r,e,t,n){const{x:i,width:a}=n,l=t.caretSize+t.caretPadding;if(r==="left"&&i+a+l>e.width||r==="right"&&i-a-l<0)return!0}function nj(r,e,t,n){const{x:i,width:a}=t,{width:l,chartArea:{left:c,right:h}}=r;let d="center";return n==="center"?d=i<=(c+h)/2?"left":"right":i<=a/2?d="left":i>=l-a/2&&(d="right"),tj(d,r,e,t)&&(d="center"),d}function x1(r,e,t){const n=t.yAlign||e.yAlign||ej(r,t);return{xAlign:t.xAlign||e.xAlign||nj(r,e,t,n),yAlign:n}}function rj(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function ij(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function S1(r,e,t,n){const{caretSize:i,caretPadding:a,cornerRadius:l}=r,{xAlign:c,yAlign:h}=t,d=i+a,{topLeft:g,topRight:_,bottomLeft:w,bottomRight:S}=Ef(l);let T=rj(e,c);const M=ij(e,h,d);return h==="center"?c==="left"?T+=d:c==="right"&&(T-=d):c==="left"?T-=Math.max(g,w)+i:c==="right"&&(T+=Math.max(_,S)+i),{x:us(T,0,n.width-e.width),y:us(M,0,n.height-e.height)}}function kp(r,e,t){const n=ps(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function T1(r){return ia([],Xa(r))}function sj(r,e,t){return Lu(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function D1(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const Uk={beforeTitle:Qa,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Qa,beforeBody:Qa,beforeLabel:Qa,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return mn(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Qa,afterBody:Qa,beforeFooter:Qa,footer:Qa,afterFooter:Qa};function mi(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?Uk[e].call(t,n):i}class M_ extends Vu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new Sk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=sj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=mi(n,"beforeTitle",this,e),a=mi(n,"title",this,e),l=mi(n,"afterTitle",this,e);let c=[];return c=ia(c,Xa(i)),c=ia(c,Xa(a)),c=ia(c,Xa(l)),c}getBeforeBody(e,t){return T1(mi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return sn(e,a=>{const l={before:[],lines:[],after:[]},c=D1(n,a);ia(l.before,Xa(mi(c,"beforeLabel",this,a))),ia(l.lines,mi(c,"label",this,a)),ia(l.after,Xa(mi(c,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return T1(mi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=mi(n,"beforeFooter",this,e),a=mi(n,"footer",this,e),l=mi(n,"afterFooter",this,e);let c=[];return c=ia(c,Xa(i)),c=ia(c,Xa(a)),c=ia(c,Xa(l)),c}_createItems(e){const t=this._active,n=this.chart.data,i=[],a=[],l=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(JF(this.chart,t[h]));return e.filter&&(c=c.filter((g,_,w)=>e.filter(g,_,w,n))),e.itemSort&&(c=c.sort((g,_)=>e.itemSort(g,_,n))),sn(c,g=>{const _=D1(e.callbacks,g);i.push(mi(_,"labelColor",this,g)),a.push(mi(_,"labelPointStyle",this,g)),l.push(mi(_,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const c=ff[n.position].call(this,i,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const h=this._size=E1(this,n),d=Object.assign({},c,h),g=x1(this.chart,n,d),_=S1(n,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:_.x,y:_.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:c}=n,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:_}=Ef(c),{x:w,y:S}=e,{width:T,height:M}=t;let k,L,q,H,se,X;return a==="center"?(se=S+M/2,i==="left"?(k=w,L=k-l,H=se+l,X=se-l):(k=w+T,L=k+l,H=se-l,X=se+l),q=k):(i==="left"?L=w+Math.max(h,g)+l:i==="right"?L=w+T-Math.max(d,_)-l:L=this.caretX,a==="top"?(H=S,se=H-l,k=L-l,q=L+l):(H=S+M,se=H+l,k=L+l,q=L-l),X=H),{x1:k,x2:L,x3:q,y1:H,y2:se,y3:X}}drawTitle(e,t,n){const i=this.title,a=i.length;let l,c,h;if(a){const d=Sc(n.rtl,this.x,this.width);for(e.x=kp(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",l=Yr(n.titleFont),c=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(i[h],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===a&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,t,n,i,a){const l=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:h,boxWidth:d}=a,g=Yr(a.bodyFont),_=kp(this,"left",a),w=i.x(_),S=h<g.lineHeight?(g.lineHeight-h)/2:0,T=t.y+S;if(a.usePointStyle){const M={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=i.leftForLtr(w,d)+d/2,L=T+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,D_(e,M,k,L),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,D_(e,M,k,L)}else{e.lineWidth=Gt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const M=i.leftForLtr(w,d),k=i.leftForLtr(i.xPlus(w,1),d-2),L=Ef(l.borderRadius);Object.values(L).some(q=>q!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,A_(e,{x:M,y:T,w:d,h,radius:L}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),A_(e,{x:k,y:T+1,w:d-2,h:h-2,radius:L}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(M,T,d,h),e.strokeRect(M,T,d,h),e.fillStyle=l.backgroundColor,e.fillRect(k,T+1,d-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:g}=n,_=Yr(n.bodyFont);let w=_.lineHeight,S=0;const T=Sc(n.rtl,this.x,this.width),M=function(I){t.fillText(I,T.x(e.x+S),e.y+w/2),e.y+=w+a},k=T.textAlign(l);let L,q,H,se,X,de,V;for(t.textAlign=l,t.textBaseline="middle",t.font=_.string,e.x=kp(this,k,n),t.fillStyle=n.bodyColor,sn(this.beforeBody,M),S=c&&k!=="right"?l==="center"?d/2+g:d+2+g:0,se=0,de=i.length;se<de;++se){for(L=i[se],q=this.labelTextColors[se],t.fillStyle=q,sn(L.before,M),H=L.lines,c&&H.length&&(this._drawColorBox(t,e,se,T,n),w=Math.max(_.lineHeight,h)),X=0,V=H.length;X<V;++X)M(H[X]),w=_.lineHeight;sn(L.after,M)}S=0,w=_.lineHeight,sn(this.afterBody,M),e.y-=a}drawFooter(e,t,n){const i=this.footer,a=i.length;let l,c;if(a){const h=Sc(n.rtl,this.x,this.width);for(e.x=kp(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=h.textAlign(n.footerAlign),t.textBaseline="middle",l=Yr(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(i[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=e,{width:d,height:g}=n,{topLeft:_,topRight:w,bottomLeft:S,bottomRight:T}=Ef(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+_,h),l==="top"&&this.drawCaret(e,t,n,i),t.lineTo(c+d-w,h),t.quadraticCurveTo(c+d,h,c+d,h+w),l==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(c+d,h+g-T),t.quadraticCurveTo(c+d,h+g,c+d-T,h+g),l==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(c+S,h+g),t.quadraticCurveTo(c,h+g,c,h+g-S),l==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(c,h+_),t.quadraticCurveTo(c,h,c+_,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const l=ff[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=E1(this,e),h=Object.assign({},l,this._size),d=x1(t,e,h),g=S1(e,h,d,t);(i._to!==g.x||a._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ps(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),wk(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Ek(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),a=!Mm(n,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,n),c=this._positionChanged(l,e),h=t||!Mm(l,a)||c;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:n,caretY:i,options:a}=this,l=ff[a.position].call(this,e,t);return l!==!1&&(n!==l.x||i!==l.y)}}Me(M_,"positioners",ff);var aj={id:"tooltip",_element:M_,positioners:ff,afterInit(r,e,t){t&&(r.tooltip=new M_({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Uk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oj=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function lj(r,e,t,n){const i=r.indexOf(e);if(i===-1)return oj(r,e,t,n);const a=r.lastIndexOf(e);return i!==a?t:i}const uj=(r,e)=>r===null?null:us(Math.round(r),0,e);function A1(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class I_ extends nh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:a}of t)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(mn(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:lj(n,e,Ft(t,e),this._addedLabels),uj(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return A1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Me(I_,"id","category"),Me(I_,"defaults",{ticks:{callback:A1}});function cj(r,e){const t=[],{bounds:i,step:a,min:l,max:c,precision:h,count:d,maxTicks:g,maxDigits:_,includeBounds:w}=r,S=a||1,T=g-1,{min:M,max:k}=e,L=!mn(l),q=!mn(c),H=!mn(d),se=(k-M)/(_+1);let X=IT((k-M)/T/S)*S,de,V,I,N;if(X<1e-14&&!L&&!q)return[{value:M},{value:k}];N=Math.ceil(k/X)-Math.floor(M/X),N>T&&(X=IT(N*X/T/S)*S),mn(h)||(de=Math.pow(10,h),X=Math.ceil(X*de)/de),i==="ticks"?(V=Math.floor(M/X)*X,I=Math.ceil(k/X)*X):(V=M,I=k),L&&q&&a&&Q5((c-l)/a,X/1e3)?(N=Math.round(Math.min((c-l)/X,g)),X=(c-l)/N,V=l,I=c):H?(V=L?l:V,I=q?c:I,N=d-1,X=(I-V)/N):(N=(I-V)/X,_f(N,Math.round(N),X/1e3)?N=Math.round(N):N=Math.ceil(N));const U=Math.max(OT(X),OT(V));de=Math.pow(10,mn(h)?U:h),V=Math.round(V*de)/de,I=Math.round(I*de)/de;let z=0;for(L&&(w&&V!==l?(t.push({value:l}),V<l&&z++,_f(Math.round((V+z*X)*de)/de,l,C1(l,se,r))&&z++):V<l&&z++);z<N;++z){const Y=Math.round((V+z*X)*de)/de;if(q&&Y>c)break;t.push({value:Y})}return q&&w&&I!==c?t.length&&_f(t[t.length-1].value,c,C1(c,se,r))?t[t.length-1].value=c:t.push({value:c}):(!q||I===c)&&t.push({value:I}),t}function C1(r,e,{horizontal:t,minRotation:n}){const i=du(n),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+r).length;return Math.min(e/a,l)}class hj extends nh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return mn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const l=h=>i=t?i:h,c=h=>a=n?a:h;if(e){const h=Yc(i),d=Yc(a);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(i===a){let h=a===0?1:Math.abs(a*.05);c(a+h),e||l(i-h)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=cj(i,a);return e.bounds==="ticks"&&$5(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return fk(e,this.chart.options.locale,this.options.ticks.format)}}class O_ extends hj{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ds(e)?e:0,this.max=ds(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=du(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Me(O_,"id","linear"),Me(O_,"defaults",{ticks:{callback:dk.formatters.numeric}});const xg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yi=Object.keys(xg);function k1(r,e){return r-e}function R1(r,e){if(mn(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts;let l=e;return typeof n=="function"&&(l=n(l)),ds(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Vf(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function M1(r,e,t,n){const i=yi.length;for(let a=yi.indexOf(r);a<i-1;++a){const l=xg[yi[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=n)return yi[a]}return yi[i-1]}function fj(r,e,t,n,i){for(let a=yi.length-1;a>=yi.indexOf(t);a--){const l=yi[a];if(xg[l].common&&r._adapter.diff(i,n,l)>=e-1)return l}return yi[t?yi.indexOf(t):0]}function dj(r){for(let e=yi.indexOf(r)+1,t=yi.length;e<t;++e)if(xg[yi[e]].common)return yi[e]}function I1(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=z0(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function pj(r,e,t,n){const i=r._adapter,a=+i.startOf(e[0].value,n),l=e[e.length-1].value;let c,h;for(c=a;c<=l;c=+i.add(c,1,n))h=t[c],h>=0&&(e[h].major=!0);return e}function O1(r,e,t){const n=[],i={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],i[c]=l,n.push({value:c,major:!1});return a===0||!t?n:pj(r,n,i,t)}class Bm extends nh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new A9._date(e.adapters.date);i.init(t),vf(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:R1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=ds(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=ds(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,c=nU(i,a,l);return this._unit=t.unit||(n.autoSkip?M1(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):fj(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:dj(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),O1(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=us(t,0,l),n=us(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,l=a.unit||M1(a.minUnit,t,n,this._getLabelCapacity(t)),c=Ft(i.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=Vf(h)||h===!0,g={};let _=t,w,S;if(d&&(_=+e.startOf(_,"isoWeek",h)),_=+e.startOf(_,d?"day":l),e.diff(n,t,l)>1e5*c)throw new Error(t+" and "+n+" are too far apart with stepSize of "+c+" "+l);const T=i.ticks.source==="data"&&this.getDataTimestamps();for(w=_,S=0;w<n;w=+e.add(w,c,l),S++)I1(g,w,T);return(w===n||i.bounds==="ticks"||S===1)&&I1(g,w,T),Object.keys(g).sort(k1).map(M=>+M)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,n,i){const a=this.options,l=a.ticks.callback;if(l)return yn(l,[e,t,n],this);const c=a.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&c[h],_=d&&c[d],w=n[t],S=d&&_&&w&&w.major;return this._adapter.format(e,i||(S?_:g))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=du(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*l,h:n*l+c*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,O1(this,[e],this._majorUnit),i),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(R1(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iU(e.sort(k1))}}Me(Bm,"id","time"),Me(Bm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Rp(r,e,t){let n=0,i=r.length-1,a,l,c,h;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=pu(r,"pos",e)),{pos:a,time:c}=r[n],{pos:l,time:h}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=pu(r,"time",e)),{time:a,pos:c}=r[n],{time:l,pos:h}=r[i]);const d=l-a;return d?c+(h-c)*(e-a)/d:c}class P1 extends Bm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Rp(t,this.min),this._tableRange=Rp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],a=[];let l,c,h,d,g;for(l=0,c=e.length;l<c;++l)d=e[l],d>=t&&d<=n&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,c=i.length;l<c;++l)g=i[l+1],h=i[l-1],d=i[l],Math.round((g+h)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Rp(this._table,n*this._tableRange+this._minPos,!0)}}Me(P1,"id","timeseries"),Me(P1,"defaults",Bm.defaults);const Fk="label";function N1(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function mj(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function jk(r,e){r.labels=e}function zk(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fk;const n=[];r.datasets=e.map(i=>{const a=r.datasets.find(l=>l[t]===i[t]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function gj(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fk;const t={labels:[],datasets:[]};return jk(t,r.labels),zk(t,r.datasets,e),t}function yj(r,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:d=[],fallbackContent:g,updateMode:_,...w}=r,S=K.useRef(null),T=K.useRef(null),M=()=>{S.current&&(T.current=new Eg(S.current,{type:l,data:gj(c,a),options:h&&{...h},plugins:d}),N1(e,T.current))},k=()=>{N1(e,null),T.current&&(T.current.destroy(),T.current=null)};return K.useEffect(()=>{!i&&T.current&&h&&mj(T.current,h)},[i,h]),K.useEffect(()=>{!i&&T.current&&jk(T.current.config.data,c.labels)},[i,c.labels]),K.useEffect(()=>{!i&&T.current&&c.datasets&&zk(T.current.config.data,c.datasets,a)},[i,c.datasets]),K.useEffect(()=>{T.current&&(i?(k(),setTimeout(M)):T.current.update(_))},[i,h,c.labels,c.datasets,_]),K.useEffect(()=>{T.current&&(k(),setTimeout(M))},[l]),K.useEffect(()=>(M(),()=>k()),[]),Se.createElement("canvas",{ref:S,role:"img",height:t,width:n,...w},g)}const vj=K.forwardRef(yj);function _j(r,e){return Eg.register(e),K.forwardRef((t,n)=>Se.createElement(vj,{...t,ref:n,type:r}))}const bj=_j("line",Gp);Eg.register(I_,O_,Xp,hf,ZF,aj,$F);function wj({onClose:r}){const e=Pt(T=>T.workoutHistory),t=Pt(T=>T.exercises),n=Pt(T=>T.initWorkoutHistory),[i,a]=K.useState(""),[l,c]=K.useState("weight"),[h,d]=K.useState(null),[g,_]=K.useState(null);K.useEffect(()=>{n(),t.length>0&&!i&&a(t[0].id)},[n,t,i]);const w=K.useMemo(()=>{var q;if(!i)return{labels:[],datasets:[]};const T=[];e.forEach(H=>{h&&new Date(H.date)<h||g&&new Date(H.date)>g||H.exercises.forEach(se=>{se.exerciseId===i&&se.loggedSets.forEach(X=>{if(!X.parentSetId){let de=0;l==="weight"?de=X.weight:l==="reps"?de=X.reps:l==="volume"&&(de=X.weight*X.reps),T.push({date:H.date,value:de,setType:l,isPB:!!X.isPersonalBest})}})})}),T.sort((H,se)=>new Date(H.date)-new Date(se.date));const M=T.map(H=>H.date),k=T.map(H=>H.value);T.map((H,se)=>H.isPB?se:null).filter(H=>H!==null);const L=((q=t.find(H=>H.id===i))==null?void 0:q.name)||"Selected Exercise";return{labels:M,datasets:[{label:`${L} - ${l==="weight"?"Weight (kg)":l==="reps"?"Reps":"Volume (kg*reps)"}`,data:k,borderColor:l==="weight"?"rgb(75, 192, 192)":l==="reps"?"rgb(153, 102, 255)":"rgb(255, 205, 86)",backgroundColor:l==="weight"?"rgba(75, 192, 192, 0.5)":l==="reps"?"rgba(153, 102, 255, 0.5)":"rgba(255, 205, 86, 0.5)",tension:.1,fill:!1,pointBackgroundColor:T.map(H=>H.isPB?"#FFD700":void 0),pointRadius:T.map(H=>H.isPB?7:4)}]}},[i,l,e,t,h,g]),S={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Exercise Progress Over Time"}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:l==="weight"?"Weight (kg)":l==="reps"?"Reps":"Volume (kg*reps)"},beginAtZero:!0}}};return J.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-xl max-w-4xl mx-auto my-8",children:[J.jsxs("div",{className:"flex justify-between items-center mb-6",children:[J.jsx("h2",{className:"text-3xl font-bold text-indigo-700",children:"Exercise Progress"}),r&&J.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg shadow",onClick:r,children:"Close History"})]}),J.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[J.jsx("label",{htmlFor:"exercise-select",className:"font-semibold text-gray-700",children:"Select Exercise:"}),J.jsx("select",{id:"exercise-select",className:"border p-2 rounded-md bg-white min-w-[150px]",value:i,onChange:T=>a(T.target.value),children:t.length===0?J.jsx("option",{value:"",children:"No exercises added yet"}):J.jsxs(J.Fragment,{children:[J.jsx("option",{value:"",children:"-- Choose Exercise --"}),t.map(T=>J.jsx("option",{value:T.id,children:T.name},T.id))]})}),J.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 p-1 rounded-md",children:[J.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${l==="weight"?"bg-indigo-500 text-white":"text-gray-700 hover:bg-gray-200"}`,onClick:()=>c("weight"),children:"Weight"}),J.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${l==="reps"?"bg-indigo-500 text-white":"text-gray-700 hover:bg-gray-200"}`,onClick:()=>c("reps"),children:"Reps"}),J.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${l==="volume"?"bg-indigo-500 text-white":"text-gray-700 hover:bg-gray-200"}`,onClick:()=>c("volume"),children:"Volume"})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("span",{className:"font-semibold text-gray-700",children:"Date Range:"}),J.jsx(ST,{selected:h,onChange:T=>d(T),selectsStart:!0,startDate:h,endDate:g,placeholderText:"Start Date",className:"border p-2 rounded-md",isClearable:!0}),J.jsx("span",{children:"-"}),J.jsx(ST,{selected:g,onChange:T=>_(T),selectsEnd:!0,startDate:h,endDate:g,minDate:h,placeholderText:"End Date",className:"border p-2 rounded-md",isClearable:!0})]})]}),i&&t.length>0&&e.length>0&&w.labels.length>0?J.jsxs("div",{className:"relative h-[400px] w-full",children:[" ",J.jsx(bj,{data:w,options:S})]}):J.jsx("p",{className:"text-gray-600 text-center",children:i&&w.labels.length===0?"No logged sets found for this exercise.":"Please select an exercise to view its progress."})]})}function Hv(r){if(!r||!r.length)return"";const e=Object.keys(r[0]),t=[e.join(",")];for(const n of r)t.push(e.map(i=>JSON.stringify(n[i]??"")).join(","));return t.join(`
`)}function Yv(r,e){const t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function Ej({onClose:r}){const e=Pt(h=>h.settings),t=Pt(h=>h.setSetting),n=Pt(h=>h.workoutHistory),i=Pt(h=>h.exercises),a=Pt(h=>h.workoutTemplates),l=h=>{const d=parseInt(h.target.value,10);!isNaN(d)&&d>=0&&t("defaultRestTime",d)},c=()=>{n&&n.length&&Yv("workout_history.csv",Hv(n)),i&&i.length&&Yv("exercises.csv",Hv(i)),a&&a.length&&Yv("workout_templates.csv",Hv(a)),alert("Export complete!")};return J.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-xl max-w-2xl mx-auto my-8",children:[J.jsxs("div",{className:"flex justify-between items-center mb-6",children:[J.jsx("h2",{className:"text-3xl font-bold text-indigo-700",children:"Settings"}),r&&J.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg shadow",onClick:r,children:"Close"})]}),J.jsxs("div",{className:"space-y-6",children:[J.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-md border border-gray-200",children:[J.jsx("label",{htmlFor:"defaultRestTime",className:"text-lg font-medium text-gray-800 flex-grow",children:"Default Rest Time (seconds)"}),J.jsx("input",{id:"defaultRestTime",type:"number",min:"0",className:"border p-2 rounded-md w-24 text-center text-lg",value:e.defaultRestTime,onChange:l})]}),J.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-md border border-gray-200",children:[J.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Export your data"}),J.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow",onClick:c,children:"Export Data (CSV)"})]})]})]})}function xj({user:r}){const e=Pt(U=>U.workoutTemplates),t=Pt(U=>U.initExercises),n=Pt(U=>U.initWorkoutTemplates),i=Pt(U=>U.initWorkoutHistory),a=Pt(U=>U.initSettings),l=Pt(U=>U.removeWorkoutTemplate),[c,h]=K.useState(!1),[d,g]=K.useState(!1),[_,w]=K.useState(null),[S,T]=K.useState(!1),[M,k]=K.useState(!1);K.useEffect(()=>{t(),n(),i(),a()},[t,n,i,a]);const L=()=>{T(!1),k(!1),g(!1),h(!0)},q=()=>h(!1),H=()=>{T(!1),k(!1),h(!1),g(!0)},se=()=>g(!1),X=U=>{T(!1),k(!1),w(U)},de=()=>{w(null)},V=()=>{h(!1),k(!1),T(!0)},I=()=>{h(!1),T(!1),k(!0)},N=async(U,z)=>{window.confirm(`Are you sure you want to delete the workout template "${z}"?
This will also delete all associated workout sessions from history.`)&&await l(U)};return _?J.jsx(H4,{templateId:_,onClose:de,user:r}):S?J.jsx(wj,{onClose:()=>T(!1)}):M?J.jsx(Ej,{onClose:()=>k(!1)}):J.jsxs("div",{className:"bg-transparent w-full p-4 md:p-6 lg:p-8",children:[J.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[J.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Workouts"}),J.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[J.jsx("button",{className:"btn btn-primary w-full sm:w-auto",onClick:V,children:"View History"}),J.jsx("button",{className:"btn btn-secondary w-full sm:w-auto",onClick:I,children:"Settings"}),J.jsx("button",{className:"btn btn-info w-full sm:w-auto",onClick:H,children:"Manage Exercises"})]})]}),e.length===0?J.jsx("p",{className:"text-gray-400 text-center py-10",children:"No workouts created yet. Click the '+' button to build one!"}):J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(U=>J.jsxs("div",{className:"bg-gray-900 p-5 rounded-xl shadow-halo",children:[J.jsxs("div",{className:"mb-5",children:[J.jsx("h3",{className:"text-xl font-semibold text-indigo-400",children:U.name}),J.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[U.exercises.length," exercises planned"]})]}),J.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[J.jsx("button",{className:"btn btn-success w-full sm:w-auto",onClick:()=>X(U.id),children:"Start Workout"}),J.jsx("button",{className:"btn btn-danger w-full sm:w-auto",onClick:()=>N(U.id,U.name),children:"Delete"})]})]},U.id))}),J.jsx("button",{onClick:L,className:"fixed bottom-6 right-6 bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:ring-offset-2 focus:ring-offset-gray-900","aria-label":"Create new workout template",children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c&&J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:J.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl border border-gray-700/50",children:[J.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-200 text-2xl transition-colors",onClick:q,children:"×"}),J.jsx(j4,{user:r,onClose:q})]})}),d&&J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:J.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl border border-gray-700/50",children:[J.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-200 text-2xl transition-colors",onClick:se,children:"×"}),J.jsx(_C,{user:r})]})})]})}function J0(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sj=Hk,Yk=new qf("auth","Firebase",Hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new Y_("@firebase/auth");function Tj(r,...e){Um.logLevel<=Ot.WARN&&Um.warn(`Auth (${$c}): ${r}`,...e)}function Zp(r,...e){Um.logLevel<=Ot.ERROR&&Um.error(`Auth (${$c}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r,...e){throw tb(r,...e)}function Bs(r,...e){return tb(r,...e)}function eb(r,e,t){const n=Object.assign(Object.assign({},Sj()),{[e]:t});return new qf("auth","Firebase",n).create(e,{appName:r.name})}function bu(r){return eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dj(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ea(r,"argument-error"),eb(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Yk.create(r,...e)}function mt(r,e,...t){if(!r)throw tb(e,...t)}function eo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zp(e),new Error(e)}function po(r,e){r||eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Aj(){return L1()==="http:"||L1()==="https:"}function L1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aj()||QO()||"connection"in navigator)?navigator.onLine:!0}function kj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.shortDelay=e,this.longDelay=t,po(t>e,"Short delay should be less than long delay!"),this.isMobile=WO()||$O()}get(){return Cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r,e){po(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ij=new nd(3e4,6e4);function rb(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function rh(r,e,t,n,i={}){return Wk(r,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=Wf(Object.assign({key:r.config.apiKey},l)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:h},a);return GO()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&Qc(r.emulatorConfig.host)&&(d.credentials="include"),qk.fetch()(await Kk(r,r.config.apiHost,t,c),d)})}async function Wk(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},Rj),e);try{const i=new Pj(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Mp(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Mp(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Mp(r,"user-disabled",l);const g=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eb(r,g,d);Ea(r,g)}}catch(i){if(i instanceof go)throw i;Ea(r,"network-request-failed",{message:String(i)})}}async function Oj(r,e,t,n,i={}){const a=await rh(r,e,t,n,i);return"mfaPendingCredential"in a&&Ea(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function Kk(r,e,t,n){const i=`${e}${t}?${n}`,a=r,l=a.config.emulator?nb(r.config,i):`${r.config.apiScheme}://${i}`;return Mj.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class Pj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Bs(this.auth,"network-request-failed")),Ij.get())})}}function Mp(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Bs(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(r,e){return rh(r,"POST","/v1/accounts:delete",e)}async function Fm(r,e){return rh(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lj(r,e=!1){const t=Ni(r),n=await t.getIdToken(e),i=ib(n);mt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Sf(qv(i.auth_time)),issuedAtTime:Sf(qv(i.iat)),expirationTime:Sf(qv(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qv(r){return Number(r)*1e3}function ib(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Zp("JWT malformed, contained fewer than 3 sections"),null;try{const i=wD(t);return i?JSON.parse(i):(Zp("Failed to decode base64 JWT payload"),null)}catch(i){return Zp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V1(r){const e=ib(r);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof go&&Vj(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function Vj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sf(this.lastLoginAt),this.creationTime=Sf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(r){var e;const t=r.auth,n=await r.getIdToken(),i=await jf(r,Fm(t,{idToken:n}));mt(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Gk(a.providerUserInfo):[],c=Fj(r.providerData,l),h=r.isAnonymous,d=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new N_(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function Uj(r){const e=Ni(r);await jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fj(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Gk(r){return r.map(e=>{var{providerId:t}=e,n=J0(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(r,e){const t=await Wk(r,{},async()=>{const n=Wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,l=await Kk(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return r.emulatorConfig&&Qc(r.emulatorConfig.host)&&(h.credentials="include"),qk.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zj(r,e){return rh(r,"POST","/v2/accounts:revokeToken",rb(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=V1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await jj(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,l=new Tc;return n&&(mt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(mt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(mt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tc,this.toJSON())}_performRefresh(){return eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(r,e){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=J0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await jf(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Lj(this,e)}reload(){return Uj(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await jm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(bu(this.auth));const e=await this.getIdToken();return await jf(this,Nj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,l,c,h,d,g;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(d=t.createdAt)!==null&&d!==void 0?d:void 0,q=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:se,isAnonymous:X,providerData:de,stsTokenManager:V}=t;mt(H&&V,e,"internal-error");const I=Tc.fromJSON(this.name,V);mt(typeof H=="string",e,"internal-error"),il(_,e.name),il(w,e.name),mt(typeof se=="boolean",e,"internal-error"),mt(typeof X=="boolean",e,"internal-error"),il(S,e.name),il(T,e.name),il(M,e.name),il(k,e.name),il(L,e.name),il(q,e.name);const N=new Ls({uid:H,auth:e,email:w,emailVerified:se,displayName:_,isAnonymous:X,photoURL:T,phoneNumber:S,tenantId:M,stsTokenManager:I,createdAt:L,lastLoginAt:q});return de&&Array.isArray(de)&&(N.providerData=de.map(U=>Object.assign({},U))),k&&(N._redirectEventId=k),N}static async _fromIdTokenResponse(e,t,n=!1){const i=new Tc;i.updateFromServerResponse(t);const a=new Ls({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jm(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];mt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Gk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Tc;c.updateFromIdToken(n);const h=new Ls({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new N_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function to(r){po(r instanceof Function,"Expected a class definition");let e=B1.get(r);return e?(po(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,B1.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qk.type="NONE";const U1=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e,t){return`firebase:${r}:${e}:${t}`}class Dc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Jp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Jp("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fm(this.auth,{idToken:e}).catch(()=>{});return t?Ls._fromGetAccountInfoResponse(this.auth,t,e):null}return Ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Dc(to(U1),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||to(U1);const l=Jp(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(l);if(g){let _;if(typeof g=="string"){const w=await Fm(e,{idToken:g}).catch(()=>{});if(!w)break;_=await Ls._fromGetAccountInfoResponse(e,w,g)}else _=Ls._fromJSON(e,g);d!==a&&(c=_),a=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Dc(a,e,n):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new Dc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($k(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tR(e))return"Blackberry";if(nR(e))return"Webos";if(Xk(e))return"Safari";if((e.includes("chrome/")||Zk(e))&&!e.includes("edge/"))return"Chrome";if(eR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $k(r=qr()){return/firefox\//i.test(r)}function Xk(r=qr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zk(r=qr()){return/crios\//i.test(r)}function Jk(r=qr()){return/iemobile/i.test(r)}function eR(r=qr()){return/android/i.test(r)}function tR(r=qr()){return/blackberry/i.test(r)}function nR(r=qr()){return/webos/i.test(r)}function sb(r=qr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Hj(r=qr()){var e;return sb(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yj(){return XO()&&document.documentMode===10}function rR(r=qr()){return sb(r)||eR(r)||nR(r)||tR(r)||/windows phone/i.test(r)||Jk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r,e=[]){let t;switch(r){case"Browser":t=F1(qr());break;case"Worker":t=`${F1(qr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$c}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(r,e={}){return rh(r,"GET","/v2/passwordPolicy",rb(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=6;class Gj{constructor(e){var t,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Kj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new qj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fm(this,{idToken:e}),n=await Ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Os(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(bu(this));const t=e?Ni(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(bu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(bu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wj(this),t=new Gj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await zj(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&to(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[to(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Tj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sg(r){return Ni(r)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=s2(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $j(r){ab=r}function Xj(r){return ab.loadJS(r)}function Zj(){return ab.gapiScript}function Jj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(r,e){const t=W_(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(wu(a,e??{}))return i;Ea(i,"already-initialized")}return t.initialize({options:e})}function tz(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(to);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function nz(r,e,t){const n=Sg(r);mt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=sR(e),{host:l,port:c}=rz(e),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){mt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),mt(wu(d,n.config.emulator)&&wu(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,Qc(l)?(TD(`${a}//${l}${h}`),DD("Auth",!0)):iz()}function sR(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rz(r){const e=sR(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:z1(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:z1(l)}}}function z1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iz(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eo("not implemented")}_getIdTokenResponse(e){return eo("not implemented")}_linkToIdToken(e,t){return eo("not implemented")}_getReauthenticationResolver(e){return eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(r,e){return Oj(r,"POST","/v1/accounts:signInWithIdp",rb(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="http://localhost";class ku extends aR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ea("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=J0(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new ku(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ac(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ac(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ac(e,t)}buildRequest(){const e={requestUri:sz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends rd{constructor(){super("facebook.com")}static credential(e){return ku._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.FACEBOOK_SIGN_IN_METHOD="facebook.com";ol.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ku._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ja.credential(t,n)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends rd{constructor(){super("github.com")}static credential(e){return ku._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch{return null}}}ll.GITHUB_SIGN_IN_METHOD="github.com";ll.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends rd{constructor(){super("twitter.com")}static credential(e,t){return ku._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ul.credential(t,n)}catch{return null}}}ul.TWITTER_SIGN_IN_METHOD="twitter.com";ul.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await Ls._fromIdTokenResponse(e,n,i),l=H1(n);return new Kc({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=H1(n);return new Kc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function H1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends go{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new zm(e,t,n,i)}}function oR(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(r,a,e,n):a})}async function az(r,e,t=!1){const n=await jf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Kc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(r,e,t=!1){const{auth:n}=r;if(Os(n.app))return Promise.reject(bu(n));const i="reauthenticate";try{const a=await jf(r,oR(n,i,e,r),t);mt(a.idToken,n,"internal-error");const l=ib(a.idToken);mt(l,n,"internal-error");const{sub:c}=l;return mt(r.uid===c,n,"user-mismatch"),Kc._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ea(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(r,e,t=!1){if(Os(r.app))return Promise.reject(bu(r));const n="signIn",i=await oR(r,n,e),a=await Kc._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}function uz(r,e,t,n){return Ni(r).onIdTokenChanged(e,t,n)}function cz(r,e,t){return Ni(r).beforeAuthStateChanged(e,t)}function hz(r,e,t,n){return Ni(r).onAuthStateChanged(e,t,n)}function fz(r){return Ni(r).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=1e3,pz=10;class uR extends lR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);Yj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pz):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uR.type="LOCAL";const mz=uR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends lR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cR.type="SESSION";const hR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Tg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async d=>d(t.origin,a)),h=await gz(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=lb("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function vz(r){ya().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function _z(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bz(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function wz(){return fR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",Ez=1,Ym="firebaseLocalStorage",pR="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dg(r,e){return r.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function xz(){const r=indexedDB.deleteDatabase(dR);return new id(r).toPromise()}function L_(){const r=indexedDB.open(dR,Ez);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Ym,{keyPath:pR})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Ym)?e(n):(n.close(),await xz(),e(await L_()))})})}async function Y1(r,e,t){const n=Dg(r,!0).put({[pR]:e,value:t});return new id(n).toPromise()}async function Sz(r,e){const t=Dg(r,!1).get(e),n=await new id(t).toPromise();return n===void 0?null:n.value}function q1(r,e){const t=Dg(r,!0).delete(e);return new id(t).toPromise()}const Tz=800,Dz=3;class mR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Dz)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(wz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _z(),!this.activeServiceWorker)return;this.sender=new yz(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L_();return await Y1(e,Hm,"1"),await q1(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Sz(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Dg(i,!1).getAll();return new id(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mR.type="LOCAL";const Az=mR;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r,e){return e?to(e):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends aR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cz(r){return lz(r.auth,new ub(r),r.bypassAuthState)}function kz(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),oz(t,new ub(r),r.bypassAuthState)}async function Rz(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),az(t,new ub(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cz;case"linkViaPopup":case"linkViaRedirect":return Rz;case"reauthViaPopup":case"reauthViaRedirect":return kz;default:Ea(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new nd(2e3,1e4);async function Iz(r,e,t){if(Os(r.app))return Promise.reject(Bs(r,"operation-not-supported-in-this-environment"));const n=Sg(r);Dj(r,e,ob);const i=gR(n,t);return new mu(n,"signInViaPopup",e,i).executeNotNull()}class mu extends yR{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,mu.currentPopupAction&&mu.currentPopupAction.cancel(),mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){po(this.filter.length===1,"Popup operations only handle one event");const e=lb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}mu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="pendingRedirect",em=new Map;class Pz extends yR{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=em.get(this.auth._key());if(!e){try{const n=await Nz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}em.set(this.auth._key(),e)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nz(r,e){const t=Bz(e),n=Vz(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function Lz(r,e){em.set(r._key(),e)}function Vz(r){return to(r._redirectPersistence)}function Bz(r){return Jp(Oz,r.config.apiKey,r.name)}async function Uz(r,e,t=!1){if(Os(r.app))return Promise.reject(bu(r));const n=Sg(r),i=gR(n,e),l=await new Pz(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=10*60*1e3;class jz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(W1(e))}saveEventToCache(e){this.cachedEventUids.add(W1(e)),this.lastProcessedEventTime=Date.now()}}function W1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function vR({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zz(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(r,e={}){return rh(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qz=/^https?/;async function Wz(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Hz(r);for(const t of e)try{if(Kz(t))return}catch{}Ea(r,"unauthorized-domain")}function Kz(r){const e=P_(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!qz.test(t))return!1;if(Yz.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new nd(3e4,6e4);function K1(){const r=ya().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Qz(r){return new Promise((e,t)=>{var n,i,a;function l(){K1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K1(),t(Bs(r,"network-request-failed"))},timeout:Gz.get()})}if(!((i=(n=ya().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ya().gapi)===null||a===void 0)&&a.load)l();else{const c=Jj("iframefcb");return ya()[c]=()=>{gapi.load?l():t(Bs(r,"network-request-failed"))},Xj(`${Zj()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw tm=null,e})}let tm=null;function $z(r){return tm=tm||Qz(r),tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new nd(5e3,15e3),Zz="__/auth/iframe",Jz="emulator/auth/iframe",eH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nH(r){const e=r.config;mt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?nb(e,Jz):`https://${r.config.authDomain}/${Zz}`,n={apiKey:e.apiKey,appName:r.name,v:$c},i=tH.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Wf(n).slice(1)}`}async function rH(r){const e=await $z(r),t=ya().gapi;return mt(t,r,"internal-error"),e.open({where:document.body,url:nH(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eH,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=Bs(r,"network-request-failed"),c=ya().setTimeout(()=>{a(l)},Xz.get());function h(){ya().clearTimeout(c),i(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sH=500,aH=600,oH="_blank",lH="http://localhost";class G1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uH(r,e,t,n=sH,i=aH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},iH),{width:n.toString(),height:i.toString(),top:a,left:l}),d=qr().toLowerCase();t&&(c=Zk(d)?oH:t),$k(d)&&(e=e||lH,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[S,T])=>`${w}${S}=${T},`,"");if(Hj(d)&&c!=="_self")return cH(e||"",c),new G1(null);const _=window.open(e||"",c,g);mt(_,r,"popup-blocked");try{_.focus()}catch{}return new G1(_)}function cH(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="__/auth/handler",fH="emulator/auth/handler",dH=encodeURIComponent("fac");async function Q1(r,e,t,n,i,a){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:$c,eventId:i};if(e instanceof ob){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",i2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof rd){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await r._getAppCheckToken(),d=h?`#${dH}=${encodeURIComponent(h)}`:"";return`${pH(r)}?${Wf(c).slice(1)}${d}`}function pH({config:r}){return r.emulator?nb(r,fH):`https://${r.authDomain}/${hH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="webStorageSupport";class mH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hR,this._completeRedirectFn=Uz,this._overrideRedirectResult=Lz}async _openPopup(e,t,n,i){var a;po((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Q1(e,t,n,P_(),i);return uH(e,l,lb())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await Q1(e,t,n,P_(),i);return vz(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(po(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await rH(e),n=new jz(e);return t.register("authEvent",i=>(mt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wv,{type:Wv},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Wv];l!==void 0&&t(!!l),Ea(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Wz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rR()||Xk()||sb()}}const gH=mH;var $1="@firebase/auth",X1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _H(r){Cc(new Eu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;mt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(r)},d=new Qj(n,i,a,h);return tz(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Cc(new Eu("auth-internal",e=>{const t=Sg(e.getProvider("auth").getImmediate());return(n=>new yH(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ml($1,X1,vH(r)),ml($1,X1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=5*60,wH=SD("authIdTokenMaxAge")||bH;let Z1=null;const EH=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wH)return;const i=t==null?void 0:t.token;Z1!==i&&(Z1=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xH(r=RD()){const e=W_(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ez(r,{popupRedirectResolver:gH,persistence:[Az,mz,hR]}),n=SD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=EH(a.toString());cz(t,l,()=>l(t.currentUser)),uz(t,c=>l(c))}}const i=ED("auth");return i&&nz(t,`http://${i}`),t}function SH(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}$j({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Bs("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",SH().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_H("Browser");const cb=xH(pC),TH=new Ja;function DH(){return Iz(cb,TH)}function AH(){return fz(cb)}function CH(r){return hz(cb,r)}function kH(){return J.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-950 text-white",children:[J.jsx("h1",{className:"text-4xl font-bold mb-6",children:"FitNotes"}),J.jsx("button",{onClick:DH,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded shadow",children:"Sign in with Google"})]})}function RH(){const[r,e]=K.useState(null),[t,n]=K.useState(!0);return K.useEffect(()=>{const i=CH(e);return()=>i()},[]),K.useEffect(()=>{r?(n(!0),Pt.getState().clearAll(),IO().then(()=>{Promise.all([vC(r.uid,i=>{Pt.getState().setWorkoutHistory(i)}),L4(r.uid,i=>{Pt.getState().setExercises(i)}),U4(r.uid,i=>{Pt.getState().setWorkoutTemplates(i)})]).then(()=>{n(!1)}).catch(i=>{console.error("Error syncing from Firebase:",i),n(!1)})})):n(!1)},[r]),r?t?J.jsx("div",{className:"text-center mt-10 text-lg",children:"Loading your data..."}):J.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-100 font-sans",children:[J.jsx("header",{className:"bg-gray-900 text-white p-6 shadow-2xl border-b border-gray-800",children:J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{children:[J.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-white",children:"FitNotes"}),J.jsx("p",{className:"text-gray-400 text-sm",children:"Track your fitness journey"})]}),J.jsxs("div",{className:"flex items-center gap-4",children:[J.jsx("img",{src:r.photoURL,alt:"avatar",className:"w-8 h-8 rounded-full"}),J.jsx("span",{children:r.displayName}),J.jsx("button",{onClick:AH,className:"bg-gray-700 hover:bg-gray-800 text-white font-bold py-1 px-3 rounded",children:"Sign out"})]})]})}),J.jsx("main",{children:J.jsx(xj,{user:r})})]}):J.jsx(kH,{})}const MH="/WorkoutTrack/";WM.createRoot(document.getElementById("root")).render(J.jsx(K.StrictMode,{children:J.jsx(oO,{basename:MH,children:J.jsx(RH,{})})}));
